<form
  class="multisteps-form__form"
  [formGroup]="referenceCheckForm"
  *ngIf="referenceCheckForm"
>
  <div class="multisteps-form__panel js-active" data-animation="scaleIn">
    <h4 class="title">{{ labels.referenceCheckTitle }}</h4>
    <div class="row">
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="person_name">{{ labels.personName }}</label>
        <!-- <input type="text" class="form-control" id="person_name"> -->
        <app-custom-input
          id="person_name"
          formControlName="nameOfReference"
          placeholder="name of the person"
          [type]="labels?.validationData?.name?.type"
          [isRequired]="'Name is required'"
          [maxLength]="labels?.validationData?.name?.maxLength"
          [isDirty]="isDirty"
        >
        </app-custom-input>
      </div>
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="address_of_the_person">{{
          labels.addressOfThePerson
        }}</label>
        <!-- <input type="text" class="form-control" id="address_of_the_person"> -->
        <app-custom-input
          id="address_of_the_person"
          formControlName="addressOfReference"
          placeholder="address"
          [isRequired]="'Address is required'"
          [maxLength]="validationData?.fullName?.maxLength"
          [isDirty]="isDirty"
        >
        </app-custom-input>
      </div>
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="contact_number">{{ labels.contactNumber }}</label>
        <!-- <input type="text" class="form-control" id="contact_number"> -->
        <!-- <app-custom-input id="contact_number" formControlName="referenceMobile" [patternCheck]="mobileNumberPattern" [isRequired]="'contact number is required'" [maxLength]="maxlength10" [isDirty]="isDirty">
                </app-custom-input> -->
        <app-custom-input
          id="contact_number"
          placeholder="contact number"
          [type]="labels?.validationData?.mobileNumber?.type"
          formControlName="referenceMobile"
          [patternCheck]="labels?.validationData?.mobileNumber?.pattern"
          [isRequired]="'Mobile number is required'"
          [maxLength]="labels?.validationData?.mobileNumber?.maxLength"
          [isDirty]="isDirty"
        >
        </app-custom-input>
      </div>
    </div>
    <div class="row">
      <!-- <div class="form-group col-sm-6 col-md-3 col-lg-3">
                <label for="Signature">{{labels.signature}}</label>
                <input type="file" id="file">
            </div> -->
      <!-- <div class="form-group col-sm-6 col-md-3 col-lg-3" hidden="true">
                <label for="so_name">{{labels.soName}}</label>
                
                <app-custom-input id="so_name" formControlName="soName" [isDisabled]='true' [maxLength]="maxlength30" [isDirty]="isDirty">
                </app-custom-input>
            </div>
            <div class="form-group col-sm-6 col-md-3 col-lg-3" hidden="true">
                <label for="employee_code">{{labels.employeeCode}} </label>
                
                <app-custom-input id="employee_code" formControlName="employeeCode" [isDisabled]='true' [isDirty]="isDirty">
                </app-custom-input>
            </div> -->
      <!-- <div class="form-group col-sm-6 col-md-3 col-lg-3">
                <label for="date">{{labels.date}}</label>
                <div class="input-group input-medium"> -->
      <!-- <span class="input-group-btn">
                        <button class="btn btn-default"> <i class="fa fa-calendar"></i> </button>
                    </span> -->
      <!-- <input type="date" class="form-control date_caps" id="date"> -->
      <!-- </div> -->
      <!-- <kendo-datepicker width="100%" class="form-control mandatory" formControlName="date" [format]="'dd/MM/yyyy'" [max]="toDayDate" placeholder="dd/mm/yyyy" [activeView]="'decade'">
                </kendo-datepicker> -->

      <!-- </div> -->
      <!-- <div class="form-group col-sm-6 col-md-3 col-lg-3">
                <label for="place">{{labels.place}}</label> -->
      <!-- <input type="text" class="form-control" id="place"> -->
      <!-- <app-custom-input id="place" formControlName="place" [patternCheck]="namePattern" [isRequired]="'Name is required'" [maxLength]="maxlength30" [isDirty]="isDirty">
                </app-custom-input> -->
      <!-- </div> -->
      <!-- <div class="form-group col-sm-6 col-md-3 col-lg-3">
                <label for="time">{{labels.time}}</label>
                <div class='input-group date' id='datetimepicker3'>
                    <input type='text' class="form-control" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-time"></span>
                    </span>
                </div> -->
      <!-- <kendo-timepicker class="form-control mandatory" formControlName="time" [format]="'hh:mm a'">
                </kendo-timepicker> -->
      <!-- </div> -->
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="mobile">{{ labels.longitude }}</label>
        <input
          type="text"
          class="form-control"
          id="negativeProfile"
          formControlName="longitude"
        />
      </div>
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="mobile">{{ labels.latitude }}</label>
        <input
          type="text"
          class="form-control"
          id="negativeProfile"
          formControlName="latitude"
        />
      </div>
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="mobile">{{ labels.distFromBranch }}</label>
        <input
          type="text"
          class="form-control"
          id="negativeProfile"
          formControlName="distanceFromBranch"
        />
      </div>
    </div>
    <div class="row">
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="mobile">{{ labels.negativeProfile }}</label>
        <app-vf-custom-select
          [values]="[
            { key: '0', value: 'Yes' },
            { key: '1', value: 'No' }
          ]"
          formControlName="negativeProfile"
        >
        </app-vf-custom-select>
      </div>

      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="overall_report">{{ labels.overallReport }}</label>
        <!-- <select class="form-control" formControlName="overallFiReport">
                    <option>Select</option>
                    <option value="Positive">Positive</option>
                    <option value="Negative">Negative</option>
                </select> -->
        <app-vf-custom-select
          [values]="[
            { key: '0', value: 'Positive' },
            { key: '1', value: 'Negative' }
          ]"
          formControlName="overallFiReport"
        >
        </app-vf-custom-select>
      </div>
      <div class="form-group col-sm-6 col-md-3 col-lg-3">
        <label for="remarks">{{ labels.referenceRemarks }}</label>
        <!-- <input type="text" class="form-control" id="remarks"> -->
        <!-- <app-custom-input id="remarks" formControlName="pdRemarks" [patternCheck]="namePattern" [isRequired]="'remarks are required'" [maxLength]="maxlength30" [isDirty]="isDirty">
                </app-custom-input> -->
        <textarea
          class="form-control mandatory"
          name="pdRemarks"
          id="pdRemarks"
          cols="1"
          rows="3"
          placeholder="remarks"
          formControlName="pdRemarks"
          maxlength="120"
          style="resize: none;"
        ></textarea>

        <div
          class="invalid-feedback"
          *ngIf="
            referenceCheckForm.controls['pdRemarks'].touched &&
            !referenceCheckForm.controls['pdRemarks'].vaild
          "
        >
          <div
            *ngIf="
              referenceCheckForm.controls['pdRemarks'].hasError('required')
            "
          >
            remarks are required
          </div>

          <div
            *ngIf="referenceCheckForm.controls['pdRemarks'].hasError('pattern')"
          >
            special characters are not allowed
          </div>
        </div>
      </div>
    </div>
    <p>{{ labels.routeMap }}</p>
    <div class="row">
      <!-- <label for="remarks">{{ labels.routeMap }}</label> -->
      <img
        src="https://maps.googleapis.com/maps/api/staticmap?sensor=false&size=800x400&markers=color:blue%7Clabel:S%7C12.96186,80.20078&&markers=color:red%7Clabel:C%7C12.98714,80.17511&&center=12.9982906,80.2009504|12.9618433,80.1750283&zoom=13&path=color:blue|weight:6|enc:orbnAqfohNiBKQ?ED@zBYnDE%60@MjCGL%7B@B@FI~@k@zCa@lBEHmApBMPK?%7BBIAd@QfBKx@Bf@@%5EQ%60Ac@tCG%60BBz@KbAi@lDw@zFgAnJgCw@k@IgBk@mDeAuCkAaCw@cBm@USu@SuAg@%7DBu@wFkBcEkAwFyAu@UcAa@%7BBmAg@SUKoAs@m@Sy@OaBKeC_@eA%5DsAy@m@e@SYyBiAs@%5BuD%7BAkCqAqAc@YO%5BKe@R%7B@TaBTwAHk@?qC?%7B@DyCf@cARkEt@%7DA@mB@iBEsDGa@Hq@b@e@%60@s@dAmClEWZWLYHeBJgAD%7DA?sKDwFFA@ABEBEBMAGCoAz@mA%60AoB~AHH%60CfDbB%60CfApAxAzAtAjBv@%7CAdAfCx@lB%7C@%60C%60DbI%60DdH%7CAxC~AdCnErGrCxDrBjCj@~@ID%5BV%7D@v@zEbGlAxANHJLh@v@PTZD%60@ZVTLFLTd@%7C@c@XH%5CJb@&key=AIzaSyDJ9TZyUZNB2uY_267eIUQCV72YiYmArIw"
        alt="route map"
        width="800"
        height="400"
      />
    </div>
    &nbsp;
    <div class="row">
      <div class="btn-sec clear-both">
        <div class="col-sm-7"></div>
        <div
          class="col-sm-5 text-right"
          *ngIf="
            roleType == '2' && version != 'undefined' && showReinitiate == true
          "
        >
          <!-- <button class="btn btn-danger" type="button" (click)="reinitiatePd()">
                        {{labels.reinitiate}}
                    </button>&nbsp; -->
          <button class="btn btn-success" (click)="approvePd()">
            {{ labels.approve }}
          </button>
        </div>
      </div>

      <div class="btn-sec clear-both">
        <div class="col-sm-5">
          <button
            class="btn btn-primary"
            type="button"
            (click)="onNavigateToPdSummary()"
          >
            Back to PD List
          </button>
        </div>
        <div class="col-sm-7 text-right">
          <button
            class="btn btn-primary"
            type="button"
            (click)="onNavigateBack()"
          >
            Back
          </button>
          <p class="btn btn-primary" (click)="onFormSubmit()">
            {{ labels.save }}
          </p>

          <!-- <button
            type="button"
            class="btn btn-primary"
            data-toggle="modal"
            data-target="#myModal"
            (click)="submitToCredit()"
          >
            {{ labels.submit }}
          </button> -->
          <a data-toggle="modal" data-target="#myModal" id="reject_credit">
            <p type="button" class="btn btn-primary">{{ labels.submit }}</p>
          </a>
        </div>
      </div>
    </div>
  </div>
</form>
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" style="text-align: center;">
        <p>{{ labels.submitToCredit }}</p>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer text-center">
        <button
          type="button"
          class="btn btn-success"
          data-dismiss="modal"
          id="reject_yes_val"
          value="Yes"
          (click)="submitToCredit()"
        >
          {{ labels.yes }}
        </button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          {{ labels.cancel }}
        </button>
      </div>
    </div>
  </div>
</div>
