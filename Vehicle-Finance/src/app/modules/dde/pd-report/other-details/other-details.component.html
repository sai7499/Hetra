<div class="multisteps-form__panel js-active" data-animation="scaleIn" *ngIf="LOV?.LOVS">

    <form class="multisteps-form__form p-0" [formGroup]="otherDetailsForm">
        <div class="multisteps-form__panel js-active" data-animation="scaleIn">
            <h3 class="banner-con"> {{ labels.otherDetailsTitle }} ({{udfScreenId}}) </h3>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="agriculture_proof">{{labels.agricultureProof}}
                        <sub class="star_blue_col">*</sub>
                    </label>
                    <app-custom-input formControlName="agricultureProof" [className]="'form-control mandatory'"
                        [placeholder]="'Agriculture Proof'"
                        [isRequired]="fundingProgram == 'CAT D' ? 'Agriculture Proof is required': ''"
                        [type]="labels?.validationData?.agricultureProof?.type"
                        [maxLength]="labels?.validationData?.agricultureProof?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="income">{{labels.income1}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="income" [className]="'form-control mandatory'"
                        [placeholder]="'Income'" [isRequired]="'Income is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="secured_Loan">{{labels.securedLoans}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="securedLoans" [className]="'form-control mandatory'"
                        [placeholder]="'Secured Loans'" [isRequired]="'Secured Loans is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="unSecured_Loans">{{labels.unSecuredLoans}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="unsecuredLoans" [className]="'form-control mandatory'"
                        [placeholder]="'Un Secured Loans'" [isRequired]="'Un Secured Loans is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="creditors">{{labels.creditors}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="creditors" [className]="'form-control mandatory'"
                        [placeholder]="'Creditors'" [isRequired]="'Creditors is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="debtors">{{labels.debtors}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="debtors" [className]="'form-control mandatory'"
                        [placeholder]="'Debtors'" [isRequired]="'Debtors is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="fixed_assets">{{labels.fixedAssets}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="fixedAssets" [className]="'form-control mandatory'"
                        [placeholder]="'Fixed Assets'" [isRequired]="'Fixed Assets is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <h3 class="banner-con"> {{labels?.genericDetails}} </h3>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="application_no">{{labels?.applicationNo}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="applicationNo" [className]="'form-control mandatory'"
                        [(ngModel)]="applicationNo" [placeholder]="'Application No'"
                        [isRequired]="'Application No is required'" [type]="labels?.validationData?.applicationNo?.type"
                        [maxLength]="labels?.validationData?.applicationNo?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="area">{{labels.area}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="area" [className]="'form-control mandatory'"
                        [placeholder]="'Area'" [isRequired]="' Area is required'"
                        [type]="labels?.validationData?.area?.type"
                        [maxLength]="labels?.validationData?.area?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="place">{{labels.place}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="place" [className]="'form-control mandatory'"
                        [placeholder]="'Place'" [isRequired]="' Place is required'"
                        [type]="labels?.validationData?.area?.type"
                        [maxLength]="labels?.validationData?.area?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <div class="row">
                <!-- <div class="form-group col-sm-6 col-md-4 col-lg-3"> -->
                <!-- <label for="geoTag_information">{{labels.geotagInformation}} -->
                <!-- <sub class="star_red_col">*</sub> -->
                <!-- </label>  -->
                <!-- <app-custom-input 
                            formControlName="geoTagInfo"
                            [className]="'form-control mandatory'"
                            [placeholder]="'Geotag Information'"
                            [isRequired]="' Geotag Information is required'"
                            [type]="labels?.validationData?.area?.type"
                            [maxLength]="labels?.validationData?.area?.maxLength"
                            [isDirty]="isDirty"
                        >
                        </app-custom-input>  -->
                <!-- src="https://maps.googleapis.com/maps/api/staticmap?sensor=false&size=800x400&markers=color:blue%7Clabel:S%7C12.96186,80.20078&&markers=color:red%7Clabel:C%7C12.98714,80.17511&&center=12.9982906,80.2009504|12.9618433,80.1750283&zoom=13&path=color:blue|weight:6|enc:orbnAqfohNiBKQ?ED@zBYnDE%60@MjCGL%7B@B@FI~@k@zCa@lBEHmApBMPK?%7BBIAd@QfBKx@Bf@@%5EQ%60Ac@tCG%60BBz@KbAi@lDw@zFgAnJgCw@k@IgBk@mDeAuCkAaCw@cBm@USu@SuAg@%7DBu@wFkBcEkAwFyAu@UcAa@%7BBmAg@SUKoAs@m@Sy@OaBKeC_@eA%5DsAy@m@e@SYyBiAs@%5BuD%7BAkCqAqAc@YO%5BKe@R%7B@TaBTwAHk@?qC?%7B@DyCf@cARkEt@%7DA@mB@iBEsDGa@Hq@b@e@%60@s@dAmClEWZWLYHeBJgAD%7DA?sKDwFFA@ABEBEBMAGCoAz@mA%60AoB~AHH%60CfDbB%60CfApAxAzAtAjBv@%7CAdAfCx@lB%7C@%60C%60DbI%60DdH%7CAxC~AdCnErGrCxDrBjCj@~@ID%5BV%7D@v@zEbGlAxANHJLh@v@PTZD%60@ZVTLFLTd@%7C@c@XH%5CJb@&key=AIzaSyDJ9TZyUZNB2uY_267eIUQCV72YiYmArIw" -->
                <!-- <img [src]="" alt="Geo Location" width="800" height="400" /> -->
                <!-- </div> -->
                <!-- <div class="form-group col-sm-6 col-md-4 col-lg-3">
                            <label for="route_map">{{labels.routeMap}} -->
                <!-- <sub class="star_red_col">*</sub>  -->
                <!-- </label> <br> -->
                <!-- src="https://maps.googleapis.com/maps/api/staticmap?sensor=false&size=800x400&markers=color:blue%7Clabel:S%7C12.96186,80.20078&&markers=color:red%7Clabel:C%7C12.98714,80.17511&&center=12.9982906,80.2009504|12.9618433,80.1750283&zoom=13&path=color:blue|weight:6|enc:orbnAqfohNiBKQ?ED@zBYnDE%60@MjCGL%7B@B@FI~@k@zCa@lBEHmApBMPK?%7BBIAd@QfBKx@Bf@@%5EQ%60Ac@tCG%60BBz@KbAi@lDw@zFgAnJgCw@k@IgBk@mDeAuCkAaCw@cBm@USu@SuAg@%7DBu@wFkBcEkAwFyAu@UcAa@%7BBmAg@SUKoAs@m@Sy@OaBKeC_@eA%5DsAy@m@e@SYyBiAs@%5BuD%7BAkCqAqAc@YO%5BKe@R%7B@TaBTwAHk@?qC?%7B@DyCf@cARkEt@%7DA@mB@iBEsDGa@Hq@b@e@%60@s@dAmClEWZWLYHeBJgAD%7DA?sKDwFFA@ABEBEBMAGCoAz@mA%60AoB~AHH%60CfDbB%60CfApAxAzAtAjBv@%7CAdAfCx@lB%7C@%60C%60DbI%60DdH%7CAxC~AdCnErGrCxDrBjCj@~@ID%5BV%7D@v@zEbGlAxANHJLh@v@PTZD%60@ZVTLFLTd@%7C@c@XH%5CJb@&key=AIzaSyDJ9TZyUZNB2uY_267eIUQCV72YiYmArIw" -->
                <!-- <img [src]="" alt="Route Map" width="800" height="400" /> -->
                <!-- </div> -->
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="equitas_branch_name">{{labels.equitasBranchName}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="equitasBranchName" [className]="'form-control mandatory'"
                        [(ngModel)]="equitasBranchName" [placeholder]="'Equitas Branch Name'"
                        [isRequired]="' Equitas Branch Name is required'"
                        [maxLength]="labels?.validationData?.equitasBranchName?.maxLength"
                        [type]="labels?.validationData?.equitasBranchName?.type" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="distance_equitasAssetBranch_Kms">{{labels.distanceEquitasAssetBranch}}
                        <!-- <sub class="star_red_col">*</sub> -->
                    </label>
                    <app-custom-input formControlName="distanceFromEquitas" [className]="'form-control mandatory'"
                        [placeholder]="'Distance from Equitas Asset Branch in Kms'">
                    </app-custom-input>
                    <!-- <app-custom-input
                                formControlName="distanceFromEquitas"
                                [className]="'form-control mandatory'"
                                [placeholder]="'Distance from Equitas Asset Branch in Kms'"
                                [isRequired]="' Distance from Equitas Asset Branch in Kms is required'"
                                [type]="labels?.validationData?.distanceEquitasAssetBranch?.type"
                                [maxLength]="labels?.validationData?.distanceEquitasAssetBranch?.maxLength"
                                [isDirty]="isDirty"
                            >
                            </app-custom-input> -->
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="so_name">{{labels.pdOfficerName}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="pdOfficerName" [className]="'form-control mandatory'"
                        [placeholder]="'PD Officer Name'" [isRequired]="' PD Officer Name is required'"
                        [type]="labels?.validationData?.pdOfficerName?.type"
                        [maxLength]="labels?.validationData?.pdOfficerName?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="employee_code">{{labels.employeeCode}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="empCode" [className]="'form-control mandatory'"
                        [placeholder]="'Employee Code'" [isRequired]="' Employee Code is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="date"> {{labels.date}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <kendo-datepicker class="form-control" formControlName="date" [activeView]="'decade'"
                        [format]="'dd/MM/yyyy'" placeholder="Date">
                    </kendo-datepicker>
                    <span *ngIf="otherDetailsForm.get('date').touched || isDirty" class="invalid-feedback">
                        <p *ngIf="otherDetailsForm.get('date').hasError('required')">
                            Date is required
                        </p>
                    </span>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="product">{{labels.product}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="product" [className]="'form-control mandatory'"
                        [(ngModel)]="product" [placeholder]="'Product'" [isRequired]="'Product is required'"
                        [type]="labels?.validationData?.equitasBranchName?.type"
                        [maxLength]="labels?.validationData?.equitasBranchName?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="sourcing_channel"> {{labels.sourcingChannel}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="sourcingChannel" [className]="'form-control mandatory'"
                        [placeholder]="'Sourcing Channel'" [(ngModel)]="sourcingChannel"
                        [isRequired]="' Sourcing Channel is required'"
                        [type]="labels?.validationData?.equitasBranchName?.type"
                        [maxLength]="labels?.validationData?.equitasBranchName?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="timeOf_verification">{{labels.tomeOfVerification}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <!-- <app-custom-input 
                        formControlName="timeOfVerification" 
                        [className]="'form-control mandatory'" 
                        [placeholder]="'Time of Verification'" 
                        [isRequired]="' Time of Verification is required'" 
                        [type]="labels?.validationData?.timeOfVerification?.type" 
                        [maxLength]="labels?.validationData?.timeOfVerification?.maxLength"
                        [patternCheck]="labels?.validationData?.timeOfVerification?.patternCheck"
                        [isDirty]="isDirty">
                    </app-custom-input> -->
                    <input type="time" class="form-control mandatory" placeholder="'Time of Verification'"
                        formControlName="timeOfVerification" />
                    <div class="invalid-feedback"
                        *ngIf="otherDetailsForm.controls['timeOfVerification'].invalid && (otherDetailsForm.controls['timeOfVerification'].dirty || otherDetailsForm.controls['timeOfVerification'].touched)">
                        <div *ngIf="otherDetailsForm.controls['timeOfVerification'].hasError('required')">
                            Time of Verification is required
                        </div>
                    </div>
                </div>
            </div>

            <h3 class="banner-con"> {{labels?.loanDetails}} </h3>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="loan_amount_required">{{labels.loanAmount}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="loanAmount" [className]="'form-control mandatory'"
                        [placeholder]="'Loan Amount'" [isRequired]="' Loan Amount is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="margin_money">{{labels.marginMoney}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="marginMoney" [className]="'form-control mandatory'"
                        [placeholder]="'Margin Money'" [isRequired]="' Margin Money is required'"
                        [type]="labels?.validationData?.amountValue?.type"
                        [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="emi_affordability">{{labels.emiAffordability}}
                        <sub class="star_red_col">*</sub>
                    </label>
                    <app-custom-input formControlName="emiAffordability" [className]="'form-control mandatory'"
                        [placeholder]="'EMI Affordability'" [isRequired]="' EMI Affordability is required'"
                        [type]="labels?.validationData?.emiAffordability?.type"
                        [maxLength]="labels?.validationData?.emiAffordability?.maxLength" [isDirty]="isDirty">
                    </app-custom-input>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="sourceOf_margin_money">{{labels.sourceOfMarginMoney1}}
                    </label>
                    <app-vf-custom-select [values]="" formControlName="sourceOfMarginMoney">
                    </app-vf-custom-select>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="b_latitude">{{labels.branchLat}}
                    </label>
                    <app-custom-input formControlName="bLatitude" [className]="'form-control'" [placeholder]="''">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="b_longitude">{{labels.branchLng}}
                    </label>
                    <app-custom-input formControlName="bLongitude" [className]="'form-control'" [placeholder]="''">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="b_longitude">{{labels.addressLatLng}}
                    </label>
                    <app-custom-input formControlName="capturedAddress" [className]="'form-control'" [placeholder]="''">
                    </app-custom-input>
                </div>
            </div>
            <h3 class="banner-con"> PD done at </h3>
            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="captured_latitude">Latitude
                    </label>
                    <app-custom-input formControlName="latitude" [className]="'form-control'" [placeholder]="''">
                    </app-custom-input>
                </div>
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="captured_longitude">Longitude
                    </label>
                    <app-custom-input formControlName="longitude" [className]="'form-control'" [placeholder]="''">
                    </app-custom-input>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="sourceOf_margin_money">{{labels.selfieImageTitle}}
                    </label>
                    <div class="photo">
                        <img [src]="
                                SELFIE_IMAGE ||
                                    'assets/images/user.jpg'
                                " alt="[Image: Photo]" width="100" />
                    </div>
                    <span *ngIf="isMobile"> <button class="btn btn-primary js-btn-prev" type="button"
                            (click)="showModal = true"> Take selfie
                        </button></span>
                    <app-upload-modal [showModal]="showModal" (close)="showModal = false"
                        (uploadSuccess)="onUploadSuccess($event)" [docsDetails]="selectedDocDetails"></app-upload-modal>
                </div>
                <div *ngIf="showRouteMap" class="form-group col-sm-6 col-md-4 col-lg-3">
                    <label for="timeOf_verification">{{labels.routeMap}}
                    </label>
                    <div class="photo">
                        <img src="{{base64Image}}" width="235" />
                    </div>
                </div>
            </div>
        </div>
    </form>

    <app-shared-user-defined-fields [isDirty]="isDirty" [udfScreenId]="udfScreenId" [udfGroupId]="udfGroupId"
        [udfDetails]="udfDetails" (saveUserdefined)="onSaveuserDefinedFields($event)"></app-shared-user-defined-fields>

    <div class="btn-sec clear-both row cst_btm_btns">
        <div class="col-sm-7"></div>
        <div class="col-sm-5 text-right" *ngIf="
                    roleType == '2' && version != 'undefined' && showReinitiate == true
                  ">
            <button class="btn btn-danger" type="button" (click)="reinitiatePd()">
                {{labels.reinitiate}}
            </button>
        </div>
    </div>

    <div class="btn-sec clear-both row cst_btm_btns">
        <div class="col-sm-4"></div>
        <div class="col-sm-8 text-right">
            <button class="btn btn-primary js-btn-prev hvr-sweep-to-left" type="button" (click)="onBack()">
                {{labels.back}} </button>
            <button class="btn btn-primary" (click)="onFormSubmit()"> {{labels.save}} </button>
            <a data-toggle="modal" data-target="#myModalCredit" id="reject_credit" *ngIf="showSubmit">
                <p type="button" class="btn btn-primary">{{ labels.submit }}</p>
            </a>
        </div>
    </div>

</div>

<div class="modal" id="myModalCredit">
    <div class="modal-dialog">
        <div class="modal-content" style="text-align: center;">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title"></h4>
                <button type="button" class="close" data-dismiss="modal">
                    &times;
                </button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <p>{{ labels.submitToCredit }}</p>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer" style="text-align: center;">
                <button type="button" class="btn btn-success" data-dismiss="modal" id="reject_yes_val" value="Yes"
                    (click)="submitToCredit()">
                    {{ labels.yes }}
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    {{ labels.cancel }}
                </button>
            </div>
        </div>
    </div>
</div>