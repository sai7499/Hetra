<div class="multisteps-form__panel js-active" data-animation="scaleIn" *ngIf="LOV?.LOVS">

  <form class="multisteps-form__form p-0" [formGroup]="incomeDetailsForm">
    <!-- <div class="multisteps-form__panel container js-active" data-animation="scaleIn"> -->
    <h3 class="banner-con">{{ labels.incomeDetails }}
      <span class="float-right">{{udfScreenId}}</span>
    </h3>
    <div class="row">
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label> {{ labels.grossIncome }} <sub class="star_red_col">*</sub></label>
        <app-custom-input id="'gross_income'" [placeholder]="'Enter Gross Income'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="grossIncome"
          [isRequired]="'Gross Income is required'" [maxLength]="labels?.validationData?.amountValue?.maxLength"
          [isDirty]="isDirty"></app-custom-input>

      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="netIncome">{{ labels.netIncome }}
          <sub class="star_red_col">*</sub></label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <app-custom-input id="father_name" [placeholder]="'Enter Net Income'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="netIncome"
          [isRequired]="'Net Income is required'" [maxLength]="labels?.validationData?.amountValue?.maxLength"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="gender">{{ labels.additionalSourceofIncome }} <sub class="star_red_col">*</sub></label>
        <app-custom-input id="additionalSourceOfIncome" [placeholder]="'Enter Additional Income'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="additionalSourceOfIncome"
          [isRequired]="'Additional Income is required'" [maxLength]="labels?.validationData?.amountValue?.maxLength"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label> {{ labels.grossSalary }}
          <sub class="star_red_col" *ngIf="applicant.entityTypeKey === 'INDIVENTTYP'">*</sub>
        </label>
        <app-custom-input id="'gross_salary'" [placeholder]="'Enter Gross Salary'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="grossSalary"
          [isRequired]="applicant.entityTypeKey === 'INDIVENTTYP' ? 'Gross Salary is required' : ''"
          [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty"></app-custom-input>

      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="netIncome">{{ labels.netsalary }}
          <sub class="star_red_col" *ngIf="applicant.entityTypeKey === 'INDIVENTTYP'">*</sub></label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <app-custom-input id="netSalary" [placeholder]="'Enter Net Salary'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="netSalary"
          [isRequired]="applicant.entityTypeKey === 'INDIVENTTYP' ? 'Net Salary is required' : ''"
          [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
        </app-custom-input>
      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="gender">{{ labels.individualIncome }} <sub class="star_red_col"
            *ngIf="applicant.entityTypeKey === 'INDIVENTTYP'">*</sub></label>
        <app-custom-input id="individualIncome" [placeholder]="'Enter Individual Income'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="individualIncome"
          [isRequired]="applicant.entityTypeKey === 'INDIVENTTYP' ? 'Individual Income is required': ''"
          [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label> {{ labels.bankName }} <sub class="star_red_col">*</sub></label>
        <!-- <app-custom-input id="bank_name''" [placeholder]="'Enter Bank Name'"
            [type]="labels?.validationData?.bankName?.type" formControlName="bankName"
            [patternCheck]="labels?.validationData?.bankName?.pattern" [isRequired]="'Bank Name is required'"
            [maxLength]="labels?.validationData?.bankName?.maxLength" [isDirty]="isDirty"></app-custom-input> -->

        <div class="ng-autopopulate" style="width: 100%;">

          <ng-autocomplete class="custom-select-box" [data]="searchBankNameList" [searchKeyword]="keyword"
            (selected)='selectBankNameEvent($event)' (inputChanged)='onBankNameSearch($event)'
            (inputCleared)='onBankNameClear($event)'
            [itemTemplate]="favBankNameTemplate" [notFoundTemplate]="notFoundTemplate" formControlName="bankName"
            [placeHolder]="'Enter Bank Name'" [minQueryLength]="3">
          </ng-autocomplete>

          <div class="invalid-feedback">
            <div *ngIf="incomeDetailsForm.get('bankName').hasError('required') && isDirty"> Bank
              name required.</div>
            <div *ngIf="incomeDetailsForm.get('bankName').hasError('minlength')"> Mininum 3 Charates
              required</div>
          </div>
          <ng-template #favBankNameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>

      </div>

      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="branch">{{ labels?.branch }}
          <sub class="star_red_col">*</sub>
        </label>
        <!-- <app-custom-input id="branch''" [placeholder]="'Enter Branch'" [type]="labels?.validationData?.name?.type"
            formControlName="branch" [isRequired]="'Branch is required'"
            [maxLength]="labels?.validationData?.name?.maxLength" [isDirty]="isDirty"></app-custom-input> -->

        <div class="ng-autopopulate" style="width: 100%;">

          <ng-autocomplete class="custom-select-box" [ngClass]="{ 'codeDisable disableCode': !isEnableBranch }"
            [data]="searchBranchName" [searchKeyword]="keyword" (selected)="selectBranch($event, 'Branch')"
            (inputChanged)='onChangeBranch($event)' [itemTemplate]="searchBranchTemplate"
            [notFoundTemplate]="notFoundBranch" formControlName="branch" [placeHolder]="'Account Branch'"
            [minQueryLength]="1" [disabled]="!isEnableBranch">
          </ng-autocomplete>
          <div class="invalid-feedback">
            <div *ngIf="incomeDetailsForm.get('branch').hasError('required') && isDirty"> Branch
              required.
            </div>
          </div>
          <ng-template #searchBranchTemplate let-item>
            <a [innerHTML]="item.branchName"></a>
          </ng-template>
          <ng-template #notFoundBranch let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>


      </div>

      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="acType">{{ labels.accountType }}
          <sub class="star_red_col">*</sub></label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <!-- <app-custom-input
      id="acType"
      [placeholder]="'Enter account Type'"
      [type]="labels?.validationData?.name?.type"
      formControlName="acType"
      [patternCheck]="labels?.validationData?.name?.pattern"
      [isRequired]="' Account Type is required'"
      [maxLength]="labels?.validationData?.name?.maxLength"
      [isDirty]="isDirty"
    >
    </app-custom-input> -->
        <app-vf-custom-select [values]="LOV?.LOVS.bankAccountType" formControlName="typeOfAccount"
          [isRequired]="'Please select one'" [isDirty]="isDirty" (change)="addCCOd($event.target.value)">
        </app-vf-custom-select>
      </div>

    </div>

    <div class="row">

      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="accountNumber">{{ labels.accountNumber }} <sub class="star_red_col">*</sub></label>
        <app-custom-input id="accountNumber" [placeholder]="'Enter account Number'"
          [type]="labels?.validationData?.pdIncomeAccountNumber?.type" formControlName="accountNumber"
          [patternCheck]="labels?.validationData?.pdIncomeAccountNumber?.pattern"
          [isRequired]="'Account Number is required'"
          [maxLength]="labels?.validationData?.pdIncomeAccountNumber?.maxLength" [isDirty]="isDirty">
        </app-custom-input>
      </div>

      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="noOfChqReturns">{{ labels.noOfChqReturns }}
          <sub class="star_red_col">*</sub></label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <app-custom-input id="noOfChqReturns" [placeholder]="'Enter No of Chq returns'"
          [type]="labels?.validationData?.gvw?.type" formControlName="noOfChequeReturns"
          [isRequired]="'No of Chq returns is required'" [maxLength]="labels?.validationData?.gvw?.maxLength"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="cashBankBalance">{{ labels.cashAndBankBalance }} <sub class="star_red_col">*</sub></label>
        <app-custom-input id="cashBankBalance" [placeholder]="'Enter Cash and Bank balance'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="cashBankBalance"
          [isRequired]="'Cash and Bank balance is required'"
          [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
        </app-custom-input>
      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12" *ngIf="isccOdLimit">
        <label> {{ labels.CCODLIMIT }} <sub class="star_red_col">*</sub></label>
        <app-custom-input [placeholder]="'Enter CC/OD LIMIT'" [type]="labels?.validationData?.totalExposure?.type"
          formControlName="ccOdLimit" [isRequired]="'CC/OD LIMIT is required'"
          [maxLength]="labels?.validationData?.totalExposure?.maxLength" [isDirty]="isDirty"></app-custom-input>

      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label> {{ labels.monthlyInflows }} <sub class="star_red_col">*</sub></label>
        <app-custom-input id="monthly_inflow''" [placeholder]="'Enter Monthly Inflows'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="monthlyInflow"
          [isRequired]="'Monthly Inflows is required'" [maxLength]="labels?.validationData?.amountValue?.maxLength"
          [isDirty]="isDirty"></app-custom-input>

      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="monthlyOutflows">{{ labels.monthlyOutflows }}
          <sub class="star_red_col">*</sub></label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <app-custom-input id="monthlyOutflows" [placeholder]="'Enter Monthly Outflows'"
          [type]="labels?.validationData?.amountValue?.type" formControlName="monthlyOutflow"
          [isRequired]="'Monthly Outflows is required'" [maxLength]="labels?.validationData?.amountValue?.maxLength"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>

    </div>

    <div class="row">
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label> {{ labels.creditCardFirstName }}
          <!-- <sub class="star_red_col">*</sub>
            [isRequired]="'Credit Card First Name is required'"
            -->
        </label>
        <app-custom-input id="credit_card_first_name''" [placeholder]="'Enter Credit Card First Name'"
          [type]="labels?.validationData?.name?.type" formControlName="ccHolderFirstName"
          [patternCheck]="labels?.validationData?.name?.pattern" [maxLength]="labels?.validationData?.name?.maxLength"
          [isDirty]="isDirty"></app-custom-input>

      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="creditCardMiddleName">{{ labels.CreditCardMiddleName}}</label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <app-custom-input id="creditCardMiddleName" [placeholder]="'Enter Credit Card Middle Name'"
          [type]="labels?.validationData?.name?.type" formControlName="ccHolderSecondName"
          [patternCheck]="labels?.validationData?.name?.pattern" [maxLength]="labels?.validationData?.name?.maxLength"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="creditCardLastName">{{ labels.creditCardLastName }}
          <!-- <sub class="star_red_col">*</sub>
             [isRequired]="'Credit Card Last Name is required'"
            -->
        </label>
        <app-custom-input id="creditCardLastName" [placeholder]="'Enter Credit Card Last Name'"
          [type]="labels?.validationData?.name?.type" formControlName="ccHolderThirdName"
          [patternCheck]="labels?.validationData?.name?.pattern" [maxLength]="labels?.validationData?.name?.maxLength"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label> {{ labels.creditCardFullName }}
          <!-- <sub class="star_red_col">*</sub> -->
        </label>
        <app-custom-input id="credit_card_full_name''" [placeholder]="'Credit Card Full Name'"
          [type]="labels?.validationData?.name?.type" formControlName="ccHolderFullName"
          [patternCheck]="labels?.validationData?.name?.pattern" [isDirty]="isDirty" [value]="incomeDetailsForm.get('ccHolderFirstName').value + ' ' +
                    incomeDetailsForm.get('ccHolderSecondName').value + ' ' +
                     incomeDetailsForm.get('ccHolderThirdName').value"></app-custom-input>

      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="creditcardIssuedby">{{ labels.creditcardIssuedby }}
          <!-- <sub class="star_red_col">*</sub>
             [isRequired]="'Credit card Issued by is required'"
            -->
        </label>
        <!-- <input type="text" class="form-control" id="father_name" formControlName="fatherName"> -->
        <app-custom-input id="creditcardIssuedby" [placeholder]="'Enter Credit card Issued by'"
          [type]="labels?.validationData?.bankName?.type" formControlName="ccIssuedBy"
          [patternCheck]="labels?.validationData?.bankName?.pattern"
          [maxLength]="labels?.validationData?.bankName?.maxLength" [isDirty]="isDirty">
        </app-custom-input>
      </div>
      <div class="form-group col-sm-4 col-md-4 col-lg-4 col-xs-12">
        <label for="creditcardLimit">{{ labels.creditcardLimit }}
          <!-- <sub class="star_red_col">*</sub>
            [isRequired]="'Credit card Limit is required'"
            -->
        </label>
        <app-custom-input id="creditcardLimit" [placeholder]="'Enter credit card Limit'"
          [type]="labels?.validationData.amountValue?.type" formControlName="ccLimit"
          [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>
    <!-- </div> -->

  </form>

  <app-shared-user-defined-fields [isDirty]="isDirty" [udfScreenId]="udfScreenId" [udfGroupId]="udfGroupId"
    [udfDetails]="udfDetails" (saveUserdefined)="onSaveuserDefinedFields($event)"></app-shared-user-defined-fields>

  <div class="btn-sec clear-both row cst_btm_btns">
    <div class="col-sm-5"></div>
    <div class="col-sm-7 text-right">
      <button class="btn btn-primary hvr-sweep-to-left" type="button" (click)="onNavigateBack()">
        {{ labels.back }}
      </button>

      <button class="btn btn-primary" (click)="onFormSubmit('save')">
        {{ labels.save }}
      </button>

      <button class="btn btn-primary hvr-sweep-to-right" (click)="onNavigateNext()">
        {{ labels.next }}
      </button>
    </div>
  </div>

</div>