<div class="multisteps-form__form">
  <div class="multisteps-form__panel js-active" data-animation="scaleIn" *ngIf="LOV.LOVS">

    <form [formGroup]="applicantForm" *ngIf="this.applicantForm">

      <h3 class="banner-con">{{ labels.applicantDetailsTitle }} <span class="float-right">{{udfScreenId}}</span>
      </h3>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="applicant_name">
            {{ labels.fullName }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub>
          </label>
          <input type="text" class="form-control" id="applicant_name" formControlName="applicantName" />
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="father_name">{{ labels.fatherNameHusbandName }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-custom-input id="father_name" [placeholder]="'Enter Fathers Name'"
            [type]="labels?.validationData?.name?.type" formControlName="fatherFullName"
            [patternCheck]="labels?.validationData?.name?.pattern" [isRequired]=" !isNonInd ? 'Name is required' : ''"
            [maxLength]="labels?.validationData?.name?.maxLength" [isDirty]="isDirty">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="gender">{{ labels.gender }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>

          <app-vf-custom-select [values]="(LOV?.LOVS)['gender']" formControlName="gender"
            [isRequired]="!isNonInd?'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="residence_number">{{ labels.residenceNo }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-custom-input id="residence_number" [placeholder]="'Enter Residence Number'"
            [type]="labels?.validationData?.fiCumPDLandlineNumber?.type" formControlName="residancePhoneNumber"
            [patternCheck]="
                labels?.validationData?.fiCumPDLandlineNumber?.pattern
              " [isRequired]="!isNonInd ? 'Residence number is required' : ''" [maxLength]="
                labels?.validationData?.fiCumPDLandlineNumber?.maxLength
              " [minLength]="
                labels?.validationData?.fiCumPDLandlineNumber?.minLength
              " [isDirty]="isDirty">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="office_number">{{ labels.officeNo }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-custom-input id="office_number" [placeholder]="'Enter Office Number'"
            [type]="labels?.validationData?.fiCumPDLandlineNumber?.type" formControlName="officePhoneNumber"
            [patternCheck]="
                labels?.validationData?.fiCumPDLandlineNumber?.pattern
              " [isRequired]="!isNonInd ? 'Office number is required' : ''" [maxLength]="
                labels?.validationData?.fiCumPDLandlineNumber?.maxLength
              " [minLength]="
                labels?.validationData?.fiCumPDLandlineNumber?.minLength
              " [isDirty]="isDirty">
          </app-custom-input>
        </div>

        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="mobile">{{ labels.mobile }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub>
          </label>
          <input type="number" class="form-control" id="mobile" formControlName="mobile" />
          <!-- <app-custom-input id="mobile" [placeholder]="'Enter Mobile Number'" [type]="labels?.validationData?.mobileNumber?.type" formControlName="mobile" [patternCheck]="labels?.validationData?.mobileNumber?.pattern" [maxLength]="labels?.validationData?.mobileNumber?.maxLength"
                      [isDirty]="isDirty">
                  </app-custom-input> -->
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="residence_address">{{ labels.residenceAddress }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="applicantLov?.commonLov"
            formControlName="residenceAddressAsPerLoanApplication" [isRequired]="!isNonInd ? 'Please select one' : ''"
            [isDirty]="isDirty" (change)="resAddress($event.target.value)">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="not_residence_address">{{ labels.ifNotResidenceAddress }}
            <sub *ngIf="!isNonInd" class="star_blue_col">*</sub></label>
          <app-custom-input id="bank_name" [placeholder]="'Enter residence address'" formControlName="alternateAddr"
            [type]="labels?.validationData?.mismatchResidenceAddress?.type"
            [isRequired]="!isNonInd && addressRequired? 'Residence Address is required' : ''" [maxLength]="
                labels?.validationData?.mismatchResidenceAddress?.maxLength
              " [isDirty]="isDirty">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="landmark">{{ labels.landmark }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-custom-input id="landmark" [placeholder]="'Enter Landmark'" formControlName="landmark"
            [patternCheck]="labels?.validationData?.landMark?.pattern" [isRequired]="!isNonInd ? 'Landmark is required' : ''"
            [maxLength]="labels?.validationData?.landMark?.maxLength" [isDirty]="isDirty">
          </app-custom-input>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="locate">{{ labels.addressAccessibility }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>

          <app-vf-custom-select [values]="applicantLov?.commonLov" formControlName="addressAccessibility"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="locality">{{ labels.locality }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="(LOV?.LOVS)['fi/PdResidentialLocality']" formControlName="residentialLocality"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="residential_type">{{ labels.residentialType }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="(LOV?.LOVS)['fi/PdResidentialType']" formControlName="residentialType"
            [isRequired]="!isNonInd ?'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="standard_house">{{ labels.standardHouse }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="(LOV?.LOVS)['fi/PdHouseStandard']" formControlName="houseType"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="size_of_house">{{ labels.sizeOfHouse }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="(LOV?.LOVS)['fi/PdHouseSize']" formControlName="sizeOfHouse"
            [isRequired]="!isNonInd? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="standard_of_living">{{ labels.stdOfLiving }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="standardOfLiving" formControlName="standardOfLiving"
            [isRequired]="!isNonInd? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="house_ownership">{{ labels.houseOwnership }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>

          <app-vf-custom-select [values]="(LOV?.LOVS)['fi/PdHouseOwnership']" formControlName="houseOwnership"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty" (change)="houseOwnerShip($event.target.value)">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="owner_name">{{ labels.ownerName }} <sub *ngIf="!isNonInd" class="star_blue_col">*</sub></label>
          <app-custom-input id="owner_name" [placeholder]="'Enter owner name'" formControlName="owner"
            [type]="labels?.validationData?.ownerName?.type" [isRequired]="
            !isNonInd && ownerNamePropertyAreaRequired ? 'owner name is required' : ''
              " [maxLength]="labels?.validationData?.ownerName?.maxLength" [isDirty]="isDirty">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="property_area">{{ labels.propertyArea }} <sub *ngIf="!isNonInd" class="star_blue_col">*</sub></label>
          <app-custom-input id="property_area" [placeholder]="'Enter area of  property'"
            formControlName="areaOfProperty" [type]="labels?.validationData?.propertyArea?.type" [isRequired]="
            !isNonInd && ownerNamePropertyAreaRequired
                  ? 'Area of property is required'
                  : ''
              " [maxLength]="labels?.validationData?.propertyArea?.maxLength"
            [minLength]="labels?.validationData?.propertyArea.minLength" [isDirty]="isDirty">
          </app-custom-input>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="loan_amt">{{ labels.propertyValue }} <sub *ngIf="!isNonInd" class="star_blue_col">*</sub></label>
          <app-custom-input id="loan_amt" formControlName="propertyValue" placeholder="property value"
            [type]="labels?.validationData?.amountValue?.type" [isRequired]="
            !isNonInd && ownerNamePropertyAreaRequired
                ? 'Value of property is required'
                : ''" [maxLength]="labels?.validationData?.amountValue?.maxLength" [isDirty]="isDirty">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="ownership_proof">{{ labels.ownershipProof }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="applicantLov?.commonLov" formControlName="ownerProofAvail"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="bank_name">{{ labels.bankName }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <!-- <app-custom-input id="bank_name" [placeholder]="'Enter Bank Name'" formControlName="bankName"
            [type]="labels?.validationData?.pdBankName?.type"
            [patternCheck]="labels?.validationData?.pdBankName?.pattern" [isRequired]="!isNonInd ? 'Bank Name is required' : ''"
            [maxLength]="labels?.validationData?.pdBankName?.maxLength" [isDirty]="isDirty">
          </app-custom-input> -->
          <!-- <app-vf-custom-select [values]="(LOV?.LOVS)['bankMaster']" formControlName="bankName"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select> -->

          <div class="ng-autopopulate" style="width: 100%;">

            <ng-autocomplete class="custom-select-box" [data]="searchBankNameList" [searchKeyword]="keyword"
              (selected)='selectBankNameEvent($event)' (inputChanged)='onBankNameSearch($event)'
              [itemTemplate]="favBankNameTemplate" [notFoundTemplate]="notFoundTemplate" formControlName="bankName"
              [placeHolder]="'Bank Name'" [minQueryLength]="3">
            </ng-autocomplete>
            <div class="invalid-feedback" *ngIf="!isNonInd">
              <div *ngIf="applicantForm.get('bankName').touched && applicantForm.get('bankName').invalid"> Bank name required.</div>
              <div *ngIf="applicantForm.get('bankName').touched && applicantForm.get('bankName').hasError('minlength')"> at least 3 characters required.</div>

            </div>
            <ng-template #favBankNameTemplate let-item>
              <a [innerHTML]="item"></a>
            </ng-template>
            <ng-template #notFoundTemplate let-notFound>
              <div [innerHTML]="notFound"></div>
            </ng-template>
          </div>
          
        </div>

      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="account_no">{{ labels.accountNo }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-custom-input id="account_no" [placeholder]="'Enter Account Number'" formControlName="accountNumber"
            [type]="labels?.validationData?.pdAccountNumber?.type"
            [patternCheck]="labels?.validationData?.pdAccountNumber?.pattern"
            [isRequired]="!isNonInd ? 'Bank Account Number is required' : ''"
            [maxLength]="labels?.validationData?.pdAccountNumber?.maxLength" [isDirty]="isDirty">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="date_of_birth">{{ labels.dateOfBirth }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <input formControlName="dob" type="text" class="form-control mandatory" id="date_of_birth"
            placeholder="Date of Birth" name="date_of_birth" />
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="marital_status">
            {{ labels.maritalStatus }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>

          <app-vf-custom-select [values]="(LOV?.LOVS)['maritalStatus']" formControlName="maritalStatus"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty" (change)="setMaritalStatusValue($event.target.value)">
          </app-vf-custom-select>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="physically_challenged">{{ labels.physicallyChallenged }}
            <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>

          <app-vf-custom-select [values]="applicantLov?.commonLov" formControlName="physicallyChallenged"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="owner_name">{{ labels.dependents }} 
            <sub *ngIf="!isNonInd && applicantForm.get('maritalStatus').value !== '1MRGSTS'" class="star_red_col">*</sub>
          </label>
          <app-custom-input id="dependents" [placeholder]="'Enter number of Dependents'" formControlName="dependants"
            [type]="labels?.validationData?.dependents?.type" 
            [isRequired]="!isNonInd && applicantForm.get('maritalStatus').value !== '1MRGSTS'? 'Number of Dependents are required' : ''"
            [maxLength]="labels?.validationData?.dependents?.maxLength" [isDirty]="applicantForm.get('maritalStatus').value !== '1MRGSTS'? isDirty : ''">
          </app-custom-input>
        </div>
        <div class="form-group col-sm-6 col-md-3 col-lg-3">
          <label for="rating_by_so">{{ labels.ratingBySo }} <sub *ngIf="!isNonInd" class="star_red_col">*</sub></label>
          <app-vf-custom-select [values]="(LOV?.LOVS)['fi/PdRating']" formControlName="ratingbySO"
            [isRequired]="!isNonInd ? 'Please select one' : ''" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>

      </div>

    </form>

    <app-shared-user-defined-fields [isDirty]="isDirty" [udfScreenId]="udfScreenId" [udfGroupId]="udfGroupId"
      [udfDetails]="udfDetails" (saveUserdefined)="onSaveuserDefinedFields($event)"></app-shared-user-defined-fields>

    <div class="btn-sec clear-both row cst_btm_btns">
      <div class="col-sm-4"></div>
      <div class="col-sm-8 text-right">
        <button class="btn btn-primary hvr-sweep-to-left" type="button" (click)="onNavigateBack()">
          {{ labels.back }}
        </button>

        <button class="btn btn-primary" (click)="onFormSubmit('save')" *ngIf="!disableSaveBtn">
          {{ labels.save }}
        </button>

        <button class="btn btn-primary hvr-sweep-to-right" (click)="onFormSubmit('next')">
          {{ labels.next }}
        </button>
      </div>
    </div>

  </div>
</div>