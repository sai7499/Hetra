<div style="text-align: center;">
    <button class="btn btn-primary btn_div " *ngIf="roleType == '2' && !isApprove && !isTermSheet"
        (click)="showTermSheet()" type="button">Generate Term Sheet</button>
</div>
<!-- -->


<main class="content" style="padding-bottom: 50px;" *ngIf="isTermSheet">
    <div class="container overflow-hidden">
        <div class="multisteps-form" id="ContentToConvert">
            <div class="print_top">
                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                        <p class="banner-con text-center">{{labels.termSheetTag1}}</p>
                        <p class="" id="terms_sheet_headline"> {{labels.termSheet}}</p>
                    </div>
                    <div class="col-lg-9 col-sm-9 col-xs-9 col-md-9">
                        &nbsp;
                    </div>
                    <div class="col-lg-2 col-sm-2 col-xs-2 col-md-2">
                        <p id="terms_sheet_headline_right">{{labels.date}} : {{todayDate}}</p>
                        <p id="terms_sheet_headline_right"> {{labels.page}} : 1</p>
                    </div>
                </div>
                <div id="table_section_bottom">
                    <div class="row text-center table_header_top"> 
                        <div class="col-sm-4 col-md-4 col-xs-4 col-lg-4">{{labels.applicationNo}}. : {{applicationDetails?.applicantionNum}}</div>
                        <div class="col-sm-4 col-md-4 col-xs-4 col-lg-4">{{labels.proposalNo}}. : {{applicationDetails?.proposalNum}}</div>
                        <div class="col-sm-4 col-md-4 col-xs-4 col-lg-4">{{labels.scheme}} : {{applicationDetails?.scheme}}</div>
                    </div>
                    <!-- <table class="table-responsive  table table-borderless">
                        <thead>
                            <tr id="table_header_top">
                                <th id="table_header_top_tag3"> {{labels.applicationNo}}. :
                                    {{applicationDetails?.applicantionNum}}</th>
                                <th></th>
                                <th id="table_header_top_tag1">{{labels.proposalNo}}. :
                                    {{applicationDetails?.proposalNum}}</th>
                                <th></th>
                                <th></th>
                                <th id="table_header_top_tag2">{{labels.scheme}} : {{applicationDetails?.scheme}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td id="table_column_width15">{{labels.applicationType}}</td>
                                <td>:</td>
                                <td id="table_column_width10">{{applicationDetails?.applicationType}}</td>
                                <td id="table_column_width10">{{labels.product}} </td>
                                <td>: </td>
                                <td>{{applicationDetails?.product}}</td>
                            </tr>
                        </tbody>
                    </table> -->

                    <div class="table-responsive">


                        <table class="table-responsive table table-borderless"
                            *ngFor="let assetDetailsData of assetDetails ; let i=index">
                            <thead>
                                <tr id="table_header_top" style="border: none !important">
                                    <th id="table_column_width15"></th>
                                    <th></th>
                                    <th id="table_column_width10">

                                    </th>
                                    <th id="table_column_width10"></th>
                                    <th></th>
                                    <th id="table_header_top_tag2">
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- assetDetails start -->
                                <tr>

                                    <td class="td-wid-25">{{labels.assetType}}</td>
                                    <td class="td-wid-5">:</td>
                                    <td class="td-wid-25">{{assetDetailsData.type}}</td>
                                    <td class="td-wid-25">{{labels.manufacturer}}</td>
                                    <td class="td-wid-5">:</td>
                                    <td class="td-wid-25">{{assetDetailsData.manufac}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.termSheetTag2}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.manufacMonthYr}}</td>
                                    <td>{{labels.model}}</td>
                                    <td>: </td>
                                    <td>{{assetDetailsData.model}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.registrationNo}}.</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.regNo}}</td>
                                    <td>{{labels.engineNo}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.engineNo}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.permitStatus}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.permitStatus}}</td>
                                    <td>{{labels.chasisNo}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.chasisNo}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.taxArrears}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.taxArrears}}</td>
                                    <td>{{labels.agreementType}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.agreementType}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.classificationType}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.classificationType}}</td>
                                    <td>{{labels.NoofLIVELoans}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.liveLoans}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.fcExpiryDate}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.fcExpDate}}</td>
                                    <td>{{labels.schemeDescr}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.schemeDesc}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.vehicleRegistrationDate}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.regDate }}</td>
                                    <td>{{labels.fcExpiryGapDays}}</td>
                                    <td>: </td>
                                    <td> {{assetDetailsData.fcExpGapDays}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.cubicCapacity}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.cubicCapacity}}</td>
                                    <td>{{labels.seatingCapacity}}</td>
                                    <td>: </td>
                                    <td>{{assetDetailsData.seatingCapacity}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.gvw}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.gvw}}</td>
                                    <td>
                                        <!-- {{labels.advAdjustmentIMC}} -->
                                    </td>
                                    <td></td>
                                    <td>
                                        <!-- {{assetDetailsData.advAdjIMC}} -->
                                    </td>
                                </tr>
                                <tr>
                                    <td>{{labels.collateralApplicable}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.colApplicable}}</td>
                                    <td>{{labels.collateralName}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.colName}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.spokeLocation}}</td>
                                    <td>:</td>
                                    <td>{{assetDetailsData.spokeLoc}}</td>
                                    <td>{{labels.locationName}}</td>
                                    <td>: </td>
                                    <td>{{assetDetailsData.locName}}</td>
                                </tr>
                                <!-- assetDetails end -->
                            </tbody>
                        </table>
                    </div>
                    <div class="table-responsive">
                        <table class="table-responsive  table table-borderless">
                            <thead>
                                <tr id="table_header_top" style="border: none !important">
                                    <th id="table_column_width15"></th>
                                    <th></th>
                                    <th id="table_column_width10">

                                    </th>
                                    <th id="table_column_width10"></th>
                                    <th></th>
                                    <th id="table_header_top_tag2">
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <!-- psl start -->
                                    <td class="td-wid-25">{{labels.pslCategory}}</td>
                                    <td class="td-wid-5">:</td>
                                    <td class="td-wid-25">{{pslDetails?.category}}</td>
                                    <td class="td-wid-25"></td>
                                    <td class="td-wid-5"></td>
                                    <td class="td-wid-25"></td>
                                </tr>
                                <tr>
                                    <td>{{labels.pslSubCategory}}</td>
                                    <td>:</td>
                                    <td>{{pslDetails?.subCategory}}</td>
                                    <td> </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>{{labels.folioNumber}}</td>
                                    <td>:</td>
                                    <td>{{pslDetails?.folioNum}}</td>
                                    <td>{{labels.customerCategory}}</td>
                                    <td>:</td>
                                    <td>{{applicantDetails?.category}}</td>
                                </tr>
                                <!-- customer Details -->
                                <tr>
                                    <td>{{labels.nameOfTheCustomer}}</td>
                                    <td>:</td>
                                    <td>{{applicantDetails?.name}}</td>
                                    <td> </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td *ngIf = "applicantDetails?.entityType == 'INDIVENTTYP'">{{labels.customerDOB}}</td>
                                    <td *ngIf = "applicantDetails?.entityType == 'NONINDIVENTTYP'">{{labels.customerDOI}}</td>

                                    <td>:</td>
                                    <td>{{applicantDetails?.dob}}</td>
                                    <!-- <td *ngIf = "applicantDetails?.entityType == 'NONINDIVENTTYP'">{{applicantDetails?.doi}}</td> -->

                                    <td>{{labels.customerAge}}</td>
                                    <td>:</td>
                                    <td>{{applicantDetails?.age}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.customerType}}</td>
                                    <td>:</td>
                                    <td>{{applicantDetails?.type}}</td>
                                    <td>
                                        <!-- {{labels.registrationType}} -->
                                    </td>
                                    <td>:</td>
                                    <td>
                                        <!-- {{commonAppDetails?.registrationType}} -->
                                    </td>
                                </tr>
                                <tr>
                                    <td>{{labels.customerCibilStatus}}</td>
                                    <td>:</td>
                                    <td>{{commonAppDetails?.cibilStatus ? commonAppDetails?.cibilStatus : "-"}}</td>
                                    <td>{{labels.cibilScore}}</td>
                                    <td>:</td>
                                    <td>{{commonAppDetails?.cibilScore}}</td>
                                </tr>
                                <!-- <tr>
                                <td>{{labels.leadReferenceNumber}}</td>
                                <td>:</td>
                                <td>{{commonAppDetails?.leadRefNo}}</td>
                                <td>{{labels.leadRefDate}}</td>
                                <td>:</td>
                                <td>{{commonAppDetails?.leadRefDate}}</td>
                            </tr> -->
                                <tr>
                                    <td>{{labels.genderOfCustomer}}</td>
                                    <td>:</td>
                                    <td>{{applicantDetails?.gender}}</td>
                                    <td>{{labels.distance}}</td>
                                    <td>: </td>
                                    <td>{{commonAppDetails?.distance}}</td>
                                </tr>
                                <tr>
                                    <td>{{labels.businessStability}}</td>
                                    <td>:</td>
                                    <td>{{commonAppDetails?.businessStab}}</td>
                                    <td>{{labels.residenceStability2}}</td>
                                    <td>: </td>
                                    <td>{{commonAppDetails?.residenceStab ? commonAppDetails?.residenceStab  : "-" }}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="tearms_sheet_header2">
                    <p class="text-center">{{labels.coApplicantDetails}}</p>
                    <div *ngFor="let coAppDetailsData of coAppDetails; let i=index">
                        <p class="text-left">
                            {{labels.name}} : {{coAppDetailsData.name}}
                        </p>
                        <table class="table-responsive  table table-borderless">
                            <tbody>
                                <tr>
                                    <td class="tab-wid-25" *ngIf = "coAppDetailsData?.entityType == 'INDIVENTTYP'">{{labels.dob}}</td>
                                    <td class="tab-wid-25" *ngIf = "coAppDetailsData?.entityType == 'NONINDIVENTTYP'">{{labels.doi}}</td>

                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{coAppDetailsData.dob}}</td>
                                    <td class="tab-wid-25">{{labels.age}} </td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{coAppDetailsData.age}}</td>
                                    <td class="tab-wid-25">{{labels.type}}</td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{coAppDetailsData.type}}</td>
                                    <td class="tab-wid-25">{{labels.gender}}</td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{coAppDetailsData.gender}}</td>
                                    <!-- <td class="tab-wid-25">{{labels.dob}}</td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{coAppDetailsData.dob}}</td> -->
                                </tr>
                                
                            </tbody>
                            </table>

                    </div>


                </div>
                <div id="tearms_sheet_header3">

                    <p class="text-center" >{{labels.guarantorDetails}}</p>
                    <div *ngFor="let guarantorData of guarantorDetails">
                        <p >
                            {{labels.name}} : {{guarantorData.name}}
                        </p>
                       
                        <table class="table-responsive  table table-borderless">
                            <tbody>
                                <tr>
                                    <td class="tab-wid-25" *ngIf = "guarantorData?.entityType == 'INDIVENTTYP'">{{labels.dob}}</td>
                                    <td class="tab-wid-25" *ngIf = "guarantorData?.entityType == 'NONINDIVENTTYP'">{{labels.doi}}</td>

                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{guarantorData.dob}}</td>
                                    <td class="tab-wid-25">{{labels.age}} </td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{guarantorData.age}}</td>
                                    <td class="tab-wid-25">{{labels.type}}</td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{guarantorData.type}}</td>
                                    <td class="tab-wid-25">{{labels.gender}}</td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{guarantorData.gender}}</td>
                                    <!-- <td class="tab-wid-25">{{labels.dob}}</td>
                                    <td class="tab-wid-5">:</td>
                                    <td class="tab-wid-25" >{{guarantorData.dob}}</td> -->
                                </tr>
                                
                            </tbody>
                            </table>
                    </div>
                </div>
                <div id="tearms_sheet_header4" *ngFor="let bankDetails of bankDetails">
                    <table class="table-responsive  table table-borderless">
                        <tbody>
                            <tr>
                                <td class="tab-wid-25">{{labels.applicantBankName}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" ></td>
                                <td class="tab-wid-25">{{bankDetails?.bankName ? bankDetails?.bankName : '-'}}</td>
                               
                                <td class="tab-wid-25">{{labels.MICRNO}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" >{{bankDetails?.MICR ? bankDetails?.MICR : '-'}}</td>
                               
                            </tr>
                            
                        </tbody>
                        </table>
                    <!-- <p id="tearms_sheet_header4_tag">
                        <span id="tearms_sheet_header4_tag1">
                            {{labels.applicantBankName}} &nbsp;: &nbsp;
                            {{bankDetails?.bankName ? bankDetails?.bankName : '-'}}</span>
                        <span id="tearms_sheet_header4_ta2">
                            {{labels.MICRNO}} : <span>{{bankDetails?.MICR ? bankDetails?.MICR : '-'}}</span>
                        </span>
                    </p> -->

                    <table class="table-responsive  table table-borderless">
                        <tbody>
                            <tr>
                                <td class="tab-wid-25">{{labels.applicantBankBranch}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" ></td>
                                <td class="tab-wid-25">{{bankDetails?.branchName ? bankDetails?.branchName : '-'}}</td>
                               
                                <td class="tab-wid-25">{{labels.accNo}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" >{{bankDetails?.accNum ? bankDetails?.accNum : '-'}}</td>
                               
                            </tr>
                            
                        </tbody>
                        </table>


                    <!-- <p id="tearms_sheet_header4_tag3">
                        <span id="tearms_sheet_header4_tag4">
                            {{labels.applicantBankBranch}} &nbsp;:
                            &nbsp;{{bankDetails?.branchName ? bankDetails?.branchName : '-'}} </span>
                        <span id="tearms_sheet_header4_tag5">
                            {{labels.accNo}}. &nbsp;:&nbsp;{{bankDetails?.accNum ? bankDetails?.accNum : '-'}}
                        </span>
                    </p> -->
                </div>
                <div id="tearms_sheet_header5">
                    <!-- <p id="tearms_sheet_header5_tag">
                        <span id="tearms_sheet_header5_tag1">
                            {{labels.sourcedBy}} &nbsp;: &nbsp;{{agentDetails?.sourcedBy}}</span>
                        <span id="tearms_sheet_header5_tag2">
                            {{labels.name}} &nbsp;:&nbsp;{{agentDetails?.name}}</span>
                    </p> -->
                    <!-- <p id="tearms_sheet_header5_tag3">
                        <span id="tearms_sheet_header5_tag4">{{labels.agentCode}} &nbsp;:
                            {{agentDetails?.agentCode}}</span>
                        <span id="tearms_sheet_header5_tag5">{{labels.name}} &nbsp;:&nbsp;
                            {{agentDetails?.agentName}}</span>
                    </p> -->
                    <table class="table-responsive  table table-borderless">
                        <tbody>
                            <tr>
                                <td class="tab-wid-25">{{labels.sourcedBy}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" >{{agentDetails?.sourcedBy}}</td>
                                <td class="tab-wid-25">{{labels.name}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" >{{agentDetails?.name}}</td>
                               
                            </tr>                           
                       
                            <tr>
                                <td class="tab-wid-25">{{labels.agentCode}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" >{{agentDetails?.agentCode}}</td>
                                <td class="tab-wid-25">{{labels.name}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25" >{{agentDetails?.name}}</td>
                               
                            </tr>
                            
                        </tbody>
                        </table>
                </div>
                <div id="">
                    <div *ngFor="let identityData of identityDetails">
                        <p id="tearms_sheet_header6_tag">
                            <span id="tearms_sheet_header6_tag1">
                                {{labels.addressCumIdProof}}:&nbsp; {{identityData.addrCumIdProof}}
                            </span>
                            <span id="tearms_sheet_header6_tag2">
                                {{labels.docRefNo}}: &nbsp; {{identityData.docRef}} &nbsp;{{identityData.date}}
                            </span>
                        </p>
                    </div>
                    <div *ngFor="let identityData of coAppIndentityDetails">
                        <p id="tearms_sheet_header6_tag">
                            <span id="tearms_sheet_header6_tag1">
                                {{'co-Applicant '+labels.addressCumIdProof}}:&nbsp; {{identityData.addrCumIdProof}}
                            </span>
                            <span id="tearms_sheet_header6_tag2">
                                {{labels.docRefNo}}: &nbsp; {{identityData.docRef}} &nbsp;{{identityData.date}}
                            </span>
                        </p>
                    </div>
                    <div *ngFor="let identityData of guaIdentityDetails">
                        <p id="tearms_sheet_header6_tag">
                            <span id="tearms_sheet_header6_tag1">
                                {{'Guarantor '+labels.addressCumIdProof}}:&nbsp; {{identityData.addrCumIdProof}}
                            </span>
                            <span id="tearms_sheet_header6_tag2">
                                {{labels.docRefNo}}: &nbsp; {{identityData.docRef}} &nbsp;{{identityData.date}}
                            </span>
                        </p>
                    </div>
                </div>
                <div id="tearms_sheet_header7" class="table-responsive">
                    <table class="table table-responsive  table-borderless" cellspadding="10"
                        *ngFor="let assValuationData of assValuationDetails; let i= index;">
                        <thead>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tab-wid-25">{{labels.valuationValue}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assValuationData.valuationAmount}}</td>
                                <td class="tab-wid-25">{{labels.gridValueMRP}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assValuationData.gridAmount}}</td>
                            </tr>
                            <tr>
                                <td class="tab-wid-25" >{{labels.valuationDate}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assValuationData.valDate}}</td>
                                <td class="tab-wid-25">{{labels.modelNotInGrid}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assValuationData.vehicleAvailGrid}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.valuatorName}}</td>
                                <td>:</td>
                                <td>{{assValuationData.valuatorName}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>{{labels.idvValue}}</td>
                                <td>:</td>
                                <td>{{assValuationData.idv}}</td>
                                <td>{{labels.costOfAsset}}</td>
                                <td>:</td>
                                <td>{{assValuationData.assetCost}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.marginMoney}}</td>
                                <td>:</td>
                                <td>{{assValuationData.marginMoney}}</td>
                                <td>{{labels.financeAmount}}</td>
                                <td>:</td>
                                <td>{{assValuationData.finAmount}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.financeCharges}}</td>
                                <td>:</td>
                                <td>{{assValuationData.finChrgs}}</td>
                                <td>{{labels.disbursementType}}</td>
                                <td>:</td>
                                <td>{{assValuationData.disbType}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.emiAmount}}</td>
                                <td>:</td>
                                <td>{{assValuationData.emiAmount}}</td>
                                <td>
                                    <!-- {{labels.fieldVisitCharges2}} -->
                                </td>
                                <td></td>
                                <td>
                                    <!-- {{assValuationData.fieldVisitChrgs}} -->
                                </td>
                            </tr>
                            <tr>
                                <td>{{labels.insPremium}}</td>
                                <td>:</td>
                                <td>{{assValuationData.insPremium}}</td>
                                <td>{{labels.PacTalic}}</td>
                                <td>:</td>
                                <td>{{assValuationData.pac_talic}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.plcyExpiryDt}}</td>
                                <td>:</td>
                                <td>{{assValuationData.plcyExpDate}}</td>
                                <td>{{labels.insurancePattern}}</td>
                                <td>:</td>
                                <td>{{assValuationData.insPattern}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.plcyLapseDays}}</td>
                                <td>:</td>
                                <td>{{assValuationData.plcyLapseDays}}</td>
                                <td>{{labels.processingFeePercent}}</td>
                                <td>:</td>
                                <td>{{assValuationData.processFeePercent}}</td>
                            </tr>
                            <tr>
                                <td>
                                    <!-- {{labels.vintageDeviation}} -->
                                </td>
                                <td></td>
                                <td>
                                    <!-- {{assValuationData.vintageDev}} -->

                                </td>
                                <td>{{labels.assetAge}}</td>
                                <td>:</td>
                                <td>{{assValuationData.assetAge}}</td>
                            </tr>
                            <tr>
                                <td>
                                    <!-- {{labels.vintageDeviationClassification}}  -->
                                </td>
                                <td>:</td>
                                <td>
                                    <!-- {{assValuationData.vintageDevClassification}} -->
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="tearms_sheet_header8" class="table-responsive">
                    <table class="table table-responsive table-borderless"
                        *ngFor="let assetLoanDetails of assetLoanDetails">
                        <thead>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tab-wid-25">{{labels.processingFee}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assetLoanDetails?.processFee}}</td>
                                <td class="tab-wid-25">{{labels.tenure}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assetLoanDetails?.tenure}}</td>
                                <td class="tab-wid-25">{{labels.repayableMonths}}</td>
                                <td class="tab-wid-5">:</td>
                                <td class="tab-wid-25">{{assetLoanDetails?.repayableMon}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.grossIrr}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.grossIrr}}</td>
                                <td>{{labels.netIrr}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.netIrr}}</td>
                                <td>{{labels.irrWithoutProcFee}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.irrWPF}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.instPattern}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.instPattern}}</td>
                                <td>{{labels.repayMode}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.repayMode}}</td>
                                <td>{{labels.flatRateofInteres}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.flatRoi}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.npdcMethod}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.npdcMethod}}</td>
                                <td>{{labels.noOfPdc}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.noOfPdc}}</td>
                                <td>{{labels.noSecPdc}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.noSecPdc}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.no0fAdvEMI}} </td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.noOfAdvEmi}}</td>
                                <td>{{labels.advEmiAmt}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.advEmiAmt}}</td>
                                <td>{{labels.proposalDt}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.proposalDt}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.emiStartDt}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.emiStartDt}}</td>
                                <td>{{labels.emiEndDate}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.emiEndDt}}</td>
                                <td>{{labels.vehOwned}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.vehOwned}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.agriculture}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.agriculture}}</td>
                                <td>{{labels.creditShield}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.creditShield}}</td>
                                <td>{{labels.brokerage}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.brokerage}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.termsheetGeneratedDate}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.effDisbDt}}</td>
                                <td>{{labels.fundingLtv}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.fundingPercent}}</td>
                                <td>{{labels.npdeOrRpdcAmount}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.npdc_rpdc_amt}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.emiCovPrem}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.emiCovPrem}}</td>
                                <td>{{labels.schemeIrr}}</td>
                                <td>:</td>
                                <td>{{assetLoanDetails?.schemeIrr}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>

                        </tbody>
                    </table>
                </div>""
                <div class="row" id="terms_sheet_headline9" class="table-responsive">
                   <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    {{labels.ecsMandate}} :
                   </div>
                   <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    {{ecsDetails?.ecs_mandate}}
                   </div>
                   <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    {{labels.ecsBankName}} :
                   </div>
                   <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                    {{ecsDetails?.ecs_bank}}
                    </div>
                    
                </div>
                <div id="terms_sheet_headline10" class="">
                    <!-- Deduction Charges from Loan Amount -->
                    <p class="text-center">
                        {{labels.termSheetTag3}}</p>
                        <div class="row">
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">{{labels.processingFee}}: {{deductionDetails?.vfProcessingFee}}</div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">{{labels.advEmiAmt}} : {{deductionDetails?.advEmiAmt}}</div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">{{labels.npdeOrRpdcAmount}} : {{deductionDetails?.npdc_rpdc_amt}}</div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">{{labels.creditShield}} : {{deductionDetails?.creditShield}}</div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">{{labels.insPremiumAmt}}: {{deductionDetails?.insPremiumAmt}}</div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">{{labels.emiCoveragePremium}} : {{deductionDetails?.emiCovPremium}}</div>
                            
                        
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right" style="overflow: hidden;">
                            {{labels.totalDeductionAmount}}: {{deductionDetails?.totalDeductAmt}}
                        </div>
                        </div>
                   
                </div>
               
                <div id="terms_sheet_headline11_header" class="table-responsive">
                   
                    <div *ngFor="let paymentDetails of paymentDetails">
                        <p id="terms_sheet_headline11">{{labels.paymentDetails}}</p>
                        <p id="terms_sheet_headline11_tag">
                            <span id="terms_sheet_headline11_tag1">{{labels.paymentTo}} :
                                {{paymentDetails?.paymentTo}}</span>
                            <span id="terms_sheet_headline11_tag2">{{labels.payeeName}}: {{paymentDetails?.payeeName}}
                                &nbsp;&nbsp; <span>{{labels.acNo}} : </span> {{paymentDetails?.accNum}}
                            </span>
                        </p>
                        <p id="terms_sheet_headline11_tag3">
                            <span id="terms_sheet_headline11_tag4">{{labels.amount}} : {{paymentDetails?.amount}}</span>
                            <span id="terms_sheet_headline11_tag5">{{labels.bankAc}} :
                                {{paymentDetails?.bankAcc}}</span>
                        </p>
                        <p id="terms_sheet_headline11_tag6">
                            <span id="terms_sheet_headline11_tag7">{{labels.mode}} : {{paymentDetails?.mode}}</span>
                            <span id="terms_sheet_headline11_tag8"></span>
                        </p>
                    </div>


                </div>
                <div id="terms_sheet_headline12" class="table-responsive">
                    <p class="text-center">{{labels.approvalDetails}}</p>
                   
                    <hr id="terms_sheet_headline12_tag0" />
                    <div *ngFor="let approvalData of approvalDetails row">
                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">{{labels.employeeCode}} : {{approvalData.empCode}}</div>
                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">{{labels.executiveName}} : {{approvalData.executiveName}}</div>
                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">{{labels.remark}} : {{approvalData.remarks}}</div>
                    </div>
                </div>
                
                <div id="terms_sheet_headline13" class="table-responsive">
                    <p class="text-center">{{labels.creditApprovalDeviation}}</p>
                    <table class="table table-responsive table-borderless">
                        <thead>
                            <tr id="table_header_top">
                                <th class="tab-wid-25">{{labels.factor}}</th>
                                <th class="tab-wid-25">{{labels.minValue}}</th>
                                <th class="tab-wid-25">{{labels.maxValue}}</th>
                                <th class="tab-wid-25">{{labels.actualValue}}</th>
                                <th class="tab-wid-25">{{labels.deviated}}</th>
                                <th class="tab-wid-25">{{labels.approver}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let creditApprovalData of creditApprovalDev ; let i= index">
                                <td class="tab-wid-25">{{creditApprovalData.factor}}</td>
                                <td class="tab-wid-25">{{creditApprovalData.minVal}}</td>
                                <td class="tab-wid-25">{{creditApprovalData.maxVal}}</td>
                                <td class="tab-wid-25">{{creditApprovalData.actualVal}}</td>
                                <td class="tab-wid-25">{{creditApprovalData.devaited}}</td>
                                <td class="tab-wid-25">{{creditApprovalData.approver}}</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div id="terms_sheet_headline14" class="table-responsive">
                    <p class="text-center">{{labels.termSheetTag4}}</p>
                    <hr id="terms_sheet_headline12_tag0" />
                    <table class="table table-responsive table-borderless"
                        *ngFor="let loanDetailsData of loanDetails; let i = index">
                        <!--- <thead>
                    <tr>
                      <th>Application No. : 109555</th>
                      <th>Proposal No. : ERODE0000123</th>
                      <th>{{labels.}} : MCATC</th>
                    </tr>
                  </thead> ---->
                        <tbody>
                            <tr>
                                <td class="tab-wid-25">{{labels.particulars}}</td>
                                <td class="tab-wid-25">:</td>
                                <td class="tab-wid-25">Vehicle No</td>
                                <td class="tab-wid-25">{{labels.number}}</td>
                                <td class="tab-wid-25">:</td>
                                <td class="tab-wid-25">{{loanDetailsData.number}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.branch}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.branch}}</td>
                                <td>{{labels.agreementNumber}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.agreementNum}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.effectiveDisbursementDate}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.effDisbDt}}</td>
                                <td>{{labels.scheme}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.scheme}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.irr}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.irr}}</td>
                                <td>{{labels.vehicleNumber}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.vehicleNum}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.customerName}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.custName}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>{{labels.loanAmount}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.loanAmt}}</td>
                                <td>{{labels.futurePrincipal}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.futurePrincipal}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.loanStatus}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.loanStatus}}</td>
                                <td>{{labels.riOverdue}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.riOverdue}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.nocBlock}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.nocBlock}}</td>
                                <td>{{labels.nocBlockDate}} </td>
                                <td>:</td>
                                <td>{{loanDetailsData.nocBlockDt}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.repayInMonths}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.repayInMon}}</td>
                                <td>{{labels.completedTenure}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.cmpTenure}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.closedCancelledDate}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.closedDt}}</td>
                                <td>{{labels.recoveryStatus}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.recoveryStatus}}</td>
                            </tr>
                            <tr>
                                <td>{{labels.dpd}}</td>
                                <td>:</td>
                                <td>{{loanDetailsData.dpd}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="row" id="terms_sheet_headline15" class="table-responsive">
                    <div class="col-6col-lg-6 col-sm-6 col-xs-6 col-md-6">
                        <p id="">
                            <span id="">{{labels.dateTime}} : </span>
                        </p>
                    </div>
                    <div  class="col-lg-6 col-sm-6 col-xs-6 col-md-6 text-right">
                        <span id=""> {{labels.signature}} : </span></div>
                </div>

            </div>
        </div>
        <div class="btn-sec clear-both row" *ngIf="!isApprove">
            <div class="col-sm-5">

            </div>
            <div class="col-sm-7 text-right">
                <button class="btn btn-primary btn_div hvr-sweep-to-left " (click)="onBack()" type="button">Back</button>
                <!-- <p class="btn btn-primary save btn_div"> Save </p> -->
                <button class="btn btn-primary btn_div hvr-sweep-to-right" (click)="onNext()" type="button">Next</button>
                <button  *ngIf="!isLoan360" class="btn btn-primary btn_div" (click)="downloadpdf()" type="button">Download</button>

            </div>
        </div>

    </div>

    <!-- <div class="alert alert-success alert-dismissible" id="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button> Souring Details saved Successfully.
    </div> -->




</main>


<div class="btn-sec clear-both row" *ngIf="roleType == '2' && !isTermSheet && !isApprove">
    <div class="col-sm-5">

    </div>
    <div class="col-sm-7 text-right">
        <button class="btn btn-primary btn_div dash_href hvr-sweep-to-left " (click)="onBack()" type="button">Back</button>
        <!-- <p class="btn btn-primary save btn_div"> Save </p> -->
        <button class="btn btn-primary btn_div dash_href hvr-sweep-to-right" (click)="onNext()" type="button">Next</button>
    </div>
</div>
<div class="text-right" style="padding-bottom: 50px;" *ngIf="isApprove">
    <button class="btn btn-primary btn_div" data-toggle="modal" data-target="#approveModal"
        type="button">Approve</button>

</div>

<div class="modal" id="approveModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title"></h4>
                <button type="button" class="close" data-dismiss="modal">
                    &times;
                </button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="text-align: center;">
                <label>Are you sure you want to Approve the Term Sheet</label>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer text-center">
                <button type="button" class="btn btn-success" id="reject_yes_val" value="Yes"
                    (click)="assignTaskToTSAndCPC()" data-dismiss="modal">
                    {{ labels.yes }}
                </button>

                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    {{ labels.cancel }}
                </button>
            </div>
        </div>
    </div>
</div>

<div id="overlay" *ngIf="errorGenerated">
    <div id="text">
        <div class="panel">
            <div class="panel-body">
                <button type="button" class="close" aria-label="Close" (click)="errorGenerated = false">
                    <span aria-hidden="true">&times;</span>
                </button>
                <div class="modal-dialog">
                    <div class="modal-body" style="text-align:center;">
                        <!-- <p *ngFor="let item of errorMessage">{{item}}</p> -->
                        <div class="errHead">
                            <h3 class="m-0">RC and TA Limit Check</h3>
                        </div>
                        <div class="row" *ngFor="let item of errorMessage; let i = index ;">
                            <div class="col-md-12">
                                <div class="errText"><strong>*</strong>{{' '+item}}</div>
                            </div>
                        </div>
                        <div class="btn-wrap">
                            <button class="btn btn-danger" routerLink="/pages/dashboard" (click)="errorGenerated = false">OK</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>