<!-- <div class="content"> -->
<form class="multisteps-form__form" style="height: 400px;" [formGroup]="fleetForm" *ngIf="this.fleetForm">
    <!-- <div class="multisteps-form__panel basic_scroll js-active" data-animation="scaleIn"> -->
    <div class="container">
        <div class="row">

            <div class="table-responsive application">
                <table class="table">

                    <thead>
                        <tr class="table-head-bg text-center">
                            <td role="columnheader">{{labels.sNo}} </td>
                            <td role="columnheader">{{labels.regdNo }} </td>
                            <td role="columnheader">{{labels.regdOwner}}</td>
                            <td role="columnheader" style="min-width: 165px;">{{labels.relation}}</td>
                            <td role="columnheader" style="min-width: 200px;">{{labels.make}} </td>
                            <td role="columnheader">{{labels.yom}} </td>
                            <td role="columnheader" style="min-width: 120px;">{{labels.financier}} </td>
                            <td role="columnheader">{{labels.loanNo}} </td>
                            <td role="columnheader">{{labels.purchaseDate}} </td>
                            <td role="columnheader">{{labels.tenure}} </td>
                            <td role="columnheader">{{labels.paid}} </td>
                            <td role="columnheader">{{labels.seasoning}} </td>
                            <td role="columnheader">{{labels.ad}} </td>
                            <td role="columnheader">{{labels.pd}} </td>
                            <td role="columnheader">{{labels.gridValue}}</td>
                            <td role="columnheader">{{labels.track}} </td>
                            <td role="columnheader">{{labels.action}} </td>
                        </tr>
                    </thead>
                    <tbody formArrayName="Rows">
                        <!-- <tr id="applicant_1_row" *ngFor="let itemrow of fleetForm.get('Rows')['controls']; let i=index;let l=last" [formGroupName]="i"> -->
                        <tr id="applicant_1_row" *ngFor="let itemrow of fleetForm.get('Rows')['controls']; let i=index;let l=last" [formGroupName]="i">

                            <td>{{i+1}}</td>
                            <td style="min-width: 150px;">
                                <app-custom-input formControlName="regdNo" 
                                    [className]="'form-control mandatory'" 
                                    [placeholder]="'regdNo'" 
                                    [maxLength]="validationData?.vehicleRegNo['maxLength']" [isRequired]="'Registration number is mandatory'" [type]="validationData?.vehicleRegNo['type']"
                                    [isDirty]="isDirty"
                                    [inputClass]="'input-upper'">
                                </app-custom-input>

                                <!-- <div>

                                    <input type="text" class="form-control input_value height input-upper" placeholder="Registration No" formControlName="regdNo" maxlength="12">
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['regdNo'].touched && !itemrow.controls['regdNo'].vaild">
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['regdNo'].hasError('required')">
                                            Registration number is needed
                                        </div>
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['regdNo'].hasError('minlength')">
                                            Invalid registration number
                                        </div>

                                    </div>
                                </div> -->
                            </td>
                            <td style="min-width: 130px;">
                                <!-- <div>
                                    
                                    <input type="text" class="form-control input_value height input-upper" placeholder="Owner Name" formControlName="regdOwner" maxlength="30">
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['regdOwner'].touched && !itemrow.controls['regdOwner'].vaild">
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['regdOwner'].hasError('required')">
                                            Owner name is needed
                                        </div>
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['regdOwner'].hasError('pattern')">
                                            Owner name should be in chars only
                                        </div>
                                        <div *ngIf="itemrow.controls['regdOwner'].hasError('regdOwner') || itemrow.controls['regdOwner'].hasError('maxlength')">
                                            Invalid owner name
                                        </div>
                                    </div>
                                </div> -->
                                <app-custom-input formControlName="regdOwner" [className]="'form-control mandatory'" [placeholder]="'Owner name'" [maxLength]="validationData?.name.maxLength" [isRequired]="'Owner name is mandatory'" [isDirty]="isDirty" [type]="validationData?.name.type">
                                </app-custom-input>
                            </td>
                            <td style="min-width: 165px;">
                                <app-vf-custom-select [values]="fleetLov?.applicantRelationshipWithLead" formControlName="relation" (change)="relationShipChange($event)" [isRequired]="'Please select alteast one '">
                                </app-vf-custom-select>

                                <div class="cus-mandatory-field" *ngIf="itemrow.controls['relation'].touched && !itemrow.controls['relation'].vaild">
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['relation'].hasError('required')">
                                        relation is mandatory
                                    </div>
                                </div>
                            </td>
                            <td style="min-width: 200px;">
                                <app-vf-custom-select [values]="fleetLov?.vehicleManufacturer" formControlName="make" (change)="makeChange($event)" [isRequired]="'Please select atleast one'">
                                </app-vf-custom-select>
                                <div class="cus-mandatory-field" *ngIf="itemrow.controls['relation'].touched && !itemrow.controls['relation'].vaild">
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['relation'].hasError('required')">
                                        make is mandatory
                                    </div>
                                </div>
                            </td>
                            <!-- <td><input type="text" class="input_value" value="TA" formControlName="make"></td> -->
                            <td>
                                <div>                                   
                                    <div style="width: 90px;">
                                        <app-custom-input formControlName="yom" [className]="'form-control mandatory'" [placeholder]="'YOM'" [maxLength]="formValidation?.validationData?.yom.maxLength" [isRequired]="'YOM mandatory'" [type]="formValidation?.validationData?.yom.type" [custom]="yearCheck"
                                            [isDirty]="isDirty">
                                        </app-custom-input>
                                    </div>
                                    <!-- <div class="cus-mandatory-field" *ngIf="itemrow.controls['yom'].touched && !itemrow.controls['yom'].vaild">
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['yom'].hasError('required')">
                                            Manufacturing year is needed
                                        </div>
                                        <div *ngIf="itemrow.controls['yom'].hasError('minlength') || itemrow.controls['yom'].hasError('maxlength')">
                                            Invalid manufacturing year
                                        </div>
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['yom'].hasError('pattern')">
                                            Manufacturing year should be in number
                                        </div>
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['yom'].errors && itemrow.controls['yom'].errors['incorrect']">
                                            Yom not grater current Year
                                        </div>
                                    </div> -->

                                </div>
                            </td>

                            <!-- <td><input type="text" class="form-control input_value height" value="BAJAJ" formControlName="financier"></td>-->
                            <td style="min-width: 120px;">
                                <app-vf-custom-select [values]="fleetLov?.vehicleFinanciers" formControlName="financier" (change)="financierChange($event)" [isRequired]="'Please select atleast one'">
                                </app-vf-custom-select>

                            </td>
                            <td style="min-width: 150px;">
                                <!-- <div> -->
                                <app-custom-input formControlName="loanNo" 
                                    [className]="'form-control mandatory'" 
                                    [placeholder]="'loanNo'" 
                                    [maxLength]="validationData?.loanNumber.maxLength" 
                                    [isRequired]="'Loan No is mandatory'" 
                                    [type]="validationData?.loanNumber.type" 
                                    [isDirty]="isDirty"
                                    [inputClass]="'input-upper'">
                                </app-custom-input>
                                <!-- <input type="text" class="form-control  input_value height" placeholder="Loan No" formControlName="loanNo" maxlength="20"></div>

                                <div class="cus-mandatory-field" *ngIf="itemrow.controls['loanNo'].touched && !itemrow.controls['loanNo'].vaild">
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['loanNo'].hasError('required')">
                                        Loan no is needed
                                    </div>
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['loanNo'].hasError('maxLength')">
                                        Invalid loan no
                                    </div>

                                </div> -->


                            </td>
                            <!-- <td><input type="text" class="form-control input_value height" value="01-010-16" formControlName="purchaseDate"></td> -->
                            <td>
                                <div class="form-group ">
                                    <div class='input-group date' id='datetimepicker1'>
                                        <!-- <span class="input-group-addon"><span
                                                class="glyphicon glyphicon-calendar"></span>
                                        </span> -->
                                        <kendo-datepicker width="100%" class="form-control mandatory" formControlName="purchaseDate" [format]="'dd/MM/yyyy'" [max]="toDayDate" placeholder="dd/mm/yyyy" [activeView]="'decade'">
                                        </kendo-datepicker>
                                        <!-- <input type='date' class="form-control" formControlName="purchaseDate"> -->

                                    </div>
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['purchaseDate'].touched && !itemrow.controls['purchaseDate'].vaild">
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['purchaseDate'].hasError('required')">
                                            Purchase date is needed
                                        </div>

                                    </div>
                                </div>



                            </td>
                            <td style="min-width: 120px;">

                                <app-custom-input formControlName="tenure" [className]="'form-control mandatory'" [placeholder]="'Tenure'" [maxLength]="validationData?.tenurePaid['maxLength']" [isRequired]="'Tenure is mandatory'" [patternCheck]="regexPattern.tensure" [type]="validationData?.tenurePaid['type']"
                                    [isDirty]="isDirty">
                                </app-custom-input>

                                <!-- 
                                <div><input type="number" class="form-control  input_value height" formControlName="tenure" placeholder="Tenure">


                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['tenure'].touched && !itemrow.controls['tenure'].valid">
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['tenure'].hasError('required')">
                                            Tenure is required
                                        </div>
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['tenure'].hasError('maxLength')">
                                            Invalid tenure
                                        </div>


                                    </div>




                                </div> -->
                            </td>
                            <td style="min-width: 120px;">
                                <div>
                                    <app-custom-input formControlName="paid" [className]="'form-control mandatory'" [placeholder]="'paid'" [maxLength]="validationData?.tenurePaid['maxLength']" [isRequired]="'Paid is mandatory'" [type]="validationData?.tenurePaid['type']" [isDirty]="isDirty"
                                        (keyup)="checkPaid(event ,i)">
                                    </app-custom-input>

                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['paid'].errors && itemrow.controls['paid'].errors['incorrect']">
                                        Paid not grater Tenure
                                    </div>

                                    <!-- <input type="number" class="form-control  input_value height" placeholder="Paid" formControlName="paid" max="3">
                                    <div class="cus-mandatory-field" *ngIf="itemrow.controls['paid'].touched && !itemrow.controls['paid'].valid">
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['paid'].hasError('required')">
                                            Paid is required
                                        </div>
                                        <div class="cus-mandatory-field" *ngIf="itemrow.controls['paid'].hasError('maxLength')">
                                            Invalid lpaid
                                        </div>


                                    </div> -->
                                </div>
                            </td>
                            <td><input type="text" class="form-control input_value height" formControlName="seasoning">
                            </td>
                            <td><input type="number" class="form-control input_value height" formControlName="ad">
                            </td>
                            <td><input type="number" class="form-control input_value height" formControlName="pd">
                            </td>
                            <td><input type="number" class="form-control input_value height" formControlName="gridValue">
                            </td>
                            <td><u><button class="a_tag" (click)="onFormSubmit(i)">RTR</button></u></td>
                            <!-- <td><i class="fa fa-plus" aria-hidden="true" id="addmorePOIbutton"
                                                (click)="addNewRow()"></i> &nbsp;
                                            <i class="fa fa-minus" aria-hidden="true" id="remove_item_applicant"
                                                (click)="deleteRow(i)"></i></td> -->
                            <td>
                                <button class="fa fa-plus" aria-hidden="true" id="addmorePOIbutton" value="Add" (click)="addNewRow()"></button>&nbsp;
                                <button type="button" class="fa fa-minus" aria-hidden="true" id="delPOIbutton" value="Delete" (click)="deleteRow(i,fleetForm.value.Rows)"></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- </div> -->

    <!-- </div> -->


    <div class="btn-sec clear-both row cst_btm_btns">
        <div class="col-sm-5">

        </div>
        <div class="col-sm-7 text-right ">
            <button class="btn btn-primary mar-right8" type="button" (click)="toCollaterals()">Back</button>&nbsp;
            <button class="btn btn-primary mar-right8" type="button" (click)="onFormSubmit(i)">Save </button>&nbsp;
            <button class="btn btn-primary js-btn-next" type="button" (click)="onFormSubmit('next')"> Next </button>
        </div>
    </div>

</form>

<!-- 
        <div class="btn-sec clear-both row text-right">
            <div class="col-sm-12">
                <button class="btn btn-primary cus-btn-sty" type="button">Back</button>
                <p class="btn btn-primary save cus-btn-sty"> Save </p>
                <button class="btn btn-primary cus-btn-sty" type="button" (click)="showFormValues()">Next</button>
            </div>
        </div> -->