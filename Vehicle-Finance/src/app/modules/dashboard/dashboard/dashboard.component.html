<main class="mar-top90 main-tab">
    <div class="container-fluid">
        <div *ngIf="supervisorName" style="float: left; margin-left: 5px;">
            <h4>Viewing {{supervisorName}}'s Dashboard</h4>
        </div>
        <div class="pull-right dropdown nav">
            <div class="pull-right dropdown nav">

                <button *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab"
                    class="btn btn-default mar-bottom" (click)="showFilter=!showFilter"> <i class="fa fa-filter"></i>
                    {{!isFilterApplied ? "Filter" : "Filter Applied"}} </button>
            </div>
            <!-- <div *ngIf="isFilterApplied" class="pull-right dropdown nav">
              <button class="btn btn-default mar-bottom" (click)="showFilter=!showFilter"> <i class="fa fa-filter"></i> Filter Applied</button>
          </div> -->

            <div class="pull-right dropdown nav" style="margin-right: 10px">
                <button *ngIf="supervisorName" style="margin-right: 10px" (click)="onBack()" class="btn btn-primary">
                    Back
                </button>
                <button class="btn btn-primary view-button" type="button" (click)="initinequery()">
                    Initiate Query &nbsp;
                    <i class="fa fa-bell cus-bell font-medium-3"></i><span
                        class="notification badge badge-pill badge-danger"
                        *ngIf="leadCount && leadCount !== 0">{{leadCount}}</span>

                </button>

            </div>

        </div>
    </div>

    <div class="filter-block container-fluid mar-bottom"
        *ngIf="showFilter && (displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab)">
        <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab">
            <form [formGroup]="filterForm">
                <div class="row">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="leadId">{{labels?.leadID}}</label>
                        <app-custom-input id="leadId" formControlName="leadId" [className]="'form-control'"
                            [placeholder]="'Lead Id'" [maxLength]="validationData?.extn.maxLength"
                            [type]="validationData?.extn.type">
                        </app-custom-input>
                    </div>
                    <div *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="leadId">{{labels?.loanNumber}}</label>
                        <app-custom-input id="leadId" formControlName="loanNumber" [className]="'form-control'"
                            [placeholder]="'Loan Number'" [type]="validationData?.extn.type">
                        </app-custom-input>
                    </div>
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="productCategory">{{labels?.productCategory}}</label>
                        <!-- <app-vf-custom-select [values]="productCategoryData" formControlName="product"> </app-vf-custom-select> -->
                        <select class="form-control" formControlName="product">
                            <option value=''>-- select one --</option>
                            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
                        </select>
                    </div>
                    <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3 ">
                        <label for="status">{{labels?.status}}</label>
                        <!-- <app-vf-custom-select [values]="stageData" formControlName="leadStage"> </app-vf-custom-select> -->
                        <select class="form-control" formControlName="leadStage">
                            <option value=''>-- select one --</option>
                            <option *ngFor="let item of stageData" [value]="item.key">{{item.value}}</option>
                        </select>
                    </div>
                </div>
                <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab" class="row">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="startDate">{{labels?.leadCreatedOnStartDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="fromDate" [format]="'dd/MM/yyyy'"
                            [max]="toDayDate" placeholder="Start Date" (ngModelChange)="onChangeFromDate($event)"
                            [activeView]="'decade'">
                        </kendo-datepicker>

                    </div>
                    <div [ngClass]="{'disablField': !filterForm.get('fromDate').value}"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="endDate">{{labels?.leadCreatedOnEndDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="toDate" [format]="'dd/MM/yyyy'"
                            [min]="filterForm.get('fromDate').value" (ngModelChange)="onChangeEndDate($event)"
                            [max]="toDayDate" placeholder="End Date" [activeView]="'decade'">
                        </kendo-datepicker>
                        <!-- <div *ngIf="isFromDate">
                End Date is required
            </div> -->
                        <div *ngIf="fromDateChange && isFromDate">
                            <div style="color:red">
                                End Date is required
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab" class="row">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="startDate">{{labels?.disbursementStartDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="disbFromDate" [format]="'dd/MM/yyyy'"
                            [max]="toDayDate" placeholder="Start Date" (ngModelChange)="onChangeDisbFromDate($event)"
                            [activeView]="'decade'">
                        </kendo-datepicker>

                    </div>
                    <div [ngClass]="{'disablField': !filterForm.get('disbFromDate').value}"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="endDate">{{labels?.disbursementEndDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="disbToDate" [format]="'dd/MM/yyyy'"
                            [min]="filterForm.get('disbFromDate').value" (ngModelChange)="onChangeDisbToDate($event)"
                            [max]="toDayDate" placeholder="End Date" [activeView]="'decade'">
                        </kendo-datepicker>
                        <!-- <div *ngIf="isFromDate">
                End Date is required
            </div> -->
                        <div *ngIf="disbFromDate && isFromDate">
                            <div style="color:red">
                                End Date is required
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div class="row">
                    <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="minAmount">{{labels.loanMinAmount}}</label>
                        <app-custom-input id="minAmount" formControlName="loanMinAmt" [className]="'form-control'"
                            [placeholder]="'Enter Loan amount'" (ngModelChange)="onMinAmtChange($event)"
                            [maxLength]="validationData?.amountValue.maxLength"
                            [type]="validationData?.amountValue.type">
                        </app-custom-input>
                    </div>
                    <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab"
                        [ngClass]="{'disablField': !filterForm.get('loanMinAmt').value}"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="maxAmount">{{labels.loanMaxAmount}}</label>
                        <app-custom-input id="maxAmount" formControlName="loanMaxAmt" [className]="'form-control'"
                            [placeholder]="'Enter Loan amount'" (ngModelChange)="onMaxAmtChange($event)"
                            [maxLength]="validationData?.amountValue.maxLength"
                            [type]="validationData?.amountValue.type">
                        </app-custom-input>
                        <div *ngIf="minLoanAmtChange && isAmountChange">
                            <div style="color:red">
                                Amount should be grater then min amount is required
                            </div>
                        </div>
                    </div>
                    <div class="actionbtn col-sm-6 col-md-3 col-lg-3">
                        <button class="btn btn-default mar-right8" type="button" id="clearbtn"
                            (click)="onClear(); showFilter=!showFilter"> Clear </button>
                        <button class="btn btn-primary" [disabled]="isFromDate || isAmountChange" type="submit"
                            (click)="onApply()">
                            Apply </button>
                    </div>
                </div>
            </form>

        </div>
    </div>

    <!-- Sales Flow -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '1'">

        <ul class="nav nav-pills nav-justified" id="background_white">
            <li (click)="onLeads(displayTabs?.Leads, displayTabs?.NewLeads)"
                [ngClass]="{'active':displayTabs?.Leads === activeTab}" routerLinkActive="active" id="leads"><a
                    data-toggle="tab">Leads</a></li>
            <li (click)="onLeads(displayTabs?.PD, displayTabs?.MyPD)"
                [ngClass]="{'active':displayTabs?.PD === activeTab}" routerLinkActive="active"><a data-toggle="tab">FI
                    cum PD</a></li>
            <li (click)="onLeads(displayTabs?.FI, displayTabs?.MyFI)"
                [ngClass]="{'active':displayTabs?.FI === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Field Investigation</a></li>
            <li (click)="onLeads(displayTabs?.Viability, displayTabs?.ViabilityWithMe)"
                [ngClass]="{'active':displayTabs?.Viability === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Vehicle Viability</a></li>
            <li (click)="onLeads(displayTabs?.Deviation, displayTabs?.DeviationWithMe, 'deviation')"
                [ngClass]="{'active':displayTabs?.Deviation === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation</a></li>
            <li (click)="onLeads(displayTabs?.PDD)" [ngClass]="{'active':displayTabs?.PDD === activeTab}"
                routerLinkActive="active"><a data-toggle="tab">PDD</a></li>
            <li (click)="onLeads(displayTabs?.ChequeTracking)"
                [ngClass]="{'active':displayTabs?.ChequeTracking === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Cheque Tracking</a></li>
            <li (click)="onLeads(displayTabs?.PreDisbursementQueue, displayTabs?.PreDisbursementWithMe)"
                [ngClass]="{'active':displayTabs?.PreDisbursementQueue === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Pre-Disbursement</a></li>
            <li (click)="onLeads(displayTabs?.TermSheet, displayTabs?.TermSheetWithMe)"
                [ngClass]="{'active':displayTabs?.TermSheet === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Term Sheet</a></li>
            <li (click)="onLeads(displayTabs?.TranchesDisburse, displayTabs?.TrancheDisburseWithBranch)"
                [ngClass]="{'active':displayTabs?.TranchesDisburse === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Tranche Disbursement</a></li>

        </ul>
    </div>

    <div class="container-fluid mar-bottom" *ngIf="roleType == '1'">
        <ul *ngIf="displayTabs?.Leads === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.NewLeads)" [ngClass]="{'active':displayTabs?.NewLeads === subActiveTab}"
                routerLinkActive="active" id="leads"><a data-toggle="tab">New Leads</a></li>
            <!--  -->
            <li (click)="leads(displayTabs?.ReversedLeadsWithMe)"
                [ngClass]="{'active':displayTabs?.ReversedLeadsWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Reversed Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.ReversedLeadsWithBranch)"
                [ngClass]="{'active':displayTabs?.ReversedLeadsWithBranch === subActiveTab}" routerLinkActive="active">
                <a data-toggle="tab">Reversed Leads Pending with Branch</a></li>
            <!--  -->
            <li (click)="leads(displayTabs?.SanctionedWithMe)"
                [ngClass]="{'active':displayTabs?.SanctionedWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Sanctioned Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.SanctionedWithBranch)"
                [ngClass]="{'active':displayTabs?.SanctionedWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Sanctioned Leads Pending with Branch</a></li>
            <li (click)="leads(displayTabs?.DeclinedWithMe)"
                [ngClass]="{'active':displayTabs?.DeclinedWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Declined Leads with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.DeclinedWithBranch)"
                [ngClass]="{'active':displayTabs?.DeclinedWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Declined Leads with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PD === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.MyPD)" [ngClass]="{'active':displayTabs?.MyPD === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">FI cum PD Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.BranchPd)" [ngClass]="{'active':displayTabs?.BranchPd === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">FI cum PD Pending with Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.FI === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.MyFI)" [ngClass]="{'active':displayTabs?.MyFI === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">FI Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.BranchFI)" [ngClass]="{'active':displayTabs?.BranchFI === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">FI Pending with Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.Viability === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.ViabilityWithMe)"
                [ngClass]="{'active':displayTabs?.ViabilityWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Viability Checks Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.ViabilityWithBranch)"
                [ngClass]="{'active':displayTabs?.ViabilityWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Viability Checks Pending with Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.Deviation === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.DeviationWithMe)"
                [ngClass]="{'active':displayTabs?.DeviationWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation Pending With {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.DeviationWithBranch)"
                [ngClass]="{'active':displayTabs?.DeviationWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation Pending With Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.PreDisbursementQueue === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li (click)="leads(displayTabs?.PreDisbursementWithMe)"
                [ngClass]="{'active':displayTabs?.PreDisbursementWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.PreDisbursementWithBranch)"
                [ngClass]="{'active':displayTabs?.PreDisbursementWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads Pending with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TermSheet === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.TermSheetWithMe)"
                [ngClass]="{'active':displayTabs?.TermSheetWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.TermSheetWithBranch)"
                [ngClass]="{'active':displayTabs?.TermSheetWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet Pending With Branch</a></li>
        </ul>

        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li (click)="leads(displayTabs?.TrancheDisburseWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending with Branch</a></li>
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending Curing With Branch</a></li>
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending Curing With Me</a></li>
        </ul>

    </div>

    <!-- Credit Flow  -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '2'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li (click)="onLeads(displayTabs?.DDE, displayTabs?.DDEWithMe, 'dde')"
                [ngClass]="{'active':displayTabs?.DDE === activeTab}" routerLinkActive="active" id="leads"><a
                    data-toggle="tab">DDE</a></li>
            <li (click)="onLeads(displayTabs?.PD, displayTabs?.MyPD)"
                [ngClass]="{'active':displayTabs?.PD === activeTab}" routerLinkActive="active"><a data-toggle="tab">PD /
                    FI cum PD</a></li>
            <li (click)="onLeads(displayTabs?.FI, displayTabs?.MyFI)"
                [ngClass]="{'active':displayTabs?.FI === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Field Investigation</a></li>
            <li (click)="onLeads(displayTabs?.Deviation, displayTabs?.DeviationWithMe, 'deviation')"
                [ngClass]="{'active':displayTabs?.Deviation === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation</a></li>
            <li (click)="onLeads(displayTabs?.Decision, displayTabs?.CreditDecisionWithMe, 'creditDecision')"
                [ngClass]="{'active':displayTabs?.Decision === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Credit
                    Decision</a></li>
            <li (click)="onLeads(displayTabs?.TermSheet, displayTabs?.TermSheetWithMe)"
                [ngClass]="{'active':displayTabs?.TermSheet === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Term
                    Sheet</a></li>
        </ul>
    </div>

    <div class="container-fluid mar-bottom" *ngIf="roleType == '2'">
        <ul *ngIf="displayTabs?.DDE === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.DDEWithMe)" [ngClass]="{'active':displayTabs?.DDEWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">DDE Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.DDEWithBranch)"
                [ngClass]="{'active':displayTabs?.DDEWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">DDE Leads Pending with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PD === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.MyPD)" [ngClass]="{'active':displayTabs?.MyPD === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">PD / FI cum PD Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.BranchPd)" [ngClass]="{'active':displayTabs?.BranchPd === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">PD / FI cum PD Pending with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.FI === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.MyFI)" [ngClass]="{'active':displayTabs?.MyFI === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">FI Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.BranchFI)" [ngClass]="{'active':displayTabs?.BranchFI === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">FI Pending with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.Deviation === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.DeviationWithMe)"
                [ngClass]="{'active':displayTabs?.DeviationWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation Pending With {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.DeviationWithBranch)"
                [ngClass]="{'active':displayTabs?.DeviationWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation Pending With Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.Decision === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.CreditDecisionWithMe)"
                [ngClass]="{'active':displayTabs?.CreditDecisionWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Decision Pending With {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.CreditDecisionWithBranch)"
                [ngClass]="{'active':displayTabs?.CreditDecisionWithBranch === subActiveTab}" routerLinkActive="active">
                <a data-toggle="tab">Decision Pending With Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TermSheet === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.TermSheetWithMe)"
                [ngClass]="{'active':displayTabs?.TermSheetWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.TermSheetWithBranch)"
                [ngClass]="{'active':displayTabs?.TermSheetWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet Pending With Branch</a></li>
        </ul>

    </div>

    <!-- for CPC Maker and CPC Checker Starts-->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '4'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li (click)="onLeads(displayTabs?.CPCMaker, displayTabs?.CPCMakerWithMe,'CPC')"
                [ngClass]="{'active':displayTabs?.CPCMaker === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">CPC
                    Maker</a></li>
            <li (click)="onLeads(displayTabs?.TranchesDisburse, displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TranchesDisburse === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Tranche Disbursement</a></li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '4'">
        <ul *ngIf="displayTabs?.CPCMaker === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="active" (click)="leads(displayTabs?.CPCMakerWithMe)"
                [ngClass]="{'active':displayTabs?.CPCMakerWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.CPCMakerWithBranch)"
                [ngClass]="{'active':displayTabs?.CPCMakerWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads Pending with CPC</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending With Me</a></li>
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending With CPC</a></li>

        </ul>
    </div>

    <div class="container-fluid mar-bottom" *ngIf="roleType == '5'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li (click)="onLeads(displayTabs?.CPCChecker, displayTabs?.CPCCheckerWithMe,'CPC')"
                [ngClass]="{'active':displayTabs?.CPCChecker === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">CPC
                    Checker</a></li>
            <li (click)="onLeads(displayTabs?.LoanBooking)"
                [ngClass]="{'active':displayTabs?.LoanBooking === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Loan Booking</a></li>
            <li (click)="onLeads(displayTabs?.PDDforCPC, displayTabs?.PDDWithMe)"
                [ngClass]="{'active':displayTabs?.PDDforCPC === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD</a></li>
            <li (click)="onLeads(displayTabs?.TranchesDisburse, displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TranchesDisburse === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Tranche Disbursement</a></li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '5'">
        <ul *ngIf="displayTabs?.CPCChecker === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="active" (click)="leads(displayTabs?.CPCCheckerWithMe)"
                [ngClass]="{'active':displayTabs?.CPCCheckerWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.CPCCheckerWithBranch)"
                [ngClass]="{'active':displayTabs?.CPCCheckerWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads Pending with CPC</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PDDforCPC === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li (click)="leads(displayTabs?.PDDWithMe)" [ngClass]="{'active':displayTabs?.PDDWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.PDDWithBranch)"
                [ngClass]="{'active':displayTabs?.PDDWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads Pending with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending With Me</a></li>
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending With CPC</a></li>
        </ul>
    </div>
    <!-- CPC Maker and CPC Checker Ends -->

    <!-- RCU Dashboard Starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '6'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li (click)="onLeads(displayTabs?.RCU, displayTabs?.RCUWithMe)"
                [ngClass]="{'active':displayTabs?.RCU === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">RCU</a>
            </li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '6'">
        <ul *ngIf="displayTabs?.RCU === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="active" (click)="leads(displayTabs?.RCUWithMe)"
                [ngClass]="{'active':displayTabs?.RCUWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">RCU Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.RCUWithBranch)"
                [ngClass]="{'active':displayTabs?.RCUWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">RCU Pending with Branch</a></li>
        </ul>
    </div>
    <!-- RCU Dashboard Ends -->

    <!-- CPCCAD Dashboard Starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '7'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li (click)="onLeads(displayTabs?.CPCCAD, displayTabs?.CPCCADWithMe)"
                [ngClass]="{'active':displayTabs?.CPCCAD === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">CAD</a>
            </li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '7'">
        <ul *ngIf="displayTabs?.CPCCAD === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="active" (click)="leads(displayTabs?.CPCCADWithMe)"
                [ngClass]="{'active':displayTabs?.CPCCADWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab"> CAD Pending with {{pendingName}}</a></li>
            <li (click)="leads(displayTabs?.CPCCADWithBranch)"
                [ngClass]="{'active':displayTabs?.CPCCADWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">CAD Pending with Branch</a></li>

        </ul>
        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending With Me</a></li>
            <li (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending With CPC</a></li>
        </ul>
    </div>
    <!-- CPCCAD
     Dashboard Ends -->

    <div>
        <div class="container-fluid table-responsive">
            <table
                *ngIf="displayTabs?.PDD != activeTab && displayTabs?.ChequeTracking != activeTab && displayTabs?.LoanBooking != activeTab && displayTabs?.PDDforCPC != activeTab && displayTabs?.TranchesDisburse != activeTab">
                <thead>
                    <tr class="table-head-bg">
                        <th *ngIf="onReleaseTab || onAssignTab">{{labels?.action}}</th>
                        <th *ngIf="(!onReleaseTab && !onAssignTab) && userName">{{labels?.action}}</th>
                        <th>{{labels?.leadID}}<i class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByLeadId === sortTab}"
                                (click)="onSort(sortTables?.ByLeadId)"> </i> </th>
                        <th>{{labels?.applicantName}} </th>
                        <th>{{labels?.product}}<i class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByProduct === sortTab}"
                                (click)="onSort(sortTables?.ByProduct)"> </i> </th>
                        <th>{{labels?.loanAmount}}<i class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByLoanAmt === sortTab}"
                                (click)="onSort(sortTables?.ByLoanAmt)"> </i> </th>
                        <th>{{labels?.applicant+'s'}} </th>
                        <th>{{labels?.createdOn}}<i class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByDate === sortTab}"
                                (click)="onSort(sortTables?.ByDate)"> </i> </th>
                        <th>{{labels?.createdBy}} </th>
                        <th>{{labels?.priority}} </th>
                        <th>{{labels?.promoCode}} </th>
                        <th>{{labels?.status}} <i class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByStage === sortTab}"
                                (click)="onSort(sortTables?.ByStage)"> </i> </th>
                        <th>{{labels?.history}} </th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let item of newArray | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index">
                        <!-- <td [attr.data-label]="labels?.action" *ngIf="onReleaseTab">
              <input type="button" class="btn btn-primary"
                (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()" value="Release"
                data-toggle="modal" data-target="#releaseModal">
            </td> -->

                        <td *ngIf="onReleaseTab && !userName">
                            <input type="button" class="btn btn-primary"
                                (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()"
                                value="Release" data-toggle="modal" data-target="#releaseModal">
                        </td>
                        <td *ngIf="onAssignTab && !userName">
                            <input type="button" class="btn btn-primary"
                                (click)="onAssign(item.taskId, item.leadId);  assignTaskId(item.taskId); onClick(); getLeadId(item)"
                                value="Assign" data-toggle="modal" data-target="#assignModel" />
                        </td>
                        <!--  -->
                        <td [attr.data-label]="labels?.action" *ngIf="userName && (!onReleaseTab && !onAssignTab)">

                            <input type="button" *ngIf="selfAssign" style="margin-top: 5px;"
                                (click)="onSelfAssignClick(item.taskId, item.leadId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary" value="Self Assign">
                            <input type="button" style="margin-top: 5px;" (click)="onReAssignClick(item)"
                                class="btn btn-primary" value="Re-Assign" data-toggle="modal"
                                data-target="#supervisorTaskAssign">
                        </td>
                        <td [attr.data-label]="labels?.action" *ngIf="userName && onReleaseTab">
                            <!-- <input type="button" *ngIf="!userName" class="btn btn-primary"
                (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()"
                value="Release" data-toggle="modal" data-target="#releaseModal"> -->
                            <input type="button" *ngIf="selfAssign"
                                (click)="onSelfAssignClick(item.taskId, item.leadId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary btn-re" value="Self Assign">
                            <input type="button" (click)="onReAssignClick(item)" class="btn btn-primary btn-re"
                                value="Re-Assign" data-toggle="modal" data-target="#supervisorTaskAssign">
                        </td>

                        <!--  -->
                        <td [attr.data-label]="labels?.action" *ngIf="userName && onAssignTab">
                            <!-- <input type="button" *ngIf="!userName" class="btn btn-primary"
                (click)="onAssign(item.taskId, item.leadId);  assignTaskId(item.taskId); onClick(); getLeadId(item)"
                value="Assign" data-toggle="modal" data-target="#assignModel" /> -->
                            <input type="button" *ngIf="selfAssign"
                                (click)="onSelfAssignClick(item.taskId, item.leadId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary btn-re" value="Self Assign">
                            <input type="button" (click)="onReAssignClick(item)" class="btn btn-primary btn-re"
                                value="Re-Assign" data-toggle="modal" data-target="#supervisorTaskAssign">
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="(!onReleaseTab && !onAssignTab) && !userName">
                            <a class="text-underline"
                                (click)="onRoute(item.leadId,item.stageCode,item.taskId); assignTaskId(item.taskId); getLeadId(item)"
                                style="cursor: pointer;">{{item.leadId}}</a>
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="(onReleaseTab && !onAssignTab) && !userName">
                            <a class="text-underline"
                                (click)="getLeadId(item); onRoute(item.leadId,item.stageCode,item.taskId); assignTaskId(item.taskId)"
                                style="cursor: pointer;">{{item.leadId}}</a>
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="(!onReleaseTab && onAssignTab) && !userName">
                            <a>{{item.leadId}}</a>
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="userName">
                            <a>{{item.leadId}}</a>
                        </td>
                        <!-- <td [attr.data-label]="labels?.leadID" class="text-underline" *ngIf="roleType == '2'"><a (click)="assignTaskId(item.taskId); getLeadId(item)">{{item.leadId}}</a></td> -->
                        <td [attr.data-label]="labels?.applicantName">{{item.applicantName ? item.applicantName : '--'}}
                        </td>
                        <td [attr.data-label]="labels?.product">{{item.product ? item.product : '--'}}</td>
                        <td [attr.data-label]="labels?.loanAmount">{{item.loanAmt ? item.loanAmt : '--'}}</td>
                        <td [attr.data-label]="labels?.applicant">{{item.applicants ? item.applicants : '--'}}</td>
                        <td [attr.data-label]="labels?.createdOn">{{item.createdOn ? item.createdOn : '--'}}</td>
                        <td [attr.data-label]="labels?.createdBy">{{item.createdBy ? item.createdBy : '--'}}</td>
                        <td [attr.data-label]="labels?.priority" *ngIf="item.priority == '1'">Yes</td>
                        <td [attr.data-label]="labels?.priority" *ngIf="item.priority == '0' || item.priority == null">
                            No</td>
                        <td [attr.data-label]="labels?.promoCode">{{item.promoCode ? item.promoCode : '--'}}</td>
                        <td [attr.data-label]="labels?.status">{{item.stage ? item.stage : '--'}}</td>
                        <td [attr.data-label]="labels?.history">
                            <a data-toggle="modal" data-target="#leadHistoryModal" data-tooltip="Lead History"
                                data-placement="bottom" (click)="onLeadHistory(item.leadId)"> <i
                                    class="fa fa-history"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div>
                <table
                    *ngIf="displayTabs?.PDD === activeTab || displayTabs?.ChequeTracking === activeTab || displayTabs?.LoanBooking === activeTab || displayTabs?.PDDforCPC === activeTab">
                    <thead>
                        <tr class="table-head-bg">
                            <th *ngIf="(onReleaseTab || onAssignTab) && displayTabs?.PDDforCPC === activeTab">
                                {{labels?.action}}</th>
                            <th *ngIf="displayTabs?.LoanBooking === activeTab">{{labels?.leadID}}</th>
                            <th *ngIf="displayTabs?.LoanBooking === activeTab">{{labels?.loanAccNumber}}<i
                                    class="fa fa-sort"></i>
                            </th>
                            <th *ngIf="displayTabs?.LoanBooking !== activeTab">{{labels?.loanNumber}}<i
                                    class="fa fa-sort"></i> </th>
                            <th *ngIf="displayTabs?.LoanBooking != activeTab">{{labels?.applicantName+' Name'}}<i
                                    class="fa fa-sort"></i>
                            </th>
                            <th>{{labels?.productCategory}}<i class="fa fa-sort"></i> </th>
                            <th *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab">
                                {{labels?.disbursementDate}}<i class="fa fa-sort"></i> </th>
                            <th *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab">
                                {{labels?.expectedDate}}<i class="fa fa-sort"></i> </th>
                            <!-- <th *ngIf="displayTabs?.PDD === activeTab">{{labels?.status}}<i class="fa fa-sort"></i> </th> -->
                            <th *ngIf="displayTabs?.PDDforCPC === activeTab">{{labels?.branch}}<i
                                    class="fa fa-sort"></i> </th>
                            <th
                                *ngIf="displayTabs?.LoanBooking === activeTab || displayTabs?.ChequeTracking === activeTab">
                                {{labels?.loanAmount}}<i class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByLoanAmt === sortTab}"
                                    (click)="onSort(sortTables?.ByLoanAmt)"></i> </th>
                            <th *ngIf="displayTabs?.LoanBooking === activeTab">
                                {{labels?.applicant+'s'}}<i class="fa fa-sort"></i> </th>
                            <!-- <th *ngIf="displayTabs?.LoanBooking != activeTab">{{labels?.applicantName}}<i class="fa fa-sort"></i>
              </th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let item of newArray | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index">
                            <td [attr.data-label]="labels?.action"
                                *ngIf="onReleaseTab && displayTabs?.PDDforCPC === activeTab">
                                <input type="button" class="btn btn-primary"
                                    (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()"
                                    value="Release" data-toggle="modal" data-target="#releaseModal">
                            </td>
                            <td [attr.data-label]="labels?.action"
                                *ngIf="onAssignTab && displayTabs?.PDDforCPC === activeTab">
                                <input type="button" class="btn btn-primary"
                                    (click)="onAssign(item.taskId, item.leadId);  assignTaskId(item.taskId); onClick(); getLeadId(item)"
                                    value="Assign" data-toggle="modal" data-target="#assignModel" />
                            </td>
                            <td *ngIf="displayTabs?.LoanBooking === activeTab" [attr.data-label]="labels?.leadID"><a
                                    class="text-underline" style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId); getLoanNumber(item.loanNumber)">{{item.leadId ? item.leadId : '--'}}</a>
                            </td>
                            <td *ngIf="displayTabs?.PDDforCPC === activeTab && (!onReleaseTab && onAssignTab)"
                                [attr.data-label]="labels?.loanNumber">
                                <a>{{item.loanNumber}}</a>
                            </td>
                            <td *ngIf="displayTabs?.PDD === activeTab || displayTabs?.ChequeTracking === activeTab"
                                [attr.data-label]="labels?.loanNumber">
                                <a class="text-underline" style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId); getLoanNumber(item.loanNumber)">{{item.loanNumber}}</a>
                            </td>
                            <td *ngIf="displayTabs?.PDDforCPC === activeTab && (onReleaseTab && !onAssignTab)"
                                [attr.data-label]="labels?.loanNumber"><a class="text-underline"
                                    style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId); getLoanNumber(item.loanNumber)">{{item.loanNumber}}</a>
                            </td>
                            <!-- <td *ngIf="displayTabs?.PDDforCPC === activeTab" [attr.data-label]="labels?.loanNumber"
                class="text-underline" (click)="onRoute(item.leadId,item.stageCode,item.taskId); getLoanNumber(item.loanNumber)"><a
                  >{{item.loanNumber}}</a>
              </td> -->
                            <td *ngIf="displayTabs?.LoanBooking === activeTab" [attr.data-label]="labels?.loanNumber">
                                <a>{{item.loanAccountNo ? item.loanAccountNo : '--'}}</a></td>
                            <td *ngIf="displayTabs?.LoanBooking != activeTab" [attr.data-label]="labels?.applicantName">
                                {{item.applicantName ? item.applicantName : '--'}}</td>

                            <td [attr.data-label]="labels?.productCategory">{{item.product ? item.product : '--'}}</td>
                            <td *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab"
                                [attr.data-label]="labels?.disbursementDate">
                                {{item.disbursementDate ? item.disbursementDate : '--'}}
                            </td>
                            <td *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab"
                                [attr.data-label]="labels?.expectedDate">
                                {{item.expectedDate ? item.expectedDate : '--'}}</td>
                            <!-- <td *ngIf="displayTabs?.PDD === activeTab" [attr.data-label]="labels?.status">
                {{item.stageValue ? item.stageValue : '--'}}</td> -->
                            <td *ngIf="displayTabs?.PDDforCPC === activeTab" [attr.data-label]="labels?.branch">
                                {{item.branchName ? item.branchName : '--'}}</td>
                            <td *ngIf="displayTabs?.LoanBooking === activeTab || displayTabs?.ChequeTracking === activeTab"
                                [attr.data-label]="labels?.loanAmount">{{item.loanAmount ? item.loanAmount : '--'}}</td>
                            <td *ngIf="displayTabs?.LoanBooking === activeTab" [attr.data-label]="labels?.applicants">
                                {{item.applicants ? item.applicants : '--'}}</td>
                            <!-- <td *ngIf="displayTabs?.LoanBooking != activeTab" [attr.data-label]="labels?.applicantName">
                {{item.applicantName ? item.applicantName : '--'}}</td> -->
                        </tr>
                    </tbody>
                </table>
                <table *ngIf="displayTabs?.TranchesDisburse === activeTab">
                    <thead>
                        <tr class="table-head-bg">
                            <th *ngIf="displayTabs?.TrancheDisburseWithBranch != subActiveTab">{{labels?.action}}</th>
                            <th>{{labels?.loanNumber}}
                                <i class="fa fa-sort"></i>
                            </th>
                            <th>{{labels?.productName}}
                                <i class="fa fa-sort"></i>
                            </th>
                            <!-- <th>{{labels?.productCategory}}
                    <i class="fa fa-sort"></i>
                </th> -->
                <th>{{labels?.loanAmount}}
                    <i class="fa fa-sort" [ngClass]="{'active':sortTables?.ByLoanAmt === sortTab}" (click)="onSort(sortTables?.ByLoanAmt)"></i>
                </th>
                <th>{{labels?.mainApplicantName}}
                    <i class="fa fa-sort"></i>
                </th> 
                <th>{{labels?.noOfTrancheDisburse}}
                    <i class="fa fa-sort"></i>
                </th>
                <th>{{labels?.alreadyDisbursedAmount}}
                    <i class="fa fa-sort"></i>
                </th>
                <th>{{labels?.balanceToBeDisbursed}}
                    <i class="fa fa-sort"></i>
                </th>
            </tr>
          </thead>
          <tbody>
              <tr *ngFor="let item of trancheDetails | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index">
                  <td [attr.data-label]="labels?.action" *ngIf="onReleaseTab">
                      <input type="button" class="btn btn-primary" (click)="onRelase(item.taskId); assignTaskId(item.taskId); onClick()" value="Release"
                          data-toggle="modal" data-target="#releaseModal">
                  </td>
                  <td [attr.data-label]="labels?.action" *ngIf="onAssignTab">
                      <input type="button" class="btn btn-primary" (click)="onAssign(item.taskId, item.leadID);  assignTaskId(item.taskId); onClick(); getLeadId(item);getLoanNumber(item.loanAccountNumber)"
                          value="Assign" data-toggle="modal" data-target="#assignModel" />
                  </td>
                  <td [attr.data-label]="labels?.loanNumber" *ngIf="displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab"  >  
                      <!-- <a (click)="assignTaskId(item.taskId);getLoanNumber(item.loanAccountNumber)" [routerLink]="[ '/pages/disbursement-section', item.leadID,'tranche-disburse' ]">{{item.loanAccountNumber}}</a> -->
                      {{item.loanAccountNumber}}
                    </td>
                  <td [attr.data-label]="labels?.loanNumber" class="text-underline" *ngIf="displayTabs?.TrancheDisburseReversedWithBranch != subActiveTab" (click)="getLoanNumber(item.loanAccountNumber)" >
                      <a (click)="assignTaskId(item.taskId);getLoanNumber(item.loanAccountNumber)" [routerLink]="[ '/pages/disbursement-section', (item.taskId)?(item.loanAccountNumber+'-'+item.taskId):item.loanAccountNumber,'tranche-disburse' ]">{{item.loanAccountNumber}}</a>
                  </td>
                  <td [attr.data-label]="labels?.productName">{{item.productName ? item.productName : '--'}}</td>
                  <!-- <td [attr.data-label]="labels?.productCategory">{{item.productCatCode ? item.productCatCode : '--'}}</td> -->
                  <td [attr.data-label]="labels?.loanAmount">{{item.loanAmount ? item.loanAmount : '--'}}</td>
                  <td [attr.data-label]="labels?.applicant">{{item.applicantName ? item.applicantName : '--'}}</td>
                  <td [attr.data-label]="labels?.trancheCount">{{item.trancheCount}}</td>
                  <td [attr.data-label]="labels?.disbursedAmount">{{item.disbursedAmount}}</td>
                  <td [attr.data-label]="labels?.balanceAmount">{{item.balanceAmount}}</td>
              </tr>
          </tbody>
        </table>
      </div>

      <div class="noDataFound" *ngIf="!isLoadLead">
        <h3>No data found</h3>
      </div>
      <div *ngIf="isLoadLead" class="row clearfix marBottom-45">
        <div class="records col-lg-6 col-md-6 col-sm-3 col-xs-3">

          <div class="top-padding"><label>No. of Rows </label>
            <select class="form-control  input-sm" (change)="setPage($event)" [(ngModel)]="itemsPerPage">
              <option value="5">5</option>
              <option value="10">10</option>
              <option class="filter-disable" value="25">25</option>
              <option class="filter-disable" value="50">50</option>
            </select>
                    </div>

                </div>
                <nav class="col-lg-6 col-md-6 col-sm-9 col-xs-9 text-right top-padding">
                    <pagination-controls previousLabel="" nextLabel="" (pageChange)="setPage($event)">
                    </pagination-controls>
                </nav>
            </div>
        </div>
    </div>


    <!-- Supervisor Modal Box -->

    <div class="modal" id="supervisorTaskAssign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left">Assign task to</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- <select class="form-control" formControlName="product">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
          </select> -->
                    <form [formGroup]="supervisorForm">
                        <select formControlName="roles" class="form-control">
                            <option value=''>-- select one --</option>
                            <option *ngFor="let role of userData" [value]="role.key">
                                {{role.value}}
                            </option>
                        </select>
                    </form>
                    <!-- <form>
            <select data-placeholder="Begin typing a name to filter..." multiple class="chosen-select" name="test">
              <option value=""></option>
              <option>American Black Bear</option>
              <option>Asiatic Black Bear</option>
              <option>Brown Bear</option>
              <option>Giant Panda</option>
              <option>Sloth Bear</option>
              <option>Sun Bear</option>
              <option>Polar Bear</option>
              <option>Spectacled Bear</option>
            </select>
            <input type="submit">
          </form> -->


                </div>
                <div class="modal-footer text-center">
                    <button type="button" class="btn btn-success" [disabled]="supervisorForm.invalid"
                        (click)="onConfirmAssign()" data-toggle="modal" data-target="#confirmTaskAssign">
                        Submit
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        Close
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmTaskAssign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left;">Confirmation</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- <select class="form-control" formControlName="product">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
          </select> -->
                    <p>Are you sure you want to assign task?</p>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" (click)="supervisorReAssign()" class="btn btn-success">
                        Yes
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        No
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal1>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmSelfAssign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left">Confirmation</h4>
                    <div class="pull-right dropdown nav">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
                <div class="modal-body">
                    <!-- <select class="form-control" formControlName="product">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
          </select> -->
                    <p>Are you sure you want to assign task to yourself?</p>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" (click)="onSupervisorAssign()" class="btn btn-success">
                        Yes
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        No
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal2>
                        close</button>
                </div>
            </div>
        </div>
    </div>


    <router-outlet></router-outlet>
</main>
