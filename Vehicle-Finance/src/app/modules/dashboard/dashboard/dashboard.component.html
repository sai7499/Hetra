<main class="mar-top90 main-tab">
    <div class="container-fluid">
        <div *ngIf="supervisorName">
            <h4 class="banner-con">Viewing {{supervisorName}}'s Dashboard</h4>
        </div>
        <div class="pull-right dropdown nav">
            <div class="pull-right dropdown nav">

                <button
                    class="btn btn-default mar-bottom" (click)="showFilter=!showFilter"> <i class="fa fa-filter"></i>
                    {{!isFilterApplied ? "Filter" : "Filter Applied"}} </button>
            </div>
            <!-- <div *ngIf="isFilterApplied" class="pull-right dropdown nav">
              <button class="btn btn-default mar-bottom" (click)="showFilter=!showFilter"> <i class="fa fa-filter"></i> Filter Applied</button>
          </div> -->

            <div class="pull-right dropdown nav">
                <button *ngIf="supervisorName" class=" mar-right" (click)="onBack()" class="btn btn-primary">
                    Back
                </button>
                <button class="btn btn-primary view-button " type="button" (click)="initinequery()">
                    Initiate Query &nbsp;
                    <i class="fa fa-bell cus-bell font-medium-3"></i><span
                        class="notification badge badge-pill badge-danger"
                        *ngIf="leadCount && leadCount !== 0">{{leadCount}}</span>

                </button>

            </div>

        </div>
    </div>

    <!-- Filter Form Starts -->
    <div class="filter-block container-fluid mar-bottom"
        *ngIf="showFilter">
        <div>
            <form [formGroup]="filterForm">
                <div class="row">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="leadId">{{labels?.leadID}}</label>
                        <app-custom-input id="leadId" formControlName="leadId" [className]="'form-control'"
                            [placeholder]="'Lead Id'" [maxLength]="validationData?.srto.maxLength"
                            [type]="validationData?.extn.type">
                        </app-custom-input>
                    </div>
                    <div *ngIf="(displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab) || displayTabs?.ChequeTracking === activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="leadId">{{labels?.loanNumber}}</label>
                        <app-custom-input id="leadId" formControlName="loanNumber" [className]="'form-control'"
                            [placeholder]="'Loan Number'" [type]="validationData?.extn.type">
                        </app-custom-input>
                    </div>
                    <div *ngIf="displayTabs?.ApprovalDashboard != activeTab" class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="productCategory">{{labels?.productCategory}}</label>
                        <!-- <app-vf-custom-select [values]="productCategoryData" formControlName="product"> </app-vf-custom-select> -->
                        <select class="form-control" formControlName="product">
                            <option value=''>-- select one --</option>
                            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
                        </select>
                    </div>
                    <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab && displayTabs?.ApprovalDashboard != activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3 ">
                        <label for="status">{{labels?.status}}</label>
                        <!-- <app-vf-custom-select [values]="stageData" formControlName="leadStage"> </app-vf-custom-select> -->
                        <select class="form-control" formControlName="leadStage">
                            <option value=''>-- select one --</option>
                            <option *ngFor="let item of stageData" [value]="item.key">{{item.value}}</option>
                        </select>
                    </div>
                    <div *ngIf="displayTabs?.ApprovalDashboard == activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3 ">
                        <label for="status">Deferral Type</label>
                        <!-- <app-vf-custom-select [values]="stageData" formControlName="leadStage"> </app-vf-custom-select> -->
                        <app-vf-custom-select [values]="deferralTypeList" (change)="onDeferrel($event.target.value)" formControlName="deferralType"
                        >
                    </app-vf-custom-select>
                    </div>
                    <div *ngIf="displayTabs?.ApprovalDashboard == activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3 ">
                        <label for="status">Deferral Document Name</label>
                        <!-- <app-vf-custom-select [values]="stageData" formControlName="leadStage"> </app-vf-custom-select> -->
                        <div>
                            <ng-autocomplete class="custom-select-box" [data]="defDocNames" [searchKeyword]="'item'"
                            (selected)='selectDocNameEvent($event)' (inputChanged)='onDocNameSearch($event)'
                            (inputCleared)='onDocNameClear($event)'
                            [itemTemplate]="favDocNameTemplate" [notFoundTemplate]="notFoundTemplate" formControlName="deferralDocName"
                            [placeHolder]="'Search Deferral Document'" [debounceTime]="400" [minQueryLength]="2">
                            </ng-autocomplete>
                            
          <div class="invalid-feedback">
            <!-- <div *ngIf="!createNegotiationForm.get('tickets')['controls'][i]['controls'].approvalForm['controls']['approvedBy'].value && isDeferral"> Please select user
            </div> -->
            <!-- <div *ngIf="modalDataForm.get('internalValuationUser').hasError('minlength')"> Mininum 3 Charates
              required</div> -->
          </div>
                          <ng-template #favDocNameTemplate let-item>
                            <a [innerHTML]="item"></a>
                          </ng-template>
                          <ng-template #notFoundTemplate let-notFound>
                            <div [innerHTML]="notFound"></div>
                          </ng-template>
                          </div>
                    </div>
                </div>
                <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab && displayTabs?.ApprovalDashboard != activeTab" class="row">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="startDate">{{labels?.leadCreatedOnStartDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="fromDate" [format]="'dd/MM/yyyy'"
                            [max]="toDayDate" placeholder="Start Date" (ngModelChange)="onChangeFromDate($event)"
                            [activeView]="'decade'">
                        </kendo-datepicker>

                    </div>
                    <div [ngClass]="{'disablField': !filterForm.get('fromDate').value}"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="endDate">{{labels?.leadCreatedOnEndDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="toDate" [format]="'dd/MM/yyyy'"
                            [min]="filterForm.get('fromDate').value" (ngModelChange)="onChangeEndDate($event)"
                            [max]="toDayDate" placeholder="End Date" [activeView]="'decade'">
                        </kendo-datepicker>
                        <!-- <div *ngIf="isFromDate">
                End Date is required
            </div> -->
                        <div *ngIf="fromDateChange && isFromDate">
                            <div style="color:red">
                                End Date is required
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab" class="row">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="startDate">{{labels?.disbursementStartDate}}</label>
                        <kendo-datepicker class="form-control" formControlName="disbursementDate" [format]="'dd/MM/yyyy'"
                            [max]="toDayDate" placeholder="Start Date" (ngModelChange)="onChangeDisbFromDate($event)"
                            [activeView]="'decade'">
                        </kendo-datepicker>

                    </div>
                    <div
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="endDate">Expected Date</label>
                        <kendo-datepicker class="form-control" formControlName="expectedDate" [format]="'dd/MM/yyyy'"
                             (ngModelChange)="onChangeDisbToDate($event)"
                             placeholder="End Date" [activeView]="'decade'">
                        </kendo-datepicker>
                        <!-- <div *ngIf="isFromDate">
                End Date is required
            </div> -->
                        <!-- <div *ngIf="disbFromDate && isFromDate">
                            <div style="color:red">
                                End Date is required
                            </div>
                        </div> -->
                    </div>
                </div>
                <!--  -->
                <div class="row">
                    <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab && displayTabs?.ApprovalDashboard != activeTab"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="minAmount">{{labels.loanMinAmount}}</label>
                        <app-custom-input id="minAmount" formControlName="loanMinAmt" [className]="'form-control'"
                            [placeholder]="'Enter Loan amount'" (ngModelChange)="onMinAmtChange($event)"
                            [maxLength]="validationData?.amountValue.maxLength"
                            [type]="validationData?.amountValue.type">
                        </app-custom-input>
                    </div>
                    <div *ngIf="displayTabs?.PDD != activeTab && displayTabs?.PDDforCPC != activeTab && displayTabs?.ApprovalDashboard != activeTab"
                        [ngClass]="{'disablField': !filterForm.get('loanMinAmt').value}"
                        class="form-group col-sm-6 col-md-3 col-lg-3">
                        <label for="maxAmount">{{labels.loanMaxAmount}}</label>
                        <app-custom-input id="maxAmount" formControlName="loanMaxAmt" [className]="'form-control'"
                            [placeholder]="'Enter Loan amount'" (ngModelChange)="onMaxAmtChange($event)"
                            [maxLength]="validationData?.amountValue.maxLength"
                            [type]="validationData?.amountValue.type">
                        </app-custom-input>
                        <div *ngIf="minLoanAmtChange && isAmountChange">
                            <div style="color:red">
                                Amount should be grater then min amount is required
                            </div>
                        </div>
                    </div>
                    <div class="actionbtn col-sm-6 col-md-3 col-lg-3">
                        <button class="btn btn-default mar-right8" type="button" id="clearbtn"
                            (click)="onClear(); showFilter=!showFilter"> Clear </button>
                        <button class="btn btn-primary" [disabled]="isFromDate || isAmountChange" type="submit"
                            (click)="onApply()">
                            Apply </button>
                    </div>
                </div>
            </form>

        </div>
    </div>
    <!-- Filter Form Ends -->

    <!-- Sales Dashboard starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '1' && userDetailsRoleId != '66'">

        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.Leads, displayTabs?.NewLeads)"
                [ngClass]="{'active':displayTabs?.Leads === activeTab}" routerLinkActive="active" id="leads"><a
                    data-toggle="tab">Leads</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.PD, displayTabs?.MyPD)"
                [ngClass]="{'active':displayTabs?.PD === activeTab}" routerLinkActive="active"><a data-toggle="tab">FI
                    cum PD</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.FI, displayTabs?.MyFI)"
                [ngClass]="{'active':displayTabs?.FI === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Field Investigation</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.Viability, displayTabs?.ViabilityWithMe)"
                [ngClass]="{'active':displayTabs?.Viability === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Vehicle Viability</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.Deviation, displayTabs?.DeviationWithMe, 'deviation')"
                [ngClass]="{'active':displayTabs?.Deviation === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation</a></li>
                    <li class="btn-dash" (click)="onLeads(displayTabs?.PDDforCPC, displayTabs?.PDDWithMe)"
                    [ngClass]="{'active':displayTabs?.PDDforCPC === activeTab}" routerLinkActive="active"><a
                       data-toggle="tab">Deferrals</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.ChequeTracking)"
                [ngClass]="{'active':displayTabs?.ChequeTracking === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Cheque Tracking</a></li>
            <li class="btn-dash"
                (click)="onLeads(displayTabs?.PreDisbursementQueue, displayTabs?.PreDisbursementWithMe)"
                [ngClass]="{'active':displayTabs?.PreDisbursementQueue === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Pre-Disbursement</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.TermSheet, displayTabs?.TermSheetWithMe, 'termSheet')"
                [ngClass]="{'active':displayTabs?.TermSheet === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Term Sheet</a></li>
            <li class="btn-dash"
                (click)="onLeads(displayTabs?.TranchesDisburse, displayTabs?.TrancheDisburseWithBranch)"
                [ngClass]="{'active':displayTabs?.TranchesDisburse === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Tranche Disbursement</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.VehicleValuvator, displayTabs?.VehicleValuvatorWithMe)"
                [ngClass]="{'active':displayTabs?.VehicleValuvator === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Vehicle Valuation</a>
                        </li>

        </ul>
    </div>

    <div class="container-fluid mar-bottom" *ngIf="roleType == '1' && userDetailsRoleId != '66'">
        <ul *ngIf="displayTabs?.Leads === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.NewLeads)"
                [ngClass]="{'active':displayTabs?.NewLeads === subActiveTab}" routerLinkActive="active" id="leads"><a
                    data-toggle="tab">New Leads</a></li>
            <!--  -->
            <li class="btn-dash" *ngIf="roleId == '6' && roleType == '1'" (click)="leads(displayTabs?.ExternalUser)"
                [ngClass]="{'active':displayTabs?.ExternalUser === subActiveTab}" routerLinkActive="active" id="leads">
                <a data-toggle="tab">Branch Leads</a>
            </li>
            <!--  -->
            <!--  -->
            <li class="btn-dash" (click)="leads(displayTabs?.ReversedLeadsWithMe)"
                [ngClass]="{'active':displayTabs?.ReversedLeadsWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Reversed Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.ReversedLeadsWithBranch)"
                [ngClass]="{'active':displayTabs?.ReversedLeadsWithBranch === subActiveTab}" routerLinkActive="active">
                <a data-toggle="tab">Reversed Leads with Branch</a>
            </li>
            <!--  -->
            <li class="btn-dash" (click)="leads(displayTabs?.SanctionedWithMe)"
                [ngClass]="{'active':displayTabs?.SanctionedWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Sanctioned Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.SanctionedWithBranch)"
                [ngClass]="{'active':displayTabs?.SanctionedWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Sanctioned Leads with Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DeclinedWithMe)"
                [ngClass]="{'active':displayTabs?.DeclinedWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Declined Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DeclinedWithBranch)"
                [ngClass]="{'active':displayTabs?.DeclinedWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Declined Leads with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PD === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.MyPD)"
                [ngClass]="{'active':displayTabs?.MyPD === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">FI cum PD with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.BranchPd)"
                [ngClass]="{'active':displayTabs?.BranchPd === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">FI cum PD with Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.FI === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.MyFI)"
                [ngClass]="{'active':displayTabs?.MyFI === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">FI with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.BranchFI)"
                [ngClass]="{'active':displayTabs?.BranchFI === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">FI with Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.Viability === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.ViabilityWithMe)"
                [ngClass]="{'active':displayTabs?.ViabilityWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Viability Checks with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.ViabilityWithBranch)"
                [ngClass]="{'active':displayTabs?.ViabilityWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Viability Checks with Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.Deviation === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.DeviationWithMe)"
                [ngClass]="{'active':displayTabs?.DeviationWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DeviationWithBranch)"
                [ngClass]="{'active':displayTabs?.DeviationWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation With Branch</a></li>
        </ul>
        <!--  -->
        <!-- Deferral Docs  -->
        <ul *ngIf="displayTabs?.PDDforCPC === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.PDDWithMe)"
                [ngClass]="{'active':displayTabs?.PDDWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PDDWithBranch)"
                [ngClass]="{'active':displayTabs?.PDDWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD Leads with Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PdcSpdcWithMe)"
                [ngClass]="{'active':displayTabs?.PdcSpdcWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDC/SPDC Leads With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PdcSpdcWithBranch)"
                [ngClass]="{'active':displayTabs?.PdcSpdcWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDC/SPDC Leads With Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DefDocWithMe)"
                [ngClass]="{'active':displayTabs?.DefDocWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Document Deferral Leads With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DefDocWithBranch)"
                [ngClass]="{'active':displayTabs?.DefDocWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Document Deferral Leads With Branch</a></li>
        </ul>
        <!--  -->
        <ul *ngIf="displayTabs?.PreDisbursementQueue === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.PreDisbursementWithMe)"
                [ngClass]="{'active':displayTabs?.PreDisbursementWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PreDisbursementWithBranch)"
                [ngClass]="{'active':displayTabs?.PreDisbursementWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TermSheet === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.TermSheetWithMe)"
                [ngClass]="{'active':displayTabs?.TermSheetWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TermSheetWithBranch)"
                [ngClass]="{'active':displayTabs?.TermSheetWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet With Branch</a></li>
        </ul>

        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending with Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending Curing With Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending Curing With Me</a></li>
        </ul>
        <ul *ngIf="displayTabs?.VehicleValuvator === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.VehicleValuvatorWithMe)"
                [ngClass]="{'active':displayTabs?.VehicleValuvatorWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab"> Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.VehicleValuvatorWithBranch)"
                [ngClass]="{'active':displayTabs?.VehicleValuvatorWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads with Branch</a></li>

        </ul>

    </div>
    <!-- Sales Dashboard Ends -->

    <!-- Credit Dashboard Starts  -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '2'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.DDE, displayTabs?.DDEWithMe, 'dde')"
                [ngClass]="{'active':displayTabs?.DDE === activeTab}" routerLinkActive="active" id="leads"><a
                    data-toggle="tab">DDE</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.PD, displayTabs?.MyPD)"
                [ngClass]="{'active':displayTabs?.PD === activeTab}" routerLinkActive="active"><a data-toggle="tab">PD /
                    FI cum PD</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.FI, displayTabs?.MyFI)"
                [ngClass]="{'active':displayTabs?.FI === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Field Investigation</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.Deviation, displayTabs?.DeviationWithMe, 'deviation')"
                [ngClass]="{'active':displayTabs?.Deviation === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation</a></li>
            <li class="btn-dash"
                (click)="onLeads(displayTabs?.Decision, displayTabs?.CreditDecisionWithMe, 'creditDecision')"
                [ngClass]="{'active':displayTabs?.Decision === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Credit
                    Decision</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.TermSheet, displayTabs?.TermSheetWithMe, 'termSheet')"
                [ngClass]="{'active':displayTabs?.TermSheet === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Term
                    Sheet</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.PDDforCPC, displayTabs?.PDDWithMe)"
                [ngClass]="{'active':displayTabs?.PDDforCPC === activeTab}" routerLinkActive="active"><a
                   data-toggle="tab">Deferrals</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.VehicleValuvator, displayTabs?.VehicleValuvatorWithMe)"
                [ngClass]="{'active':displayTabs?.VehicleValuvator === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Vehicle Valuation</a>
                    </li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.ApprovalDashboard)"
                [ngClass]="{'active':displayTabs?.ApprovalDashboard === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Defferal Approval</a></li>
        </ul>
    </div>

    <div class="container-fluid mar-bottom" *ngIf="roleType == '2'">
        <ul *ngIf="displayTabs?.DDE === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.DDEWithMe)"
                [ngClass]="{'active':displayTabs?.DDEWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">DDE Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DDEWithBranch)"
                [ngClass]="{'active':displayTabs?.DDEWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">DDE Leads with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PD === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.MyPD)"
                [ngClass]="{'active':displayTabs?.MyPD === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PD / FI cum PD with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.BranchPd)"
                [ngClass]="{'active':displayTabs?.BranchPd === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PD / FI cum PD with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.FI === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.MyFI)"
                [ngClass]="{'active':displayTabs?.MyFI === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">FI with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.BranchFI)"
                [ngClass]="{'active':displayTabs?.BranchFI === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">FI with Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.Deviation === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.DeviationWithMe)"
                [ngClass]="{'active':displayTabs?.DeviationWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DeviationWithBranch)"
                [ngClass]="{'active':displayTabs?.DeviationWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deviation With Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.Decision === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.CreditDecisionWithMe)"
                [ngClass]="{'active':displayTabs?.CreditDecisionWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Decision With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.CreditDecisionWithBranch)"
                [ngClass]="{'active':displayTabs?.CreditDecisionWithBranch === subActiveTab}" routerLinkActive="active">
                <a data-toggle="tab">Decision With Branch</a>
            </li>
            <li class="btn-dash" (click)="leads(displayTabs?.ReAppealWithMe)"
                [ngClass]="{'active':displayTabs?.ReAppealWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Re-Appeal With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.ReAppealWithBranch)"
                [ngClass]="{'active':displayTabs?.ReAppealWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Re-Appeal With Branch</a></li>

        </ul>
        <ul *ngIf="displayTabs?.TermSheet === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.TermSheetWithMe)"
                [ngClass]="{'active':displayTabs?.TermSheetWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TermSheetWithBranch)"
                [ngClass]="{'active':displayTabs?.TermSheetWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Termsheet With Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PDDforCPC === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.PDDWithMe)"
                [ngClass]="{'active':displayTabs?.PDDWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PDDWithBranch)"
                [ngClass]="{'active':displayTabs?.PDDWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD Leads with Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PdcSpdcWithMe)"
                [ngClass]="{'active':displayTabs?.PdcSpdcWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDC/SPDC Leads With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PdcSpdcWithBranch)"
                [ngClass]="{'active':displayTabs?.PdcSpdcWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDC/SPDC Leads With Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DefDocWithMe)"
                [ngClass]="{'active':displayTabs?.DefDocWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Document Deferral Leads With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.DefDocWithBranch)"
                [ngClass]="{'active':displayTabs?.DefDocWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Document Deferral Leads With Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.VehicleValuvator === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.VehicleValuvatorWithMe)"
                [ngClass]="{'active':displayTabs?.VehicleValuvatorWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab"> Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.VehicleValuvatorWithBranch)"
                [ngClass]="{'active':displayTabs?.VehicleValuvatorWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads with Branch</a></li>

        </ul>

    </div>
    <!-- Credit Dashboard Ends -->

    <!-- for CPC Maker and CPC Checker Starts-->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '4'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.CPCMaker, displayTabs?.CPCMakerWithMe,'CPC')"
                [ngClass]="{'active':displayTabs?.CPCMaker === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">CPC
                    Maker</a></li>
            <li class="btn-dash"
                (click)="onLeads(displayTabs?.TranchesDisburse, displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TranchesDisburse === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Tranche Disbursement</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.ApprovalDashboard)"
                [ngClass]="{'active':displayTabs?.ApprovalDashboard === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Defferal Approval</a></li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '4'">
        <ul *ngIf="displayTabs?.CPCMaker === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.CPCMakerWithMe)"
                [ngClass]="{'active':displayTabs?.CPCMakerWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.CPCMakerWithBranch)"
                [ngClass]="{'active':displayTabs?.CPCMakerWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads with CPC</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> With Me</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending With CPC</a></li>

        </ul>
    </div>

    <div class="container-fluid mar-bottom" *ngIf="roleType == '5'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.CPCChecker, displayTabs?.CPCCheckerWithMe,'CPC')"
                [ngClass]="{'active':displayTabs?.CPCChecker === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">CPC
                    Checker</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.LoanBooking)"
                [ngClass]="{'active':displayTabs?.LoanBooking === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Loan Booking</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.PDDforCPC, displayTabs?.PDDWithMe)"
                [ngClass]="{'active':displayTabs?.PDDforCPC === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Deferrals</a></li>
            <li class="btn-dash"
                (click)="onLeads(displayTabs?.TranchesDisburse, displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TranchesDisburse === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Tranche Disbursement</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.ChequeTracking, displayTabs?.ChequeTrackingLeadsWithMe)"
                [ngClass]="{'active':displayTabs?.ChequeTracking === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Cheque Tracking</a></li>
            <li class="btn-dash" (click)="onLeads(displayTabs?.ApprovalDashboard)"
                [ngClass]="{'active':displayTabs?.ApprovalDashboard === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Defferal Approval</a></li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '5'">
        <ul *ngIf="displayTabs?.CPCChecker === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.CPCCheckerWithMe)"
                [ngClass]="{'active':displayTabs?.CPCCheckerWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.CPCCheckerWithBranch)"
                [ngClass]="{'active':displayTabs?.CPCCheckerWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">Leads with CPC</a></li>
        </ul>
        <ul *ngIf="displayTabs?.PDDforCPC === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.PDDWithMe)"
                [ngClass]="{'active':displayTabs?.PDDWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PDDWithBranch)"
                [ngClass]="{'active':displayTabs?.PDDWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDD Leads with Branch</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PdcSpdcWithMe)"
                [ngClass]="{'active':displayTabs?.PdcSpdcWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDC/SPDC Leads With {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.PdcSpdcWithBranch)"
                [ngClass]="{'active':displayTabs?.PdcSpdcWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">PDC/SPDC Leads With Branch</a></li>
        </ul>
        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> With Me</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending With CPC</a></li>
        </ul>
        <ul *ngIf="displayTabs?.ChequeTracking === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.ChequeTrackingLeadsWithMe)"
                [ngClass]="{'active':displayTabs?.ChequeTrackingLeadsWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads With Me</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.ChequeTrackingLeadsWithBranch)"
                [ngClass]="{'active':displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads With Branch</a></li>
        </ul>
    </div>
    <!-- CPC Maker and CPC Checker Ends -->

    <!-- RCU Dashboard Starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '6'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.RCU, displayTabs?.RCUWithMe)"
                [ngClass]="{'active':displayTabs?.RCU === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">RCU</a>
            </li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '6'">
        <ul *ngIf="displayTabs?.RCU === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.RCUWithMe)"
                [ngClass]="{'active':displayTabs?.RCUWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">RCU with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.RCUWithBranch)"
                [ngClass]="{'active':displayTabs?.RCUWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">RCU with Branch</a></li>
        </ul>
    </div>
    <!-- RCU Dashboard Ends -->

    <!-- CPCCAD Dashboard Starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '7'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.CPCCAD, displayTabs?.CPCCADWithMe,'CAD')"
                [ngClass]="{'active':displayTabs?.CPCCAD === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">CAD</a>
            </li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '7'">
        <ul *ngIf="displayTabs?.CPCCAD === activeTab" class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.CPCCADWithMe)"
                [ngClass]="{'active':displayTabs?.CPCCADWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab"> CAD with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.CPCCADWithBranch)"
                [ngClass]="{'active':displayTabs?.CPCCADWithBranch === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab">CAD with Branch</a></li>

        </ul>
        <ul *ngIf="displayTabs?.TranchesDisburse === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithMe)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithMe === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab"> Pending With Me</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.TrancheDisburseReversedWithBranch)"
                [ngClass]="{'active':displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Pending With CPC</a></li>
        </ul>
    </div>
    <!-- CPCCAD Dashboard Ends -->

    <!-- External User Dashboard Starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '1' && userDetailsRoleId == '66'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.ExternalUserDashboard)"
                [ngClass]="{'active':displayTabs?.ExternalUserDashboard === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Lead Status</a>
            </li>
        </ul>
    </div>
    <!-- External User Dashboard Ends -->

    <!-- vehicle Valuvator Dashboard Starts -->
    <div class="container-fluid mar-bottom" *ngIf="roleType == '9'">
        <ul class="nav nav-pills nav-justified" id="background_white">
            <li class="btn-dash" (click)="onLeads(displayTabs?.VehicleValuvator, displayTabs?.VehicleValuvatorWithMe)"
                [ngClass]="{'active':displayTabs?.VehicleValuvator === activeTab}" routerLinkActive="active"><a
                    data-toggle="tab">Vehicle Valuator</a>
            </li>
        </ul>
    </div>
    <div class="container-fluid mar-bottom" *ngIf="roleType == '9'">
        <ul *ngIf="displayTabs?.VehicleValuvator === activeTab" class="nav nav-pills nav-justified"
            id="background_white">
            <li class="btn-dash" class="active" (click)="leads(displayTabs?.VehicleValuvatorWithMe)"
                [ngClass]="{'active':displayTabs?.VehicleValuvatorWithMe === subActiveTab}" routerLinkActive="active"><a
                    data-toggle="tab"> Leads with {{pendingName}}</a></li>
            <li class="btn-dash" (click)="leads(displayTabs?.VehicleValuvatorWithBranch)"
                [ngClass]="{'active':displayTabs?.VehicleValuvatorWithBranch === subActiveTab}"
                routerLinkActive="active"><a data-toggle="tab">Leads with Branch</a></li>

        </ul>
    </div>
    <!-- vehicle Valuvator Dashboard Ends -->

    <!-- Tables are Starting from here #################################################-->
    <div class="container-fluid row" *ngIf="disableButton" style="margin-bottom: 5px;">
        <div class="col-md-2 col-lg-3 col-sm-3 col-xs-12"></div>
        <div class="col-md-3 col-lg-2 col-sm-3 col-xs-12">
            <button class="btn btn-primary col-xs-12" style="margin-bottom: 5px;" data-toggle="modal"
                data-target="#supervisorTaskAssign" (click)="assignSelectedLeads()">Re-Assign selected leads</button>
        </div>
        <div class="col-md-3 col-lg-2 col-sm-3 col-xs-12">
            <button class="btn btn-primary col-xs-12" *ngIf="selfAssign || displayTabs?.ExternalUser === subActiveTab"
                data-toggle="modal" data-target="#confirmSelfAssign">Self-Assign selected leads</button>
        </div>
    </div>

    <div>
        <div class="container-fluid" style="position: sticky;overflow-x: hidden!important;">
            <table
                *ngIf="displayTabs?.PDD != activeTab && displayTabs?.ChequeTracking != activeTab && displayTabs?.LoanBooking != activeTab && displayTabs?.PDDforCPC != activeTab && displayTabs?.TranchesDisburse != activeTab && displayTabs?.ApprovalDashboard != activeTab">
                <thead>
                    <tr class="table-head-bg">
                        <th *ngIf="userName || displayTabs?.ExternalUser === subActiveTab">
                            <input type="checkbox" name="allLeads" [checked]="selectAll" (change)="allSelect($event)">
                        </th>
                        <th *ngIf="onReleaseTab || onAssignTab">{{labels?.action}}</th>
                        <th *ngIf="(!onReleaseTab && !onAssignTab) && userName">{{labels?.action}}</th>
                        <th>{{labels?.leadID}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByLeadId === sortTab}"
                                (click)="onSort(sortTables?.ByLeadId)"> </i> </th>
                        <th>{{labels?.applicantName}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByName === sortTab}"
                                (click)="onSort(sortTables?.ByName)"> </i> </th>
                        <th>{{labels?.product}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByProduct === sortTab}"
                                (click)="onSort(sortTables?.ByProduct)"> </i> </th>
                        <th *ngIf="!isExtUser">
                            {{labels?.loanAmount}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByLoanAmt === sortTab}"
                                (click)="onSort(sortTables?.ByLoanAmt)"> </i> </th>
                        <th *ngIf="!isExtUser">
                            {{labels?.applicant+'s'}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByApplicants === sortTab}"
                                (click)="onSort(sortTables?.ByApplicants)"> </i> </th>
                        <th>{{labels?.createdOn}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByDate === sortTab}"
                                (click)="onSort(sortTables?.ByDate)"> </i> </th>
                        <th *ngIf="!isExtUser">
                            {{labels?.createdBy}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByCreated === sortTab}"
                                (click)="onSort(sortTables?.ByCreated)"> </i> </th>
                        <th *ngIf="!isExtUser">
                            {{labels?.priority}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByPriority === sortTab}"
                                (click)="onSort(sortTables?.ByPriority)"> </i> </th>
                        <th *ngIf="!isExtUser">{{labels?.promoCode}}
                        </th>
                        <th *ngIf="!isExtUser">{{labels?.status}} <i
                                style="cursor: pointer" class="fa fa-sort"
                                [ngClass]="{'active':sortTables?.ByStage === sortTab}"
                                (click)="onSort(sortTables?.ByStage)"> </i> </th>
                        <th *ngIf="!isExtUser">{{labels?.history}}
                        </th>
                        <th *ngIf="isExtUser">{{labels?.branchName}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let item of newArray | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index">
                        <!-- <td [attr.data-label]="labels?.action" *ngIf="onReleaseTab">
              <input type="button" class="btn btn-primary"
                (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()" value="Release"
                data-toggle="modal" data-target="#releaseModal">
            </td> -->

                        <td [attr.data-label]="labels?.select"
                            *ngIf="userName || displayTabs?.ExternalUser === subActiveTab">
                            <input type="checkbox" [checked]="item.selected" name="oneLead"
                                (change)="onCheck($event, item.leadId, item.taskId)">
                        </td>
                        <td [attr.data-label]="labels?.action" *ngIf="onReleaseTab && !userName">
                            <input type="button" class="btn btn-primary"
                                (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()"
                                value="Release" data-toggle="modal" data-target="#releaseModal">
                        </td>
                        <td [attr.data-label]="labels?.action" *ngIf="onAssignTab && !userName">
                            <input *ngIf="displayTabs?.ExternalUser != subActiveTab" type="button"
                                class="btn btn-primary"
                                (click)="onAssign(item.taskId, item.leadId);  assignTaskId(item.taskId); onClick(); getLeadId(item)"
                                value="Assign" data-toggle="modal" data-target="#assignModel" />
                            <!--  -->
                            <input *ngIf="displayTabs?.ExternalUser === subActiveTab" type="button"
                                [disabled]="disableButton" style="margin-top: 5px; margin-right: 5px;"
                                (click)="onSelfAssignClick(item.leadId, item.taskId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary" value="Self Assign">
                            <input *ngIf="displayTabs?.ExternalUser === subActiveTab" type="button"
                                [disabled]="disableButton" style="margin-top: 5px;"
                                (click)="onReAssignClick(item.leadId, item.taskId)" class="btn btn-primary"
                                value="Re-Assign" data-toggle="modal" data-target="#supervisorTaskAssign">

                        </td>
                        <!--  -->
                        <td [attr.data-label]="labels?.action" *ngIf="userName && (!onReleaseTab && !onAssignTab)">

                            <input type="button" [disabled]="disableButton" *ngIf="selfAssign"
                                style="margin-top: 5px; margin-right: 5px;"
                                (click)="onSelfAssignClick(item.leadId, item.taskId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary" value="Self Assign">
                            <input type="button" [disabled]="disableButton" style="margin-top: 5px;"
                                (click)="onReAssignClick(item.leadId, item.taskId)" class="btn btn-primary"
                                value="Re-Assign" data-toggle="modal" data-target="#supervisorTaskAssign">
                        </td>
                        <td [attr.data-label]="labels?.action" *ngIf="userName && onReleaseTab">
                            <!-- <input type="button" *ngIf="!userName" class="btn btn-primary"
                (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()"
                value="Release" data-toggle="modal" data-target="#releaseModal"> -->
                            <input type="button" [disabled]="disableButton" *ngIf="selfAssign"
                                style="margin-top: 5px; margin-right: 5px;"
                                (click)="onSelfAssignClick(item.leadId, item.taskId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary btn-re" value="Self Assign">
                            <input type="button" [disabled]="disableButton"
                                (click)="onReAssignClick(item.leadId, item.taskId)" class="btn btn-primary btn-re"
                                value="Re-Assign" data-toggle="modal" data-target="#supervisorTaskAssign">
                        </td>

                        <!--  -->
                        <td [attr.data-label]="labels?.action" *ngIf="userName && onAssignTab">
                            <!-- <input type="button" *ngIf="!userName" class="btn btn-primary"
                (click)="onAssign(item.taskId, item.leadId);  assignTaskId(item.taskId); onClick(); getLeadId(item)"
                value="Assign" data-toggle="modal" data-target="#assignModel" /> -->
                            <input type="button" [disabled]="disableButton" *ngIf="selfAssign"
                                style="margin-top: 5px; margin-right: 5px;"
                                (click)="onSelfAssignClick(item.leadId, item.taskId)" data-toggle="modal"
                                data-target="#confirmSelfAssign" class="btn btn-primary btn-re" value="Self Assign">
                            <input type="button" [disabled]="disableButton"
                                (click)="onReAssignClick(item.leadId, item.taskId)" class="btn btn-primary btn-re"
                                value="Re-Assign" data-toggle="modal" data-target="#supervisorTaskAssign">
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="(!onReleaseTab && !onAssignTab) && !userName">
                            <a class="text-underline" *ngIf="displayTabs?.ExternalUserDashboard != activeTab"
                                (click)="onRoute(item.leadId,item.stageCode,item.taskId); assignTaskId(item.taskId); getLeadId(item)"
                                style="cursor: pointer;">{{item.leadId}}</a>
                            <a *ngIf="displayTabs?.ExternalUserDashboard === activeTab">{{item.leadId}}</a>
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="(onReleaseTab && !onAssignTab) && !userName">
                            <a class="text-underline"
                                (click)="getLeadId(item); onRoute(item.leadId,item.stageCode,item.taskId); assignTaskId(item.taskId)"
                                style="cursor: pointer;">{{item.leadId}}</a>
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="(!onReleaseTab && onAssignTab) && !userName">
                            <a>{{item.leadId}}</a>
                            <!-- <a *ngIf="displayTabs?.ExternalUser != subActiveTab" class="text-underline"
                                (click)="getLeadId(item); onRoute(item.leadId,item.stageCode,item.taskId); assignTaskId(item.taskId)"
                                style="cursor: pointer;">{{item.leadId}}</a> -->
                        </td>
                        <td [attr.data-label]="labels?.leadID" *ngIf="userName">
                            <a>{{item.leadId}}</a>
                        </td>
                        <!-- <td [attr.data-label]="labels?.leadID" class="text-underline" *ngIf="roleType == '2'"><a (click)="assignTaskId(item.taskId); getLeadId(item)">{{item.leadId}}</a></td> -->
                        <td class="text-left" [attr.data-label]="labels?.applicantName">{{item.applicantName ?
                            item.applicantName : '--'}}
                        </td>
                        <td class="text-left" [attr.data-label]="labels?.product">{{item.product ? item.product : '--'}}
                        </td>
                        <td *ngIf="!isExtUser" class="txt-rgt"
                            [attr.data-label]="labels?.loanAmount">{{item.loanAmt ? item.loanAmt : '--'}}</td>
                        <td *ngIf="!isExtUser"
                            [attr.data-label]="labels?.applicant">{{item.applicants ? item.applicants : '--'}}</td>
                        <td [attr.data-label]="labels?.createdOn">{{item.createdOn ? item.createdOn : '--'}}</td>
                        <td *ngIf="!isExtUser" class="text-left"
                            [attr.data-label]="labels?.createdBy">{{item.createdBy ? item.createdBy : '--'}}</td>
                        <ng-container *ngIf="!isExtUser">
                            <td [attr.data-label]="labels?.priority" *ngIf="item.priority == '1'">Yes</td>
                            <td [attr.data-label]="labels?.priority"
                                *ngIf="item.priority == '0' || item.priority == null">
                                No</td>
                        </ng-container>
                        <td *ngIf="!isExtUser"
                            [attr.data-label]="labels?.promoCode">{{item.promoCode ? item.promoCode : '--'}}</td>
                        <td *ngIf="!isExtUser" class="text-left"
                            [attr.data-label]="labels?.status">{{item.stage ? item.stage : '--'}}</td>
                        <td *ngIf="!isExtUser"
                            [attr.data-label]="labels?.history">
                            <a data-toggle="modal" data-target="#leadHistoryModal" data-tooltip="Lead History"
                                data-placement="bottom" (click)="onLeadHistory(item.leadId)"> <i
                                    class="fa fa-history"></i></a>
                        </td>
                        <td *ngIf="isExtUser">{{item.branchName ?
                            item.branchName : '--'}}</td>
                    </tr>
                </tbody>
            </table>
            <div>
                <table
                    *ngIf="displayTabs?.PDD === activeTab || displayTabs?.ChequeTracking === activeTab || displayTabs?.LoanBooking === activeTab || displayTabs?.PDDforCPC === activeTab">
                    <thead>
                        <tr class="table-head-bg">
                            <th
                                *ngIf="(onReleaseTab || onAssignTab) && displayTabs?.PDDforCPC === activeTab || (displayTabs?.ChequeTracking === activeTab &&
                            displayTabs?.ChequeTrackingLeadsWithMe === subActiveTab || displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab)">
                                {{labels?.action}}</th>
                                <th
                                *ngIf="displayTabs?.LoanBooking === activeTab">
                                {{labels?.leadID}}</th>
                            <!-- <th
                                *ngIf="displayTabs?.LoanBooking === activeTab || (displayTabs?.ChequeTracking === activeTab &&
                            displayTabs?.ChequeTrackingLeadsWithMe === subActiveTab || displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab)">
                                {{labels?.leadID}}</th> -->
                            <th *ngIf="displayTabs?.LoanBooking === activeTab">{{labels?.loanAccNumber}}&nbsp;<i
                                    style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByLoanAccNo === sortTab}"
                                    (click)="onSort(sortTables?.ByLoanAccNo)"></i>
                            </th>
                            <th *ngIf="displayTabs?.LoanBooking !== activeTab">{{labels?.loanNumber}}&nbsp;<i
                                    style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByLoanAccNo === sortTab}"
                                    (click)="onSort(sortTables?.ByLoanAccNo)"></i>
                            <th class="text-left" *ngIf="displayTabs?.LoanBooking != activeTab">
                                {{labels?.applicantName+' Name'}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByName === sortTab}"
                                    (click)="onSort(sortTables?.ByName)"></i>
                            </th>
                            <th>{{labels?.productCategory}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByProduct === sortTab}"
                                    (click)="onSort(sortTables?.ByProduct)"></i> </th>
                            <th *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab">
                                {{labels?.disbursementDate}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByDisburDate === sortTab}"
                                    (click)="onSort(sortTables?.ByDisburDate)"></i> </th>
                            <th *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab">
                                {{labels?.expectedDate}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByExpectedDate === sortTab}"
                                    (click)="onSort(sortTables?.ByExpectedDate)"></i> </th>
                            <!-- <th *ngIf="displayTabs?.PDD === activeTab">{{labels?.status}}&nbsp;<i class="fa fa-sort"></i> </th> -->
                            <th *ngIf="displayTabs?.PDDforCPC === activeTab">{{labels?.branch}}&nbsp;<i
                                    class="fa fa-sort"></i> </th>
                            <th class="txt-rgt"
                                *ngIf="displayTabs?.LoanBooking === activeTab || displayTabs?.ChequeTracking === activeTab">
                                {{labels?.loanAmount}}&nbsp;<i style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByLoanAmt === sortTab}"
                                    (click)="onSort(sortTables?.ByLoanAmt)"></i> </th>
                            <th *ngIf="displayTabs?.LoanBooking === activeTab">
                                {{labels?.applicant+'s'}} </th>
                            <!-- <th *ngIf="displayTabs?.LoanBooking != activeTab">{{labels?.applicantName}}<i class="fa fa-sort"></i>
              </th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of newArray | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index"
                            [ngClass]="{'failedLeads': item.isLoanBookingFailed && displayTabs?.LoanBooking === activeTab}">
                            <td [attr.data-label]="labels?.action" *ngIf="onReleaseTab && displayTabs?.PDDforCPC === activeTab || (displayTabs?.ChequeTracking === activeTab &&
                                displayTabs?.ChequeTrackingLeadsWithMe === subActiveTab)">
                                <input type="button" class="btn btn-primary"
                                    (click)="onRelase(item.taskId, item.leadId); assignTaskId(item.taskId, item.leadId); onClick()"
                                    value="Release" data-toggle="modal" data-target="#releaseModal">
                            </td>
                            <td [attr.data-label]="labels?.action" *ngIf="onAssignTab && displayTabs?.PDDforCPC === activeTab || (displayTabs?.ChequeTracking === activeTab &&
                                displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab)">
                                <input type="button" class="btn btn-primary"
                                    (click)="onAssign(item.taskId, item.leadId, item);  assignTaskId(item.taskId); getLeadId(item)"
                                    value="Assign" data-toggle="modal" data-target="#assignModel" />
                            </td>
                            <td *ngIf="displayTabs?.LoanBooking === activeTab"
                                [attr.data-label]="labels?.leadID">
                            <!-- <td *ngIf="displayTabs?.LoanBooking === activeTab || (displayTabs?.ChequeTracking === activeTab &&
                            displayTabs?.ChequeTrackingLeadsWithMe === subActiveTab || displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab)"
                                [attr.data-label]="labels?.leadID"> -->

                                <a *ngIf="displayTabs?.LoanBooking === activeTab" class="text-underline"
                                    style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId, item); getLoanNumber(item.loanNumber)">{{item.leadId
                                    ? item.leadId : '--'}}</a>

                                <!-- <a *ngIf="displayTabs?.LoanBooking === activeTab || (displayTabs?.ChequeTracking === activeTab &&
                                displayTabs?.ChequeTrackingLeadsWithMe === subActiveTab)" class="text-underline"
                                    style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId, item); getLoanNumber(item.loanNumber)">{{item.leadId
                                    ? item.leadId : '--'}}</a> -->

                                <!-- <a *ngIf="(displayTabs?.ChequeTracking === activeTab &&
                                displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab)">{{item.leadId
                                    ? item.leadId : '--'}}</a> -->
                            </td>
                            <td *ngIf="(displayTabs?.PDDforCPC === activeTab && displayTabs?.PDDWithBranch === subActiveTab)  || (displayTabs?.PDDforCPC === activeTab && displayTabs?.PdcSpdcWithBranch === subActiveTab) || (displayTabs?.PDDforCPC === activeTab && displayTabs?.DefDocWithBranch === subActiveTab)"
                                [attr.data-label]="labels?.loanNumber">
                                <a>{{item.loanNumber ? item.loanNumber : '--'}}</a>
                            </td>
                            <td *ngIf="displayTabs?.PDD === activeTab || displayTabs?.ChequeTracking === activeTab"
                                [attr.data-label]="labels?.loanNumber">

                                <a *ngIf="displayTabs?.PDD === activeTab || (displayTabs?.ChequeTracking === activeTab && displayTabs?.ChequeTrackingLeadsWithBranch !== subActiveTab)" class="text-underline"
                                    style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId, item); assignTaskId(item.taskId); getLoanNumber(item.loanNumber)">{{item.loanNumber}}</a>

                                <a *ngIf="(displayTabs?.ChequeTracking === activeTab && displayTabs?.ChequeTrackingLeadsWithBranch === subActiveTab)">{{item.loanNumber
                                    ? item.loanNumber : '--'}}</a>
                            </td>
                            <td *ngIf="(displayTabs?.PDDforCPC === activeTab && displayTabs?.PDDWithMe === subActiveTab) || (displayTabs?.PDDforCPC === activeTab && displayTabs?.PdcSpdcWithMe === subActiveTab) || (displayTabs?.PDDforCPC === activeTab && displayTabs?.DefDocWithMe === subActiveTab)"
                                [attr.data-label]="labels?.loanNumber"><a class="text-underline"
                                    style="cursor: pointer;"
                                    (click)="onRoute(item.leadId,item.stageCode,item.taskId, item); assignTaskId(item.taskId); getLoanNumber(item.loanNumber)">{{item.loanNumber ? item.loanNumber : '--'}}</a>
                            </td>
                            <!-- <td *ngIf="displayTabs?.PDDforCPC === activeTab" [attr.data-label]="labels?.loanNumber"
                class="text-underline" (click)="onRoute(item.leadId,item.stageCode,item.taskId); getLoanNumber(item.loanNumber)"><a
                  >{{item.loanNumber}}</a>
              </td> -->
                            <td *ngIf="displayTabs?.LoanBooking === activeTab" [attr.data-label]="labels?.loanNumber">
                                <a>{{item.loanAccountNo ? item.loanAccountNo : '--'}}</a>
                            </td>
                            <td class="text-left" *ngIf="displayTabs?.LoanBooking != activeTab"
                                [attr.data-label]="labels?.applicantName">
                                {{item.applicantName ? item.applicantName : '--'}}</td>

                            <td class="text-left" [attr.data-label]="labels?.productCategory">{{item.product ?
                                item.product : '--'}}</td>
                            <td *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab"
                                [attr.data-label]="labels?.disbursementDate">
                                {{item.disbursementDate ? item.disbursementDate : '--'}}
                            </td>
                            <td *ngIf="displayTabs?.PDD === activeTab || displayTabs?.PDDforCPC === activeTab"
                                [attr.data-label]="labels?.expectedDate">
                                {{item.expectedDate ? item.expectedDate : '--'}}</td>
                            <!-- <td *ngIf="displayTabs?.PDD === activeTab" [attr.data-label]="labels?.status">
                {{item.stageValue ? item.stageValue : '--'}}</td> -->
                            <td *ngIf="displayTabs?.PDDforCPC === activeTab" [attr.data-label]="labels?.branch">
                                {{item.branchName ? item.branchName : '--'}}</td>
                            <td class="txt-rgt"
                                *ngIf="displayTabs?.LoanBooking === activeTab || displayTabs?.ChequeTracking === activeTab"
                                [attr.data-label]="labels?.loanAmount">{{item.loanAmt ? item.loanAmt : '--'}}</td>
                            <td *ngIf="displayTabs?.LoanBooking === activeTab" [attr.data-label]="labels?.applicants">
                                {{item.applicants ? item.applicants : '--'}}</td>
                            <!-- <td *ngIf="displayTabs?.LoanBooking != activeTab" [attr.data-label]="labels?.applicantName">
                {{item.applicantName ? item.applicantName : '--'}}</td> -->
                        </tr>
                    </tbody>
                </table>
                <table *ngIf="displayTabs?.TranchesDisburse === activeTab">
                    <thead>
                        <tr class="table-head-bg">
                            <th *ngIf="displayTabs?.TrancheDisburseWithBranch != subActiveTab">{{labels?.action}}</th>
                            <th>{{labels?.loanNumber}}&nbsp;
                                <i style="cursor: pointer" class="fa fa-sort"></i>
                            </th>
                            <th>{{labels?.productName}}&nbsp;
                                <i style="cursor: pointer" class="fa fa-sort"></i>
                            </th>
                            <!-- <th>{{labels?.productCategory}}&nbsp;
                    <i class="fa fa-sort"></i>
                </th> -->
                            <th>{{labels?.loanAmount}}&nbsp;
                                <i style="cursor: pointer" class="fa fa-sort"
                                    [ngClass]="{'active':sortTables?.ByLoanAmt === sortTab}"
                                    (click)="onSort(sortTables?.ByLoanAmt)"></i>
                            </th>
                            <th>{{labels?.mainApplicantName}}&nbsp;
                                <i style="cursor: pointer" class="fa fa-sort"></i>
                            </th>
                            <th>{{labels?.noOfTrancheDisburse}}
                            </th>
                            <th>{{labels?.alreadyDisbursedAmount}}
                            </th>
                            <th>{{labels?.balanceToBeDisbursed}}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let item of trancheDetails | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index">
                            <td [attr.data-label]="labels?.action" *ngIf="onReleaseTab">
                                <input type="button" class="btn btn-primary"
                                    (click)="onRelase(item.taskId); assignTaskId(item.taskId); onClick()"
                                    value="Release" data-toggle="modal" data-target="#releaseModal">
                            </td>
                            <td [attr.data-label]="labels?.action" *ngIf="onAssignTab">
                                <input type="button" class="btn btn-primary"
                                    (click)="onAssign(item.taskId, item.leadID);  assignTaskId(item.taskId); onClick(); getLeadId(item);getLoanNumber(item.loanAccountNumber)"
                                    value="Assign" data-toggle="modal" data-target="#assignModel" />
                            </td>
                            <td [attr.data-label]="labels?.loanNumber"
                                *ngIf="displayTabs?.TrancheDisburseReversedWithBranch === subActiveTab">
                                <!-- <a (click)="assignTaskId(item.taskId);getLoanNumber(item.loanAccountNumber)" [routerLink]="[ '/pages/disbursement-section', item.leadID,'tranche-disburse' ]">{{item.loanAccountNumber}}</a> -->
                                {{item.loanAccountNumber}}
                            </td>
                            <td [attr.data-label]="labels?.loanNumber" class="text-underline"
                                *ngIf="displayTabs?.TrancheDisburseReversedWithBranch != subActiveTab"
                                (click)="getLoanNumber(item.loanAccountNumber)">
                                <a (click)="assignTaskId(item.taskId);getLoanNumber(item.loanAccountNumber)"
                                    [routerLink]="[ '/pages/disbursement-section', (item.taskId)?(item.loanAccountNumber+'-'+item.taskId):item.loanAccountNumber,'tranche-disburse' ]">{{item.loanAccountNumber}}</a>
                            </td>
                            <td class="text-left" [attr.data-label]="labels?.productName">{{item.productName ?
                                item.productName : '--'}}
                            </td>
                            <!-- <td [attr.data-label]="labels?.productCategory">{{item.productCatCode ? item.productCatCode : '--'}}</td> -->
                            <td class="txt-rgt" [attr.data-label]="labels?.loanAmount">{{item.loanAmt ?
                                item.loanAmt : '--'}}</td>
                            <td class="text-left" [attr.data-label]="labels?.applicant">{{item.applicantName ?
                                item.applicantName : '--'}}
                            </td>
                            <td [attr.data-label]="labels?.trancheCount">{{item.trancheCount}}</td>
                            <td class="txt-rgt" [attr.data-label]="labels?.disbursedAmount">{{item.disbursedAmount}}
                            </td>
                            <td class="txt-rgt" [attr.data-label]="labels?.balanceAmount">{{item.balanceAmount}}</td>
                        </tr>
                    </tbody>
                </table>


<!-- Approval Dashboard Starts -->
                <table *ngIf="displayTabs?.ApprovalDashboard === activeTab">
                    <thead>
                        <tr class="table-head-bg">
                            <th>{{labels?.leadID}}&nbsp;
                            </th>
                            <th>{{labels?.applicantName}}&nbsp;
                            </th>
                            <th>Deferral Type&nbsp;
                            </th>
                            <th>Deferral Document Name&nbsp;
                            </th>
                            <th>Deferral Date
                            </th>
                            <th>Requested On
                            </th>
                            <th>Requested By
                            </th>
                            <th>{{labels?.action}}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of newArray | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: count } let i = index">
                            <td>{{item.leadId}}</td>
                            <td>{{item.applicantName}}</td>
                            <td>{{item.deferralType}}</td>  
                            <td *ngIf="item.deferralType == 'Document Deferral'">{{item.defDocName}}</td>
                            <td *ngIf="item.deferralType == 'PDC/SPDC'">
                                No of PDC Required {{'  :' +item.pdcNum}}<br>
                                No of PDC Collected {{':' + item.pdcCollected}}<br>
                                No of SPDC Required {{'  :' +item.spdcNum}}<br>
                                No of SPDC Collected  {{':' +item.spdcCollected}}<br>
                            </td>
                            <td>{{item.deferredDate}}</td>
                            <td>{{item.requestedOn ? requestedOn[i][0] : '--'}}<br>{{item.requestedOn ? requestedOn[i][1] : ''}}</td>
                            <!-- <td>{{item.requestedOn}}</td> -->
                            <td>{{item.requestedBy ? item.requestedBy : '--'}}</td>
                            <td class="text-center">
                                <!-- <div style="margin-bottom: 2px;">
                                    <input type="button" class="btn btn-primary" value="View DDE" >
                                </div>
                                <div style="margin-bottom: 2px;">
                                <button style="width: 84px;" class="btn btn-success" data-toggle="modal" data-target="#approveModal">Approve</button>
                                </div>
                                <div style="margin-bottom: 2px;">
                                    <button style="width: 84px;" class="btn btn-danger" data-toggle="modal" data-target="#rejectModal">Reject</button>
                                </div> -->
                                <div class="row" style="margin: 0 5px 0 5px;">
                                    <a title="View DDE" (click)="onViewDDE(item)" style="margin: 5px;"><i
                                        class="fa fa-eye cursor-pointer"  aria-hidden=""></i></a>
                                    <a title="Approve" (click)="onApproveClick(item)" style="margin: 5px; color: lightgreen;"><i
                                        class="fa fa-thumbs-up cursor-pointer" aria-hidden=""></i></a>
                                    <a title="Reject" data-toggle="modal" (click)="onRejectClick(item)" data-target="#rejectModal" style="margin: 5px; color: orangered;"><i
                                        class="fa fa-thumbs-down cursor-pointer" aria-hidden=""></i></a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="noDataFound" *ngIf="!isLoadLead">
                <h3>No data found</h3>
            </div>
            <div *ngIf="isLoadLead" class="row clearfix marBottom-45">
                <div class="records col-lg-6 col-md-6 col-sm-3 col-xs-3">

                    <div class="top-padding"><label>No. of Rows </label>
                        <select class="form-control  input-sm" (change)="setPage($event)" [(ngModel)]="itemsPerPage">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option class="filter-disable" value="25">25</option>
                            <option class="filter-disable" value="50">50</option>
                        </select>
                    </div>

                </div>
                <nav class="col-lg-6 col-md-6 col-sm-9 col-xs-9 text-right top-padding">
                    <pagination-controls previousLabel="" nextLabel="" (pageChange)="setPage($event)">
                    </pagination-controls>
                </nav>
            </div>
        </div>
    </div>


    <!-- Supervisor Modal Box -->

    <div class="modal" id="supervisorTaskAssign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left">Assign task to</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="supervisorForm">
                        <select formControlName="roles" class="form-control">
                            <option value=''>-- select one --</option>
                            <option *ngFor="let role of userData" [value]="role.key">
                                {{role.value}}
                            </option>
                        </select>
                    </form>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" class="btn btn-success" [disabled]="supervisorForm.invalid"
                        (click)="onConfirmAssign()" data-toggle="modal" data-target="#confirmTaskAssign">
                        Submit
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        Close
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmTaskAssign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left;">Confirmation</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- <select class="form-control" formControlName="product">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
          </select> -->
                    <p>Are you sure you want to assign task?</p>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" (click)="supervisorReAssign()" class="btn btn-success">
                        Yes
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        No
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal1>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmSelfAssign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left">Confirmation</h4>
                    <div class="pull-right dropdown nav">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
                <div class="modal-body">
                    <!-- <select class="form-control" formControlName="product">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
          </select> -->
                    <p>Are you sure you want to assign task to yourself?</p>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" (click)="onSupervisorAssign()" class="btn btn-success">
                        Yes
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        No
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal2>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="approveModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left">Confirmation</h4>
                    <div class="pull-right dropdown nav">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
                <div class="modal-body">
                    <!-- <select class="form-control" formControlName="product">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of productCategoryData" [value]="item.key">{{item.value}}</option>
          </select> -->
                    <p>Are you sure you want to assign task to yourself?</p>
                </div>
                <div class="modal-footer text-center">
                    <button type="button" (click)="onSupervisorAssign()" class="btn btn-success">
                        Yes
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        No
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal2>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="rejectModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="float: left;">Confirmation</h4>
                    <div class="pull-right dropdown nav">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to reject?</p>
                    <div [formGroup]="approveForm" class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12 text-left">
                            <label for="valuator_remarks">{{ labels?.remark }}
                            </label>
                            <textarea class="form-control mandatory" name="remarks" id="remarks" cols="1" rows="3"
                            placeholder="" formControlName="deferralRemarks"
                            [maxlength]="labels?.validationData.remarks.maxLength" style="resize: none"></textarea>
                            <div class="invalid-feedback">
                                <div *ngIf="!approveForm.get('deferralRemarks').value && isDirty">
                                    Remarks is required
                                </div>
                            </div>
                        </div>
                        
                    </div>
                   
                </div>
                <div class="modal-footer text-center">
                    <button type="button" (click)="onDeferralApproveOrReject('reject')" class="btn btn-success">
                        Yes
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        No
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" style="display: none;" #closeModal3>
                        close</button>
                </div>
            </div>
        </div>
    </div>

    <app-custom-modal
[modalDetails]="modalDetails"
[showModal]="showModal"
[buttons] = "modalButtons"
(onButtonCancel) = "showModal = false"
(onButtonClick)="onDeferralApproveOrReject('approve')"></app-custom-modal>


    <router-outlet></router-outlet>
</main>