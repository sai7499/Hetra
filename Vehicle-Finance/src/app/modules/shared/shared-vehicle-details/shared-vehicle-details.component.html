<div class="multisteps-form__panel js-active" data-animation="scaleIn">

    <div class="container controlWidth">
        <div class="btn-sec clear-both row">
            <div class="col-sm-5">
                <h4 class="cus-title title"><b>{{ roleType === 1 ? label.vehcileDetailsTitle : '' }}</b></h4>
            </div>
            <div class="col-sm-7 text-right" id="add_vehicle_details_btn">
                <button class="btn btn-primary" type="button" [disabled]="disableSaveBtn"
                    [routerLink]="roleType === 1 ? ['../add-vehicle/0'] : ['/pages/vehicle-details/' + leadId + '/basic-vehicle-details/0']">{{label.addVehicle}}</button>
            </div>
        </div>
    </div>

    <div id="wrapper">
        <table id="add_vhd_table">
            <thead>
                <tr class=" table-head-bg ">
                    <th>{{label.registrationNo}}</th>
                    <th>{{label.make}} </th>
                    <th>{{label.model}}</th>
                    <th>{{label.variant}}</th>
                    <th>{{label.finalAssetCost}}</th>
                    <th>{{label.action}}</th>
                </tr>
            </thead>
            <tbody>
                <tr id="add_vhd_tabletr" *ngFor="let item of vehicleArray; let i = index">
                    <td [attr.data-label]="label?.registrationNo" data-title="Registration Number">
                        {{item.regNo | uppercase}}
                    </td>
                    <td [attr.data-label]="label?.make" data-title="Make">
                        {{item.make}}
                    </td>
                    <td [attr.data-label]="label?.model" data-title="Model">
                        {{item.model}}
                    </td>
                    <td [attr.data-label]="label?.variant" data-title="Variant">
                        {{item.variant}}
                    </td>
                    <td [attr.data-label]="label?.finalAssetCost" data-title="FinalAssetCost">
                        {{item.finalAssetCost}}
                    </td>
                    <td [attr.data-label]="label?.action" data-title="Action">

                        <ng-container *ngIf="isLoan360">
                            <a (click)="roleType === 1 ? editVehicle(item.collateralId, item.eligibleLoanAmount) : onEditVehicleDetails(item.collateralId, item.eligibleLoanAmount)"
                            title="Edit collateral"><i class="fa fa-eye cursor-pointer" aria-hidden="true"></i></a>
                        </ng-container>

                        <ng-container *ngIf="!isLoan360">
                            <a (click)="roleType === 1 ? editVehicle(item.collateralId, item.eligibleLoanAmount) : onEditVehicleDetails(item.collateralId, item.eligibleLoanAmount)"
                            title="Edit collateral"><i class="fa fa-pencil cursor-pointer" aria-hidden="true"></i></a>
                        <a data-toggle="modal" data-target="#exampleModal" [ngClass]="{'pointer_non': disableSaveBtn }"
                            (click)="softDeleteCollateral(i, item.collateralId, 'Collateral')"
                            title="Delete collateral"><i class="fa fa-trash cursor-pointer" aria-hidden="true"></i></a>
                        </ng-container>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div style="margin-top: 15px;" *ngIf="roleType !== 1">

        <div class="container controlWidth">
            <div class="btn-sec clear-both row">
                <div class="col-sm-12 text-right">
                    <button class="btn btn-color" type="button"
                        [routerLink]="['/pages/vehicle-details/' + leadId + '/additional-collateral-details']"
                        [disabled]="disableSaveBtn">
                        {{label?.addAdditionalCollaterals}} </button>
                </div>
            </div>
        </div>

        <div id="wrapper">
            <table id="add_vhd_table">
                <thead>
                    <tr class=" table-head-bg ">
                        <th>{{label?.collateralType}}</th>
                        <th>{{label?.ownerName}}</th>
                        <th>{{label?.relationWithLead}}</th>
                        <th>{{label?.relationWithApplicantStatus}}</th>
                        <th>{{label?.value}}</th>
                        <th>{{label?.action}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="add_vhd_tabletr" *ngFor="let obj of collateralArray; let i = index">
                        <td [attr.data-label]="label?.collateralType" data-title="Collateral Type">
                            {{obj.collateralType}}
                        </td>
                        <td [attr.data-label]="label?.column2" data-title="Column 2">
                            {{obj.ownerName}}
                        </td>
                        <td [attr.data-label]="label?.column3" data-title="Column 3">
                            {{obj.applicantType}}
                        </td>
                        <td [attr.data-label]="label?.column2" data-title="Column 2">
                            {{obj.relationship}}
                        </td>
                        <td [attr.data-label]="label?.column3" data-title="Column 3">
                            {{obj.value}}
                        </td>
                        <td [attr.data-label]="label?.action" data-title="Action">

                            <ng-container *ngIf="isLoan360">
                                <a title="Edit collateral" (click)="editCollateralDetails(obj.collateralId)"><i
                                    class="fa fa-eye cursor-pointer" aria-hidden="true"></i></a>
                            </ng-container>

                            <ng-container *ngIf="!isLoan360">
                                <a title="Edit collateral" (click)="editCollateralDetails(obj.collateralId)"><i
                                    class="fa fa-pencil cursor-pointer" aria-hidden="true"></i></a>
                            <a data-toggle="modal" data-target="#exampleModal"
                                [ngClass]="{'pointer_non': disableSaveBtn }"
                                (click)="softDeleteCollateral(i, obj.collateralId, 'Additional Collateral')"
                                title="Delete collateral"><i class="fa fa-trash cursor-pointer"
                                    aria-hidden="true"></i></a>
                            </ng-container>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">

    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Collateral
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Are you sure want delete {{ isCollateralSrting }} details
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal" (click)="DeleteVehicleDetails()">
                    Yes
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancel
                </button>
            </div>
        </div>
    </div>
</div>