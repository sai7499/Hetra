<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">

      <div class="disbursement-top-section">
        <!-- <div class="row">
            <div class="col-md-12">
              <div class="form-group mb-0">
                <label class="col-form-label" for="lead_created_by">{{labels?.leadID}} </label>
                <label for="lead_created_by_name" class="col-form-label-two">12132</label>
              </div>
            </div>
          </div> -->

        <div class="row">
          <h4 class="banner-con">Disbursement Details
            <span class="float-right">{{udfScreenId}}</span>
          </h4>
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="form-group mb-0">
              <label for="lead_created_by">{{labels?.approvedLoanAmount}}</label>
              <!-- <label for="lead_created_by_name" class="col-form-label-two">1212</label> -->
              <p>{{loanDetailsData['approvedAmount'] ? loanDetailsData['approvedAmount'] : 0}}</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="form-group mb-0">
              <label for="lead_created_by">{{labels?.approvedIRR}}</label>
              <!-- <label for="lead_created_by_name" class="col-form-label-two">test</label> -->
              <p>{{loanDetailsData['approvedIRR'] ? loanDetailsData['approvedIRR'] : 0}}</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="form-group mb-0">
              <label for="customer_name_label">{{labels?.approvedTenor}}</label>
              <!-- <label for="customer_name" class="col-form-label-two">tenor</label> -->
              <p>{{loanDetailsData['approvedTenor'] ? loanDetailsData['approvedTenor'] : 0}}</p>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <h4 class="banner-sub">Deductions</h4>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="form-group mb-0">
              <label for="lead_created_by">{{labels?.chargesAndFees}}</label>
              <!-- <label for="lead_created_by_name" class="col-form-label-two">1212</label> -->
              <p>{{loanDetailsData['chargesFees'] ? loanDetailsData['chargesFees'] : 0}}</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="form-group mb-0">
              <label for="lead_created_by">{{labels?.crossSellInsurance}}</label>
              <!-- <label for="lead_created_by_name" class="col-form-label-two">test</label> -->
              <p>{{loanDetailsData['insuranceAmnt'] ? loanDetailsData['insuranceAmnt'] : 0}}</p>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12">
            <div class="form-group mb-0">
              <label for="customer_name_label">{{labels?.crossSellOthers}}</label>
              <!-- <label for="customer_name" class="col-form-label-two">tenor</label> -->
              <p>{{loanDetailsData['crossSellOthers'] ? loanDetailsData['crossSellOthers'] : 0}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
<div class="content" id="disbursement-memo">
<!-- Newly included for Enhance Disburse Start  -->
    <div class="row" *ngIf="leadLists">
        <div class="" id="applicantTable">
          <table class="main-table">
            <thead>
              <tr class="table-head-bg">
                <th>Ref. ID</th>
                <th>Approved Loan Amount </th>
                <th>Approved Tenor </th>
                <th>Approved IRR </th>
                <th>Insurance Amount</th>
                <th>Charges </th>
                <th>SUbvention Amount  </th>
                <th>{{ labels?.action }} </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor=" let item of loanDetailsList; let i = index">
                <td [attr.data-label]="labels?.ucicId">{{ item.uniqueSubLeadReferenceID ? item.uniqueSubLeadReferenceID : '-' }}</td>
                <td [attr.data-label]="labels?.ucicId">{{ item.approvedAmount ? item.approvedAmount : '-' }}</td>
                <td [attr.data-label]="labels?.ucicId">{{ item.approvedTenor ? item.approvedTenor : '-' }}</td>
                <td [attr.data-label]="labels?.ucicId">{{ item.approvedIRR ? item.approvedIRR : '-' }}</td>
                <td [attr.data-label]="labels?.ucicId">{{ item.insuranceAmnt ? item.insuranceAmnt : '-' }}</td>
                <td [attr.data-label]="labels?.ucicId">{{ item.chargesFees ? item.chargesFees : '-' }}</td>
                <td [attr.data-label]="labels?.ucicId">{{ item.subventionAmnt ? item.subventionAmnt : '-' }}</td>
                
                <td class="pad-0" [attr.data-label]="labels?.action">
                  <div class="flex-container">
                    <ng-container  *ngIf="isLoan360">
                        <!-- (click)="navigatePage(item.applicantId)" -->
                      <div><a  title="View Disbursement"><i
                        class="fa fa-eye icon p-0" aria-hidden="true"></i></a></div>
                    </ng-container>
                    <ng-container *ngIf="!isLoan360">
                      <div><a (click)="fetchLoanDetails(item.uniqueSubLeadReferenceID,true)" title="Edit Disbursement"><i
                        class="fa fa-pencil icon p-0" aria-hidden="true"></i></a></div>
                    </ng-container>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
    <!-- Newly included for Enhance Disburse End  -->
  <form class="multisteps-form__form form-horizontal p-0" autocomplete="off" *ngIf="!leadLists">
    <!-- default container -->
    <div class="multisteps-form__panel js-active" data-animation="scaleIn">
      <div class="row">
        <div class="text-right">
          <form class="p-0 mar-top" [formGroup]="disbursementDetailsForm">
            <div class="form-group">
              <label for="disburse_To" class="control-label disburse-label">{{labels?.disburseTo}}</label>
              <div class="disburse-select">
                <mat-form-field>
                  <mat-select [(ngModel)]="disburseTo" id="disburseTo" formControlName="disburseTo" multiple
                    (selectionChange)="disburseToVal(disburseTo,true)">
                    <mat-option *ngFor="let x of disburseToLov" [value]="x.key" [disabled]="x.key == '7DISBURSETO'">{{x.value}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div
                *ngIf="disbursementDetailsForm.controls.disburseTo.invalid && (disbursementDetailsForm.controls.disburseTo.dirty || disbursementDetailsForm.controls.disburseTo.touched)"
                class="invalid-feedback">
                Disburse To is Required
              </div>
            </div>
          </form>
        </div>
      </div>
      <!--container 1-->
      <form class="p-0" [formGroup]="dealerDetailsForm" *ngIf="disburseToDealer">
        <div>
          <h4 class="banner-sub">Dealer Details</h4>
          <div class="form-group">
            <label for="sourcing_code" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.dealerCode}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="ng-autocomplete col-sm-6 col-md-4 col-lg-3">
              <ng-autocomplete [data]="dealerCodeData" [(ngModel)]="dealerCode" [searchKeyword]="keyword"
                (selected)='selectDealerEvent($event,true)' (inputChanged)='onDealerCodeSearch($event,false,true)'
                [itemTemplate]="dealerCodeTemplate" [notFoundTemplate]="notFoundTemplate" formControlName="dealerCode"
                [placeHolder]="'Dealer Code'" [minQueryLength]="2">
              </ng-autocomplete>
              <ng-template #dealerCodeTemplate let-item>
                <a [innerHTML]="item.dealorName"></a>
              </ng-template>
              <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.dealerName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerBeneficiaryName" [(ngModel)]="dealerObjInfo['beneficiaryName']"
                [isRequired]="'Dealer Name is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'" name="Dealer Name"
                [className]="'form-control mandatory'" [placeholder]="'Dealer Name'" [isDirty]="isDirty">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerDisbursementAmount" [(ngModel)]="dealerObjInfo['disbursementAmount']"
                [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,1)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="paymentLov" [(ngModel)]="dealerObjInfo['paymentMethod']"
                [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'dealer')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showBankDetails || showCASADetails || showDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type={{typeDeclare1}} id="dealerBenAccNo" (keyup)="cnfAccountNumber(dealerDetailsForm,'1',true)" [(ngModel)]="dealerObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(dealerDetailsForm,'1',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="dealerBenAccNo" [(ngModel)]="dealerObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" (change)="cnfAccountNumber(dealerDetailsForm,'1')" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'password'"
                [isDirty]="isDirty"> 
              </app-custom-input>-->
            </div>
          </div>
          <div class="form-group" *ngIf="dealercnfAccShow">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input>
              <div *ngIf="dealerDetailsForm.errors" class="invalid-feedback">
                  Account numbers entered mismatch
                </div>
            </div>
          </div>
          <div *ngIf="showBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="dealerBankListData"
                  [(ngModel)]="dealerObjInfo['beneficiaryBank']" [searchKeyword]="dealerkeyword"
                  (selected)='selectBankNameEvent($event,1)' (inputChanged)='onBankNameSearch($event,1)'
                  [itemTemplate]="bankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #bankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="dealerBenBranch" [(ngModel)]="dealerObjInfo['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                  [isDirty]="isDirty" [type]="'alpha'">
                </app-custom-input> -->
                <!-- <app-vf-custom-select [values]="bankDealerDetailsData" [(ngModel)]="dealerObjInfo['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'dealer')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
                </app-vf-custom-select> -->
                <select class="form-control" [(ngModel)]="dealerObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'dealer')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankDealerDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="dealerDetailsForm.controls.beneficiaryBranch.invalid && (dealerDetailsForm.controls.beneficiaryBranch.dirty || dealerDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="dealerIFSC" [(ngModel)]="dealerObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),1,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="dealerObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="dealerObjInfo['instrumentType']"
                  [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'dealer')"
                  formControlName="instrumentType" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showDealerIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="dealerObjInfo['instrumentNumber']" id="dealerInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showDealerIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="dealerObjInfo['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                </app-vf-custom-select>          -->
                <ng-autocomplete class="custom-select-box" [data]="dealerfavBODListData"
                  [(ngModel)]="dealerObjInfo['favouringBankOfDraw']" [searchKeyword]="dealerFavkeyword"
                  (selected)='selectBankNameEvent($event,10)' (inputChanged)='onBankNameSearch($event,10)'
                  [itemTemplate]="favBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="dealerFavBankBranch" [(ngModel)]="dealerObjInfo['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                  [isDirty]="isDirty" [type]="'alpha'">
                </app-custom-input> -->
                <select class="form-control" [(ngModel)]="dealerObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankDealerFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="dealerDetailsForm.controls.favouringBankBranch.invalid && (dealerDetailsForm.controls.favouringBankBranch.dirty || dealerDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="form-group" *ngIf="showCASADetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerLoanNumber" [(ngModel)]="dealerObjInfo['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength"  [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                 [isDirty]="isDirty" [type]="'number'">
              </app-custom-input>
            </div>
          </div> -->

          <div class="form-group" *ngIf="showDDDetails || showBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerAddLine1" [(ngModel)]="dealerObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
              <!-- <textarea class="form-control" formControlName="address" placeholder="Address......"></textarea> -->
            </div>
          </div>
          <div class="form-group" *ngIf="showDDDetails || showBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerAddLine2" [(ngModel)]="dealerObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showDDDetails || showBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="dealerAddLine3" [(ngModel)]="dealerObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges1" [(ngModel)]="dealerObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges1"
                [checked]="dealerObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(dealerObjInfo['deductChargesFlag'],1)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag1" [(ngModel)]="dealerObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag1"
                [checked]="dealerObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(dealerObjInfo['deferredDisbursementFlag'],1)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>
          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3" >
              <input type="checkbox" id="disburseinTranches" [(ngModel)]="dealerObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="disburseinTranches"
                [checked]="dealerObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(dealerObjInfo['trancheDisbursementFlag'],1,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>
          <div class="row" *ngIf="showTrancheTable">
            <form class="p-0" [formGroup]="trancheDealerForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheDealerArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let trance of trancheDealerForm['controls'].trancheDealerArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheDealerList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheDealerList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheDealerList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <!-- <input type="text"  class="form-control text-field" [(ngModel)]="trancheDealerList[i].disbursement_percentage"
                               name="trancheDealerList[i].disbursement_percentage" formControlName="disbursement_percentage" />                         -->
                        <app-custom-input [(ngModel)]="trancheDealerList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheDealerList,'1',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheDealerList[i].tranche_disbursement_amount"
                          name="trancheDealerList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheDealerList[i].trancheDisburseDate"
                            name="trancheDealerList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                          <!-- <kendo-datepicker class="form-control mandatory" formControlName="trancheDisburseDate" [(ngModel)]="trancheDealerList[i].trancheDisburseDate" [format]="'dd/MM/yyyy'" 
                           placeholder="tranche Date" [activeView]="'decade'" [disabled]='true'></kendo-datepicker> -->
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,1)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('1')" [disabled]="trancheDealerForm.invalid"
                            title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>
        </div>
      </form>
      <!--container 2-->
      <form class="p-0" [formGroup]="appDetailsForm" *ngIf="disburseToApp">
        <div>
          <h4 class="banner-sub">Applicant Details</h4>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input [(ngModel)]="applicantObjInfo['beneficiaryName']" id="appBeneficiaryName"
                [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
                [isDirty]="isDirty">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="appDisbursementAmount" [(ngModel)]="applicantObjInfo['disbursementAmount']"
                [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,2)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="paymentLov" [(ngModel)]="applicantObjInfo['paymentMethod']"
                [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'applicant')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showAppBankDetails || showAppCASADetails || showAppDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <input type={{typeDeclare2}} id="appBenAccNo" (keyup)="cnfAccountNumber(appDetailsForm,'2',true)" [(ngModel)]="applicantObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(appDetailsForm,'2',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="appBenAccNo" [(ngModel)]="applicantObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'" (change)="cnfAccountNumber(appDetailsForm,'2')"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input> -->
            </div>
          </div>
          <div class="form-group" *ngIf="applicantcnfAccShow">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="applicantBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                  [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                  [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                  [isDirty]="isDirty">
                </app-custom-input>
                <div *ngIf="appDetailsForm.errors" class="invalid-feedback">
                    Account numbers entered mismatch
                  </div>
              </div>
            </div>
          <div *ngIf="showAppBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="appBankListData"
                  [(ngModel)]="applicantObjInfo['beneficiaryBank']" [searchKeyword]="appkeyword"
                  (selected)='selectBankNameEvent($event,2)' (inputChanged)='onBankNameSearch($event,2)'
                  [itemTemplate]="bankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #bankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub></label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="appBenBranch" [(ngModel)]="applicantObjInfo['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                [isDirty]="isDirty" [type]="'alpha'">
              </app-custom-input> -->
                <!-- <app-vf-custom-select [values]="bankAppDetailsData" [(ngModel)]="applicantObjInfo['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'applicant')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
              </app-vf-custom-select> -->
                <select class="form-control" [(ngModel)]="applicantObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'applicant')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankAppDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="appDetailsForm.controls.beneficiaryBranch.invalid && (appDetailsForm.controls.beneficiaryBranch.dirty || appDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="appIFSC" [(ngModel)]="applicantObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),2,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="applicantObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showAppDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="applicantObjInfo['instrumentType']"
                  [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'applicant')"
                  formControlName="instrumentType" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showAppIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="applicantObjInfo['instrumentNumber']" id="appInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showAppIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="applicantObjInfo['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                </app-vf-custom-select>               -->
                <ng-autocomplete class="custom-select-box" [data]="appfavBODListData"
                  [(ngModel)]="applicantObjInfo['favouringBankOfDraw']" [searchKeyword]="appFavFavkeyword"
                  (selected)='selectBankNameEvent($event,11)' (inputChanged)='onBankNameSearch($event,11)'
                  [itemTemplate]="favAppBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favAppBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="appFavBankBranch" [(ngModel)]="applicantObjInfo['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                  [isDirty]="isDirty" [type]="'alpha'">
                </app-custom-input> -->
                <select class="form-control" [(ngModel)]="applicantObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankAppFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="appDetailsForm.controls.favouringBankBranch.invalid && (appDetailsForm.controls.favouringBankBranch.dirty || appDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="form-group" *ngIf="showAppCASADetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
            <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="appLoanNumber" [(ngModel)]="applicantObjInfo['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                [isDirty]="isDirty" [type]="'number'">
              </app-custom-input>
            </div>
          </div> -->


          <div class="form-group" *ngIf="showAppDDDetails || showAppBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="appAddLine1" [(ngModel)]="applicantObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showAppDDDetails || showAppBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="appAddLine2" [(ngModel)]="applicantObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showAppDDDetails || showAppBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="appAddLine3" [(ngModel)]="applicantObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>


          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges2" [(ngModel)]="applicantObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges2"
                [checked]="applicantObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(applicantObjInfo['deductChargesFlag'],2)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag2" [(ngModel)]="applicantObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag2"
                [checked]="applicantObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(applicantObjInfo['deferredDisbursementFlag'],2)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>
          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type="checkbox" id="appInTranches" [(ngModel)]="applicantObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="appInTranches"
                [checked]="applicantObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(applicantObjInfo['trancheDisbursementFlag'],2,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>
          <div class="row" *ngIf="showAppTrancheTable">
            <form class="p-0" [formGroup]="trancheAppForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheAppArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let trance of trancheAppForm['controls'].trancheAppArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheAppList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheAppList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheAppList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <!-- <input type="text"  class="form-control text-field" [(ngModel)]="trancheAppList[i].disbursement_percentage"
                               name="trancheAppList[i].disbursement_percentage" formControlName="disbursement_percentage" /> -->
                        <app-custom-input [(ngModel)]="trancheAppList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheAppList,'2',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheAppList[i].tranche_disbursement_amount"
                          name="trancheAppList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheAppList[i].trancheDisburseDate"
                            name="trancheAppList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                          <!-- <kendo-datepicker class="form-control mandatory" formControlName="trancheDisburseDate" [(ngModel)]="trancheAppList[i].trancheDisburseDate" [format]="'dd/MM/yyyy'" 
                           placeholder="tranche Date" [activeView]="'decade'"></kendo-datepicker> -->
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,2)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('2')" [disabled]="trancheAppForm.invalid"
                            title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>

        </div>
      </form>
      <!--container 3-->
      <form class="p-0" [formGroup]="coAppDetailsForm" *ngIf="disburseToCoApp">
        <div>
          <h4 class="banner-sub">Co-Applicant Details</h4>

          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.coAppName}}
              <!-- <sub class="star_red_col">*</sub> -->
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <mat-form-field>
                <mat-select [(ngModel)]="coAppName" formControlName="coAppName" multiple
                  (selectionChange)="selectCoApplicant(coAppName)">
                  <mat-option *ngFor="let x of coAppNamesLov" [value]="x.serialNo">{{x.value}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <!-- container coApp1 starts -->
          <form class="p-0" [formGroup]="coApp1Form" *ngIf="coApp1">
            <div>
              <h4 class="banner-sub">CoApplicant-1</h4>
              <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp1BeneficiaryName" [(ngModel)]="coApplicant1['beneficiaryName']"
                    [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                    [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                    [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
                    [isDirty]="isDirty">
                  </app-custom-input>
                </div>
              </div>
              <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp1DisbursementAmount" [(ngModel)]="coApplicant1['disbursementAmount']"
                    [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                    [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'"
                    [maxLength]="amountLength" [patternCheck]="regexPattern.amount" [isDirty]="isDirty"
                    [type]="'number'" (keyup)="getCumulativeDisbAmnt($event,8)">
                  </app-custom-input>
                </div>
              </div>
              <div class="form-group">
                <label for="business_division"
                  class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-vf-custom-select [values]="paymentLov" [(ngModel)]="coApplicant1['paymentMethod']"
                    [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                    (change)="setCoAppMOP($event,'coApp1')" [isDirty]="isDirty">
                  </app-vf-custom-select>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp1BankDetails || showCoApp1CASADetails || showCoApp1DDDetails">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                    <input type={{typeDeclare3}} id="coApp1BenAccNo" (keyup)="cnfAccountNumber(coApp1Form,'3',true)" [(ngModel)]="coApplicant1['beneficiaryAccountNo']"
                    class="form-control" required (change)="cnfAccountNumber(coApp1Form,'3',false)" formControlName="beneficiaryAccountNo">
                  <!-- <app-custom-input id="coApp1BenAccNo" [(ngModel)]="coApplicant1['beneficiaryAccountNo']"
                    [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                    [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                    [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                    [isDirty]="isDirty">
                  </app-custom-input> -->
                </div>
              </div>
              <div class="form-group" *ngIf="coApp1cnfAccShow">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="applicantBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                      [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                      [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                      [isDirty]="isDirty">
                    </app-custom-input>
                    <div *ngIf="coApp1Form.errors" class="invalid-feedback">
                        Account numbers entered mismatch
                      </div>
                  </div>
                </div>
              <div *ngIf="showCoApp1BankDetails">
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <ng-autocomplete class="custom-select-box" [data]="coApp1BankListData"
                      [(ngModel)]="coApplicant1['beneficiaryBank']" [searchKeyword]="coApp1keyword"
                      (selected)='selectBankNameEvent($event,3)' (inputChanged)='onBankNameSearch($event,3)'
                      [itemTemplate]="coApp1NameTemplate" [notFoundTemplate]="notFoundTemplate"
                      formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                    </ng-autocomplete>
                    <ng-template #coApp1NameTemplate let-item>
                      <a [innerHTML]="item"></a>
                    </ng-template>
                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                    <sub class="star_red_col">*</sub></label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-custom-input id="coApp1BenBranch" [(ngModel)]="coApplicant1['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                    [isDirty]="isDirty" [type]="'alpha'">
                  </app-custom-input> -->
                    <!-- <app-vf-custom-select [values]="bankCoApp1DetailsData" [(ngModel)]="coApplicant1['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'coApp1')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
                  </app-vf-custom-select> -->
                    <select class="form-control" [(ngModel)]="coApplicant1['beneficiaryBranch']"
                      formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'coApp1')">
                      <option value=''>-- select one --</option>
                      <option *ngFor="let item of bankCoApp1DetailsData" [value]="item.externalBankCode">
                        {{item.externalBankBranch}}</option>
                    </select>
                    <div
                      *ngIf="coApp1Form.controls.beneficiaryBranch.invalid && (coApp1Form.controls.beneficiaryBranch.dirty || coApp1Form.controls.beneficiaryBranch.touched)"
                      class="invalid-feedback-disburse">
                      Beneficiary Branch is required
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="coApp1IFSC" [(ngModel)]="coApplicant1['ifscCode']"
                      [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),3,true)'
                      [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                      [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                    </app-custom-input>
                  </div>
                </div>
                <div class="form-group">
                  <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input formControlName="mobilePhone" [(ngModel)]="coApplicant1['mobilePhone']"
                      [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                      [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                      [patternCheck]="labels.validationData?.mobileNumber.pattern">
                    </app-custom-input>
                  </div>
                </div>
              </div>
              <div *ngIf="showCoApp1DDDetails">
                <div class="form-group">
                  <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="coApplicant1['instrumentType']"
                      [isRequired]="'Instrument Type is required'" formControlName="instrumentType"
                      (change)="setIntType($event.target.value,'coApp1')" [isDirty]="isDirty">
                    </app-vf-custom-select>
                  </div>
                </div>
                <div class="form-group" *ngIf="showcoApp1IntDetails">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="coApp1InstrumentNumber" [(ngModel)]="coApplicant1['instrumentNumber']"
                      [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                      [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                      [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                    </app-custom-input>
                  </div>
                </div>
                <div class="form-group" *ngIf="showcoApp1IntDetails">
                  <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                      [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew"
                      [activeView]="'decade'"></kendo-datepicker>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number"
                    class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="coApplicant1['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                    </app-vf-custom-select>                -->
                    <ng-autocomplete class="custom-select-box" [data]="coApp1favBODListData"
                      [(ngModel)]="coApplicant1['favouringBankOfDraw']" [searchKeyword]="coApp1Favkeyword"
                      (selected)='selectBankNameEvent($event,12)' (inputChanged)='onBankNameSearch($event,12)'
                      [itemTemplate]="favCoApp1BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                      formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'"
                      [minQueryLength]="3">
                    </ng-autocomplete>
                    <ng-template #favCoApp1BankNameTemplate let-item>
                      <a [innerHTML]="item"></a>
                    </ng-template>
                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-custom-input id="coApp1FavBankBranch" [(ngModel)]="coApplicant1['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                      [isDirty]="isDirty" [type]="'alpha'">
                    </app-custom-input>                    -->
                    <select class="form-control" [(ngModel)]="coApplicant1['favouringBankBranch']"
                      formControlName="favouringBankBranch">
                      <option value=''>-- select one --</option>
                      <option *ngFor="let item of bankCoApp1FavBODDetailsData" [value]="item.externalBankCode">
                        {{item.externalBankBranch}}</option>
                    </select>
                    <div
                      *ngIf="coApp1Form.controls.favouringBankBranch.invalid && (coApp1Form.controls.favouringBankBranch.dirty || coApp1Form.controls.favouringBankBranch.touched)"
                      class="invalid-feedback-disburse">
                      Favouring Bank Branch is required
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="form-group" *ngIf="showCoApp1CASADetails">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
                <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp1LoanNumber" [(ngModel)]="coApplicant1['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                   [isDirty]="isDirty" [type]="'number'">
                  </app-custom-input>
                </div>
              </div> -->


              <div class="form-group" *ngIf="showCoApp1DDDetails || showCoApp1BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp1AddLine1" [(ngModel)]="coApplicant1['beneficiaryAddress1']"
                    formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp1DDDetails || showCoApp1BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp1AddLine2" [(ngModel)]="coApplicant1['beneficiaryAddress2']"
                    formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp1DDDetails || showCoApp1BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp1AddLine3" [(ngModel)]="coApplicant1['beneficiaryAddress3']"
                    formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-4">
                  <input type="checkbox" id="toDeductCharges2" [(ngModel)]="coApplicant1['deductChargesFlag']"
                    formControlName="deductChargesFlag" class="toDeductCharges2"
                    [checked]="coApplicant1['deductChargesFlag']"
                    (change)="selectCheckBox(coApplicant1['deductChargesFlag'],8)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-4">
                  <input type="checkbox" id="deferredDisbursementFlag8" [(ngModel)]="coApplicant1['deferredDisbursementFlag']"
                    formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag8"
                    [checked]="coApplicant1['deferredDisbursementFlag']"
                    (change)="selectDeferredCheckBox(coApplicant1['deferredDisbursementFlag'],8)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
                </div>
              </div>
              <div class="form-group" *ngIf="vehicleProductCatCode">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <input type="checkbox" id="appInTranches" [(ngModel)]="coApplicant1['trancheDisbursementFlag']"
                    formControlName="trancheDisbursementFlag" class="appInTranches"
                    [checked]="coApplicant1['trancheDisbursementFlag']"
                    (change)="selectTranche(coApplicant1['trancheDisbursementFlag'],8,false)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
                </div>
              </div>
              <div class="row" *ngIf="showCoApp1TrancheTable">
                <form class="p-0" [formGroup]="trancheCoApp1Form">
                  <div class="disbursement-table-section">
                    <table formArrayName="trancheCoApp1Array" class="table disbursement-table">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>{{labels?.disbursementType}}</th>
                          <th>{{labels?.disbursementPercent}}</th>
                          <th>{{labels?.disbursementAmount}}</th>
                          <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                          <th *ngIf="!isLoan360">{{labels?.action}}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="let trance of trancheCoApp1Form['controls'].trancheCoApp1Array['controls']; let i=index"
                          [formGroupName]="i">
                          <td width="8%">
                            <div>
                              Tranche {{i+1}}
                            </div>
                          </td>
                          <td width="15%">
                            <div class="viewable-field">
                              <app-custom-input [hidden]="true" [(ngModel)]="trancheCoApp1List[i].disbursement_id"
                                formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                              </app-custom-input>
                              <app-custom-input [hidden]="true"
                                [(ngModel)]="trancheCoApp1List[i].tranche_disbursement_id"
                                formControlName="tranche_disbursement_id" [className]="'form-control'"
                                [type]="'number'">
                              </app-custom-input>
                              <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                                <mat-select [(ngModel)]="trancheCoApp1List[i].tranche_disbursement_type"
                                  formControlName="tranche_disbursement_type">
                                  <mat-option value=""> Select </mat-option>
                                  <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                          </td>
                          <td width="15%">
                            <app-custom-input [(ngModel)]="trancheCoApp1List[i].disbursement_percentage"
                              [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                              [isDirty]="isDirty" [type]="'percent'"
                              (keyup)="validatePercentage(trancheCoApp1List,'8',i)">
                            </app-custom-input>
                          </td>
                          <td width="15%">
                            <input type="text" class="form-control text-field"
                              [(ngModel)]="trancheCoApp1List[i].tranche_disbursement_amount"
                              name="trancheCoApp1List[i].tranche_disbursement_amount"
                              formControlName="tranche_disbursement_amount" [readOnly]="true" />
                          </td>
                          <td width="18%" [hidden]='true'>
                            <div *ngIf="i==0">
                              <input type="text" class="form-control text-field"
                                [(ngModel)]="trancheCoApp1List[i].trancheDisburseDate"
                                name="trancheCoApp1List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                                [readOnly]='true' />
                            </div>
                          </td>
                          <td class="text-center" width="10%">
                            <div>
                              <button class="delete-btn mr-8" (click)="deleteRow(i,8)" title="delete">
                                <img src="assets/images/delete-icon.png" />
                              </button>
                              <button class="plus-btn" (click)="addRow('8')" [disabled]="trancheCoApp1Form.invalid"
                                title="add">
                                <img src="assets/images/plus-icon.png" />
                              </button>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </form>
              </div>

            </div>
          </form>
          <!-- container coApp1 ends -->


          <!-- container coApp2 starts -->
          <form class="p-0" [formGroup]="coApp2Form" *ngIf="coApp2">
            <div>
              <h4 class="banner-sub">CoApplicant-2</h4>
              <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp2BeneficiaryName" [(ngModel)]="coApplicant2['beneficiaryName']"
                    [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                    [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                    [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
                    [isDirty]="isDirty">
                  </app-custom-input>
                </div>
              </div>
              <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp2DisbursementAmount" [(ngModel)]="coApplicant2['disbursementAmount']"
                    [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                    [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'"
                    [maxLength]="amountLength" [patternCheck]="regexPattern.amount" [isDirty]="isDirty"
                    [type]="'number'" (keyup)="getCumulativeDisbAmnt($event,9)">
                  </app-custom-input>
                </div>
              </div>
              <div class="form-group">
                <label for="business_division"
                  class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-vf-custom-select [values]="paymentLov" [(ngModel)]="coApplicant2['paymentMethod']"
                    [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                    (change)="setCoAppMOP($event,'coApp2')" [isDirty]="isDirty">
                  </app-vf-custom-select>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp2BankDetails || showCoApp2CASADetails || showCoApp2DDDetails">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                    <input type={{typeDeclare4}} id="coApp2BenAccNo" (keyup)="cnfAccountNumber(coApp2Form,'4',true)" [(ngModel)]="coApplicant2['beneficiaryAccountNo']"
                    class="form-control" required (change)="cnfAccountNumber(coApp2Form,'4',false)" formControlName="beneficiaryAccountNo">
                  <!-- <app-custom-input id="coApp2BenAccNo" [(ngModel)]="coApplicant2['beneficiaryAccountNo']"
                    [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                    [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                    [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                    [isDirty]="isDirty">
                  </app-custom-input> -->
                </div>
              </div>
              <div class="form-group" *ngIf="coApp2cnfAccShow">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="applicantBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                      [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                      [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                      [isDirty]="isDirty">
                    </app-custom-input>
                    <div *ngIf="coApp2Form.errors" class="invalid-feedback">
                        Account numbers entered mismatch
                      </div>
                  </div>
                </div>
              <div *ngIf="showCoApp2BankDetails">
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <ng-autocomplete class="custom-select-box" [data]="coApp2BankListData"
                      [(ngModel)]="coApplicant2['beneficiaryBank']" [searchKeyword]="coApp2keyword"
                      (selected)='selectBankNameEvent($event,4)' (inputChanged)='onBankNameSearch($event,4)'
                      [itemTemplate]="coApp2NameTemplate" [notFoundTemplate]="notFoundTemplate"
                      formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                    </ng-autocomplete>
                    <ng-template #coApp2NameTemplate let-item>
                      <a [innerHTML]="item"></a>
                    </ng-template>
                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                    <sub class="star_red_col">*</sub></label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-custom-input id="coApp2BenBranch" [(ngModel)]="coApplicant2['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                    [isDirty]="isDirty" [type]="'alpha'">
                  </app-custom-input> -->
                    <!-- <app-vf-custom-select [values]="bankCoApp2DetailsData" [(ngModel)]="coApplicant2['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'coApp2')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
                  </app-vf-custom-select> -->
                    <select class="form-control" [(ngModel)]="coApplicant2['beneficiaryBranch']"
                      formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'coApp2')">
                      <option value=''>-- select one --</option>
                      <option *ngFor="let item of bankCoApp2DetailsData" [value]="item.externalBankCode">
                        {{item.externalBankBranch}}</option>
                    </select>
                    <div
                      *ngIf="coApp2Form.controls.beneficiaryBranch.invalid && (coApp2Form.controls.beneficiaryBranch.dirty || coApp2Form.controls.beneficiaryBranch.touched)"
                      class="invalid-feedback-disburse">
                      Beneficiary Branch is required
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="coApp2IFSC" [(ngModel)]="coApplicant2['ifscCode']"
                      [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),4,true)'
                      [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                      [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                    </app-custom-input>
                  </div>
                </div>
                <div class="form-group">
                  <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input formControlName="mobilePhone" [(ngModel)]="coApplicant2['mobilePhone']"
                      [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                      [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                      [patternCheck]="labels.validationData?.mobileNumber.pattern">
                    </app-custom-input>
                  </div>
                </div>
              </div>
              <div *ngIf="showCoApp2DDDetails">
                <div class="form-group">
                  <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="coApplicant2['instrumentType']"
                      [isRequired]="'Instrument Type is required'" formControlName="instrumentType"
                      (change)="setIntType($event.target.value,'coApp2')" [isDirty]="isDirty">
                    </app-vf-custom-select>
                  </div>
                </div>
                <div class="form-group" *ngIf="showcoApp2IntDetails">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input [(ngModel)]="coApplicant2['instrumentNumber']" id="coApp2InstrumentNumber"
                      [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                      [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                      [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                    </app-custom-input>
                  </div>
                </div>
                <div class="form-group" *ngIf="showcoApp2IntDetails">
                  <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                      [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew"
                      [activeView]="'decade'"></kendo-datepicker>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number"
                    class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="coApplicant2['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                    </app-vf-custom-select>                    -->
                    <ng-autocomplete class="custom-select-box" [data]="coApp2favBODListData"
                      [(ngModel)]="coApplicant2['favouringBankOfDraw']" [searchKeyword]="coApp2Favkeyword"
                      (selected)='selectBankNameEvent($event,13)' (inputChanged)='onBankNameSearch($event,13)'
                      [itemTemplate]="favCoApp2BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                      formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'"
                      [minQueryLength]="3">
                    </ng-autocomplete>
                    <ng-template #favCoApp2BankNameTemplate let-item>
                      <a [innerHTML]="item"></a>
                    </ng-template>
                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-custom-input id="coApp2FavBankBranch" [(ngModel)]="coApplicant2['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                      [isDirty]="isDirty" [type]="'alpha'">
                    </app-custom-input>                     -->
                    <select class="form-control" [(ngModel)]="coApplicant2['favouringBankBranch']"
                      formControlName="favouringBankBranch">
                      <option value=''>-- select one --</option>
                      <option *ngFor="let item of bankCoApp2FavBODDetailsData" [value]="item.externalBankCode">
                        {{item.externalBankBranch}}</option>
                    </select>
                    <div
                      *ngIf="coApp2Form.controls.favouringBankBranch.invalid && (coApp2Form.controls.favouringBankBranch.dirty || coApp2Form.controls.favouringBankBranch.touched)"
                      class="invalid-feedback-disburse">
                      Favouring Bank Branch is required
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="form-group" *ngIf="showCoApp2CASADetails">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
                <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp2LoanNumber" [(ngModel)]="coApplicant2['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                     [isDirty]="isDirty" [type]="'number'">
                  </app-custom-input>
                </div>
              </div> -->


              <div class="form-group" *ngIf="showCoApp2DDDetails || showCoApp2BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp2AddLine1" [(ngModel)]="coApplicant2['beneficiaryAddress1']"
                    formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp2DDDetails || showCoApp2BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp2AddLine2" [(ngModel)]="coApplicant2['beneficiaryAddress2']"
                    formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp2DDDetails || showCoApp2BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp2AddLine3" [(ngModel)]="coApplicant2['beneficiaryAddress3']"
                    formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-4">
                  <input type="checkbox" id="toDeductCharges2" [(ngModel)]="coApplicant2['deductChargesFlag']"
                    formControlName="deductChargesFlag" class="toDeductCharges2"
                    [checked]="coApplicant2['deductChargesFlag']"
                    (change)="selectCheckBox(coApplicant2['deductChargesFlag'],9)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-4">
                  <input type="checkbox" id="deferredDisbursementFlag9" [(ngModel)]="coApplicant2['deferredDisbursementFlag']"
                    formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag9"
                    [checked]="coApplicant2['deferredDisbursementFlag']"
                    (change)="selectDeferredCheckBox(coApplicant2['deferredDisbursementFlag'],9)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
                </div>
              </div>
              <div class="form-group" *ngIf="vehicleProductCatCode">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <input type="checkbox" id="appInTranches" [(ngModel)]="coApplicant2['trancheDisbursementFlag']"
                    formControlName="trancheDisbursementFlag" class="appInTranches"
                    [checked]="coApplicant2['trancheDisbursementFlag']"
                    (change)="selectTranche(coApplicant2['trancheDisbursementFlag'],9,false)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
                </div>
              </div>
              <div class="row" *ngIf="showCoApp2TrancheTable">
                <form class="p-0" [formGroup]="trancheCoApp2Form">
                  <div class="disbursement-table-section">
                    <table formArrayName="trancheCoApp2Array" class="table disbursement-table">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>{{labels?.disbursementType}}</th>
                          <th>{{labels?.disbursementPercent}}</th>
                          <th>{{labels?.disbursementAmount}}</th>
                          <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                          <th *ngIf="!isLoan360">{{labels?.action}}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="let trance of trancheCoApp2Form['controls'].trancheCoApp2Array['controls']; let i=index"
                          [formGroupName]="i">
                          <td width="8%">
                            <div>
                              Tranche {{i+1}}
                            </div>
                          </td>
                          <td width="15%">
                            <div class="viewable-field">
                              <app-custom-input [hidden]="true" [(ngModel)]="trancheCoApp2List[i].disbursement_id"
                                formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                              </app-custom-input>
                              <app-custom-input [hidden]="true"
                                [(ngModel)]="trancheCoApp2List[i].tranche_disbursement_id"
                                formControlName="tranche_disbursement_id" [className]="'form-control'"
                                [type]="'number'">
                              </app-custom-input>
                              <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                                <mat-select [(ngModel)]="trancheCoApp2List[i].tranche_disbursement_type"
                                  formControlName="tranche_disbursement_type">
                                  <mat-option value=""> Select </mat-option>
                                  <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                          </td>
                          <td width="15%">
                            <app-custom-input [(ngModel)]="trancheCoApp2List[i].disbursement_percentage"
                              [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                              [isDirty]="isDirty" [type]="'percent'"
                              (keyup)="validatePercentage(trancheCoApp2List,'9',i)">
                            </app-custom-input>
                          </td>
                          <td width="15%">
                            <input type="text" class="form-control text-field"
                              [(ngModel)]="trancheCoApp2List[i].tranche_disbursement_amount"
                              name="trancheCoApp2List[i].tranche_disbursement_amount"
                              formControlName="tranche_disbursement_amount" [readOnly]="true" />
                          </td>
                          <td width="18%" [hidden]='true'>
                            <div *ngIf="i==0">
                              <input type="text" class="form-control text-field"
                                [(ngModel)]="trancheCoApp2List[i].trancheDisburseDate"
                                name="trancheCoApp2List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                                [readOnly]='true' />
                            </div>
                          </td>
                          <td class="text-center" width="10%" *ngIf="!isLoan360">
                            <div>
                              <button class="delete-btn mr-8" (click)="deleteRow(i,9)" title="delete">
                                <img src="assets/images/delete-icon.png" />
                              </button>
                              <button class="plus-btn" (click)="addRow('9')" [disabled]="trancheCoApp2Form.invalid"
                                title="add">
                                <img src="assets/images/plus-icon.png" />
                              </button>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </form>
              </div>

            </div>
          </form>
          <!-- container coApp2 ends -->

          <!-- container coApp3 starts -->
          <form class="p-0" [formGroup]="coApp3Form" *ngIf="coApp3">
            <div>
              <h4 class="banner-sub">CoApplicant-3</h4>
              <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp3BeneficiaryName" [(ngModel)]="coApplicant3['beneficiaryName']"
                    [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                    [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                    [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
                    [isDirty]="isDirty">
                  </app-custom-input>
                </div>
              </div>
              <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp3DisbursementAmount" [(ngModel)]="coApplicant3['disbursementAmount']"
                    [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                    [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'"
                    [maxLength]="amountLength" [patternCheck]="regexPattern.amount" [isDirty]="isDirty"
                    [type]="'number'" (keyup)="getCumulativeDisbAmnt($event,10)">
                  </app-custom-input>
                </div>
              </div>
              <div class="form-group">
                <label for="business_division"
                  class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-vf-custom-select [values]="paymentLov" [(ngModel)]="coApplicant3['paymentMethod']"
                    [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                    (change)="setCoAppMOP($event,'coApp3')" [isDirty]="isDirty">
                  </app-vf-custom-select>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp3BankDetails || showCoApp3CASADetails || showCoApp3BankDetails">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
                  <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                    <input type={{typeDeclare5}} id="coApp3BenAccNo" (keyup)="cnfAccountNumber(coApp3Form,'5',true)" [(ngModel)]="coApplicant3['beneficiaryAccountNo']"
                    class="form-control" required (change)="cnfAccountNumber(coApp3Form,'5',false)" formControlName="beneficiaryAccountNo">
                  <!-- <app-custom-input id="coApp3BenAccNo" [(ngModel)]="coApplicant3['beneficiaryAccountNo']"
                    [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                    [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                    [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                    [isDirty]="isDirty">
                  </app-custom-input> -->
                </div>
              </div>
              <div class="form-group" *ngIf="coApp3cnfAccShow">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="applicantBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                      [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                      [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                      [isDirty]="isDirty">
                    </app-custom-input>
                    <div *ngIf="coApp3Form.errors" class="invalid-feedback">
                        Account numbers entered mismatch
                      </div>
                  </div>
                </div>
              <div *ngIf="showCoApp3BankDetails">
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <ng-autocomplete class="custom-select-box" [data]="coApp3BankListData"
                      [(ngModel)]="coApplicant3['beneficiaryBank']" [searchKeyword]="coApp3keyword"
                      (selected)='selectBankNameEvent($event,5)' (inputChanged)='onBankNameSearch($event,5)'
                      [itemTemplate]="coApp3NameTemplate" [notFoundTemplate]="notFoundTemplate"
                      formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                    </ng-autocomplete>
                    <ng-template #coApp3NameTemplate let-item>
                      <a [innerHTML]="item"></a>
                    </ng-template>
                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                    <sub class="star_red_col">*</sub></label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-custom-input id="coApp3BenBranch" [(ngModel)]="coApplicant3['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                    [isDirty]="isDirty" [type]="'alpha'">
                  </app-custom-input> -->
                    <!-- <app-vf-custom-select [values]="bankCoApp3DetailsData" [(ngModel)]="coApplicant3['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'coApp3')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
                  </app-vf-custom-select> -->
                    <select class="form-control" [(ngModel)]="coApplicant3['beneficiaryBranch']"
                      formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'coApp3')">
                      <option value=''>-- select one --</option>
                      <option *ngFor="let item of bankCoApp3DetailsData" [value]="item.externalBankCode">
                        {{item.externalBankBranch}}</option>
                    </select>
                    <div
                      *ngIf="coApp3Form.controls.beneficiaryBranch.invalid && (coApp3Form.controls.beneficiaryBranch.dirty || coApp3Form.controls.beneficiaryBranch.touched)"
                      class="invalid-feedback-disburse">
                      Beneficiary Branch is required
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input id="coApp3IFSC" [(ngModel)]="coApplicant3['ifscCode']"
                      [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),5,true)'
                      [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                      [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                    </app-custom-input>
                  </div>
                </div>
                <div class="form-group">
                  <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input formControlName="mobilePhone" [(ngModel)]="coApplicant3['mobilePhone']"
                      [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                      [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                      [patternCheck]="labels.validationData?.mobileNumber.pattern">
                    </app-custom-input>
                  </div>
                </div>
              </div>
              <div *ngIf="showCoApp3DDDetails">
                <div class="form-group">
                  <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="coApplicant3['instrumentType']"
                      [isRequired]="'Instrument Type is required'" formControlName="instrumentType"
                      (change)="setIntType($event.target.value,'coApp3')" [isDirty]="isDirty">
                    </app-vf-custom-select>
                  </div>
                </div>
                <div class="form-group" *ngIf="showcoApp3IntDetails">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <app-custom-input [(ngModel)]="coApplicant3['instrumentNumber']" id="coApp3InstrumentNumber"
                      [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                      [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                      [type]="'number'">
                    </app-custom-input>
                  </div>
                </div>
                <div class="form-group" *ngIf="showcoApp3IntDetails">
                  <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                      [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew"
                      [activeView]="'decade'"></kendo-datepicker>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number"
                    class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="coApplicant3['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                    </app-vf-custom-select>                  -->
                    <ng-autocomplete class="custom-select-box" [data]="coApp3favBODListData"
                      [(ngModel)]="coApplicant3['favouringBankOfDraw']" [searchKeyword]="coApp3Favkeyword"
                      (selected)='selectBankNameEvent($event,14)' (inputChanged)='onBankNameSearch($event,14)'
                      [itemTemplate]="favCoApp3BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                      formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'"
                      [minQueryLength]="3">
                    </ng-autocomplete>
                    <ng-template #favCoApp3BankNameTemplate let-item>
                      <a [innerHTML]="item"></a>
                    </ng-template>
                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="form-group">
                  <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                    <sub class="star_red_col">*</sub>
                  </label>
                  <div class="col-sm-6 col-md-4 col-lg-3">
                    <!-- <app-custom-input id="coApp3FavBankBranch" [(ngModel)]="coApplicant3['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                      [isDirty]="isDirty" [type]="'alpha'">
                    </app-custom-input> -->
                    <select class="form-control" [(ngModel)]="coApplicant3['favouringBankBranch']"
                      formControlName="favouringBankBranch">
                      <option value=''>-- select one --</option>
                      <option *ngFor="let item of bankCoApp3FavBODDetailsData" [value]="item.externalBankCode">
                        {{item.externalBankBranch}}</option>
                    </select>
                    <div
                      *ngIf="coApp3Form.controls.favouringBankBranch.invalid && (coApp3Form.controls.favouringBankBranch.dirty || coApp3Form.controls.favouringBankBranch.touched)"
                      class="invalid-feedback-disburse">
                      Favouring Bank Branch is required
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="form-group" *ngIf="showCoApp3CASADetails">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
                <sub class="star_red_col">*</sub>
                </label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp3LoanNumber" [(ngModel)]="coApplicant3['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                     [isDirty]="isDirty" [type]="'number'">
                  </app-custom-input>
                </div>
              </div> -->


              <div class="form-group" *ngIf="showCoApp3DDDetails || showCoApp3BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp3AddLine1" [(ngModel)]="coApplicant3['beneficiaryAddress1']"
                    formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp3DDDetails || showCoApp3BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp3AddLine2" [(ngModel)]="coApplicant3['beneficiaryAddress2']"
                    formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
                </div>
              </div>
              <div class="form-group" *ngIf="showCoApp3DDDetails || showCoApp3BankDetails">
                <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <app-custom-input id="coApp3AddLine3" [(ngModel)]="coApplicant3['beneficiaryAddress3']"
                    formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                    name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
                </div>
              </div>

              <div class="form-group">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-4">
                  <input type="checkbox" id="toDeductCharges2" [(ngModel)]="coApplicant3['deductChargesFlag']"
                    formControlName="deductChargesFlag" class="toDeductCharges2"
                    [checked]="coApplicant3['deductChargesFlag']"
                    (change)="selectCheckBox(coApplicant3['deductChargesFlag'],10)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-4">
                  <input type="checkbox" id="deferredDisbursementFlag10" [(ngModel)]="coApplicant3['deferredDisbursementFlag']"
                    formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag10"
                    [checked]="coApplicant3['deferredDisbursementFlag']"
                    (change)="selectDeferredCheckBox(coApplicant3['deferredDisbursementFlag'],10)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
                </div>
              </div>
              <div class="form-group" *ngIf="vehicleProductCatCode">
                <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
                <div class="col-sm-6 col-md-4 col-lg-3">
                  <input type="checkbox" id="appInTranches" [(ngModel)]="coApplicant3['trancheDisbursementFlag']"
                    formControlName="trancheDisbursementFlag" class="appInTranches"
                    [checked]="coApplicant3['trancheDisbursementFlag']"
                    (change)="selectTranche(coApplicant3['trancheDisbursementFlag'],10,false)">
                  <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
                </div>
              </div>
              <div class="row" *ngIf="showCoApp3TrancheTable">
                <form class="p-0" [formGroup]="trancheCoApp3Form">
                  <div class="disbursement-table-section">
                    <table formArrayName="trancheCoApp3Array" class="table disbursement-table">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>{{labels?.disbursementType}}</th>
                          <th>{{labels?.disbursementPercent}}</th>
                          <th>{{labels?.disbursementAmount}}</th>
                          <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                          <th *ngIf="!isLoan360">{{labels?.action}}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="let trance of trancheCoApp3Form['controls'].trancheCoApp3Array['controls']; let i=index"
                          [formGroupName]="i">
                          <td width="8%">
                            <div>
                              Tranche {{i+1}}
                            </div>
                          </td>
                          <td width="15%">
                            <div class="viewable-field">
                              <app-custom-input [hidden]="true" [(ngModel)]="trancheCoApp3List[i].disbursement_id"
                                formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                              </app-custom-input>
                              <app-custom-input [hidden]="true"
                                [(ngModel)]="trancheCoApp3List[i].tranche_disbursement_id"
                                formControlName="tranche_disbursement_id" [className]="'form-control'"
                                [type]="'number'">
                              </app-custom-input>
                              <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                                <mat-select [(ngModel)]="trancheCoApp3List[i].tranche_disbursement_type"
                                  formControlName="tranche_disbursement_type">
                                  <mat-option value=""> Select </mat-option>
                                  <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                          </td>
                          <td width="15%">
                            <app-custom-input [(ngModel)]="trancheCoApp3List[i].disbursement_percentage"
                              [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                              [isDirty]="isDirty" [type]="'percent'"
                              (keyup)="validatePercentage(trancheCoApp3List,'10',i)">
                            </app-custom-input>
                          </td>
                          <td width="15%">
                            <input type="text" class="form-control text-field"
                              [(ngModel)]="trancheCoApp3List[i].tranche_disbursement_amount"
                              name="trancheCoApp3List[i].tranche_disbursement_amount"
                              formControlName="tranche_disbursement_amount" [readOnly]="true" />
                          </td>
                          <td width="18%" [hidden]='true'>
                            <div *ngIf="i==0">
                              <input type="text" class="form-control text-field"
                                [(ngModel)]="trancheCoApp3List[i].trancheDisburseDate"
                                name="trancheCoApp3List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                                [readOnly]='true' />
                            </div>
                          </td>
                          <td class="text-center" width="10%" *ngIf="!isLoan360">
                            <div>
                              <button class="delete-btn mr-8" (click)="deleteRow(i,10)" title="delete">
                                <img src="assets/images/delete-icon.png" />
                              </button>
                              <button class="plus-btn" (click)="addRow('10')" [disabled]="trancheCoApp3Form.invalid"
                                title="add">
                                <img src="assets/images/plus-icon.png" />
                              </button>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </form>
              </div>

            </div>
          </form>
          <!-- container coApp3 ends -->
        </div>
      </form>
      <!--container 4-->
      <form class="p-0" [formGroup]="bankerDetailsForm" *ngIf="disburseToBanker">
        <div>
          <h4 class="banner-sub">Banker Details</h4>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.selectBank}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="bankerObjInfo['bankerId']" [isRequired]="'Select Banker is required'" formControlName="bankerId"  [isDirty]="isDirty">
              </app-vf-custom-select> -->
              <ng-autocomplete class="custom-select-box" [data]="selectBankerListData"
                [(ngModel)]="bankerObjInfo['bankerId']" [searchKeyword]="dealerkeyword"
                (inputChanged)='onBankNameSearch($event,9)' [itemTemplate]="bankerTemplate"
                [notFoundTemplate]="notFoundTemplate" formControlName="bankerId" [placeHolder]="'Select Bank'"
                [minQueryLength]="3">
              </ng-autocomplete>
              <ng-template #bankerTemplate let-item>
                <a [innerHTML]="item"></a>
              </ng-template>
              <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="notFound"></div>
              </ng-template>
            </div>
          </div>

          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="bankerAppName" [(ngModel)]="bankerObjInfo['beneficiaryName']"
                [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [isDirty]="isDirty"
                [type]="'text'">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="bankerDisbursementAmount" [isRequired]="'Disbursement Amount is required'"
                [(ngModel)]="bankerObjInfo['disbursementAmount']" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,4)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [(ngModel)]="bankerObjInfo['paymentMethod']"
                [isRequired]="'Mode Of Payment is required'" [values]="paymentLov" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'banker')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showBankerBankDetails || showBankerCASADetails || showBankerDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <input type={{typeDeclare6}} id="bankerBenAccNo" (keyup)="cnfAccountNumber(bankerDetailsForm,'6',true)" [(ngModel)]="bankerObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(bankerDetailsForm,'6',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="bankerBenAccNo" [(ngModel)]="bankerObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input> -->
            </div>
          </div>
          <div class="form-group" *ngIf="bankercnfAccShow">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="bankerBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                  [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                  [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                  [isDirty]="isDirty">
                </app-custom-input>
                <div *ngIf="bankerDetailsForm.errors" class="invalid-feedback">
                    Account numbers entered mismatch
                  </div>
              </div>
            </div>
          <div *ngIf="showBankerBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="bankerBankListData"
                  [(ngModel)]="bankerObjInfo['beneficiaryBank']" [searchKeyword]="bankerkeyword"
                  (selected)='selectBankNameEvent($event,6)' (inputChanged)='onBankNameSearch($event,6)'
                  [itemTemplate]="bankerTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #bankerTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="bankerBenBranch" [(ngModel)]="bankerObjInfo['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                [isDirty]="isDirty" [type]="'alpha'">
              </app-custom-input> -->
                <!-- <app-vf-custom-select [values]="bankBankerDetailsData" [(ngModel)]="bankerObjInfo['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'banker')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
              </app-vf-custom-select> -->
                <select class="form-control" [(ngModel)]="bankerObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'banker')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankBankerDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="bankerDetailsForm.controls.beneficiaryBranch.invalid && (bankerDetailsForm.controls.beneficiaryBranch.dirty || bankerDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="bankerIFSC" [(ngModel)]="bankerObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),6,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="bankerObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showBankerDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [isRequired]="'Instrument Type is required'"
                  [(ngModel)]="bankerObjInfo['instrumentType']" formControlName="instrumentType"
                  (change)="setIntType($event.target.value,'banker')" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showBankerIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="bankerObjInfo['instrumentNumber']" id="bankerInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showBankerIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="bankerObjInfo['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                </app-vf-custom-select>               -->
                <ng-autocomplete class="custom-select-box" [data]="bankerfavBODListData"
                  [(ngModel)]="bankerObjInfo['favouringBankOfDraw']" [searchKeyword]="bankerFavkeyword"
                  (selected)='selectBankNameEvent($event,15)' (inputChanged)='onBankNameSearch($event,15)'
                  [itemTemplate]="favBankerBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favBankerBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="bankerFavBankBranch" [(ngModel)]="bankerObjInfo['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                  [isDirty]="isDirty" [type]="'alpha'">
                </app-custom-input>               -->
                <select class="form-control" [(ngModel)]="bankerObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankBankerFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="bankerDetailsForm.controls.favouringBankBranch.invalid && (bankerDetailsForm.controls.favouringBankBranch.dirty || bankerDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="form-group" *ngIf="showBankerCASADetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
            <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="bankerLoanNumber" [(ngModel)]="bankerObjInfo['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                 [isDirty]="isDirty" [type]="'number'">
              </app-custom-input>
            </div>
          </div> -->

          <div class="form-group" *ngIf="showBankerDDDetails || showBankerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="bankerAddLine1" [(ngModel)]="bankerObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showBankerDDDetails || showBankerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="bankerAddLine2" [(ngModel)]="bankerObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showBankerDDDetails || showBankerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="bankerAddLine3" [(ngModel)]="bankerObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges4" [(ngModel)]="bankerObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges4"
                [checked]="bankerObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(bankerObjInfo['deductChargesFlag'],4)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag4" [(ngModel)]="bankerObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag4"
                [checked]="bankerObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(bankerObjInfo['deferredDisbursementFlag'],4)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>
          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type="checkbox" id="bankerTranches" [(ngModel)]="bankerObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="bankerTranches"
                [checked]="bankerObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(bankerObjInfo['trancheDisbursementFlag'],4,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>
          <div class="row" *ngIf="showBankerTrancheTable">
            <form class="p-0" [formGroup]="trancheBankerForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheBankerArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let trance of trancheBankerForm['controls'].trancheBankerArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheBankerList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheBankerList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheBankerList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <!-- <input type="text"  class="form-control text-field" [(ngModel)]="trancheBankerList[i].disbursement_percentage"
                               name="trancheBankerList[i].disbursement_percentage" formControlName="disbursement_percentage" />  -->
                        <app-custom-input [(ngModel)]="trancheBankerList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheBankerList,'4',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheBankerList[i].tranche_disbursement_amount"
                          name="trancheBankerList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheBankerList[i].trancheDisburseDate"
                            name="trancheBankerList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                          <!-- <kendo-datepicker class="form-control mandatory" formControlName="trancheDisburseDate" [(ngModel)]="trancheBankerList[i].trancheDisburseDate" [format]="'dd/MM/yyyy'" 
                           placeholder="tranche Date" [activeView]="'decade'"></kendo-datepicker> -->
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,4)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('4')" [disabled]="trancheBankerForm.invalid"
                            title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>
        </div>
      </form>
      <!--container 5-->
      <form class="p-0" [formGroup]="financierDetailsForm" *ngIf="disburseToFinancier">
        <div>
          <h4 class="banner-sub">Financier Details</h4>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.selectFinancier}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="financierLov" [isRequired]="'Select Financier is required'"
                [(ngModel)]="financierObjInfo['financierId']" formControlName="financierId" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>

          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="finBeneficiaryName" [(ngModel)]="financierObjInfo['beneficiaryName']"
                [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                [placeholder]="'Beneficiary Name'" [isDirty]="isDirty" [type]="'text'">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="financierDisbursementAmount" [isRequired]="'Disbursement Amount is required'"
                [(ngModel)]="financierObjInfo['disbursementAmount']" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,5)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [(ngModel)]="financierObjInfo['paymentMethod']"
                [isRequired]="'Mode Of Payment is required'" [values]="paymentLov" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'financier')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showFinBankDetails || showFinCASADetails || showFinDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <input type={{typeDeclare7}} id="finBenAccNo" (keyup)="cnfAccountNumber(financierDetailsForm,'7',true)" [(ngModel)]="financierObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(financierDetailsForm,'7',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="finBenAccNo" [(ngModel)]="financierObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input> -->
            </div>
          </div>
          <div class="form-group" *ngIf="fincnfAccShow">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="finBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                  [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                  [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                  [isDirty]="isDirty">
                </app-custom-input>
                <div *ngIf="financierDetailsForm.errors" class="invalid-feedback">
                    Account numbers entered mismatch
                  </div>
              </div>
            </div>
          <div *ngIf="showFinBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="finBankListData"
                  [(ngModel)]="financierObjInfo['beneficiaryBank']" [searchKeyword]="finkeyword"
                  (selected)='selectBankNameEvent($event,7)' (inputChanged)='onBankNameSearch($event,7)'
                  [itemTemplate]="financierTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #financierTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="finBenBranch" [(ngModel)]="financierObjInfo['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                [isDirty]="isDirty" [type]="'alpha'">
              </app-custom-input> -->
                <!-- <app-vf-custom-select [values]="bankFinDetailsData" [(ngModel)]="financierObjInfo['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'financier')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
              </app-vf-custom-select> -->
                <select class="form-control" [(ngModel)]="financierObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'financier')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankFinDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="financierDetailsForm.controls.beneficiaryBranch.invalid && (financierDetailsForm.controls.beneficiaryBranch.dirty || financierDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="finIFSC" [(ngModel)]="financierObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),7,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="financierObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showFinDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [isRequired]="'Instrument Type is required'"
                  [(ngModel)]="financierObjInfo['instrumentType']" formControlName="instrumentType"
                  (change)="setIntType($event.target.value,'financier')" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showFinIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="financierObjInfo['instrumentNumber']" id="finInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showFinIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="financierObjInfo['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                </app-vf-custom-select>                -->
                <ng-autocomplete class="custom-select-box" [data]="finfavBODListData"
                  [(ngModel)]="financierObjInfo['favouringBankOfDraw']" [searchKeyword]="finFavkeyword"
                  (selected)='selectBankNameEvent($event,16)' (inputChanged)='onBankNameSearch($event,16)'
                  [itemTemplate]="favFinBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favFinBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="finFavBankBranch" [(ngModel)]="financierObjInfo['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                  [isDirty]="isDirty" [type]="'alpha'">
                </app-custom-input>                 -->
                <select class="form-control" [(ngModel)]="financierObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankFinFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="financierDetailsForm.controls.favouringBankBranch.invalid && (financierDetailsForm.controls.favouringBankBranch.dirty || financierDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="form-group" *ngIf="showFinCASADetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
            <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="finLoanNumber" [(ngModel)]="financierObjInfo['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                 [isDirty]="isDirty" [type]="'number'">
              </app-custom-input>
            </div>
          </div> -->

          <div class="form-group" *ngIf="showFinDDDetails || showFinBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="finAddLine1" [(ngModel)]="financierObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showFinDDDetails || showFinBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="finAddLine2" [(ngModel)]="financierObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showFinDDDetails || showFinBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="finAddLine3" [(ngModel)]="financierObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges5" [(ngModel)]="financierObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges5"
                [checked]="financierObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(financierObjInfo['deductChargesFlag'],5)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag5" [(ngModel)]="financierObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag5"
                [checked]="financierObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(financierObjInfo['deferredDisbursementFlag'],5)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>

          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type="checkbox" id="financierTranches" [(ngModel)]="financierObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="financierTranches"
                [checked]="financierObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(financierObjInfo['trancheDisbursementFlag'],5,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>

          <div class="row" *ngIf="showFinancierTrancheTable">
            <form class="p-0" [formGroup]="trancheFinancierForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheFinancierArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="let trance of trancheFinancierForm['controls'].trancheFinancierArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheFinancierList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true"
                            [(ngModel)]="trancheFinancierList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheFinancierList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <!-- <input type="text"  class="form-control text-field" [(ngModel)]="trancheFinancierList[i].disbursement_percentage"
                               name="trancheFinancierList[i].disbursement_percentage" formControlName="disbursement_percentage" />      -->
                        <app-custom-input [(ngModel)]="trancheFinancierList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'"
                          (keyup)="validatePercentage(trancheFinancierList,'5',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheFinancierList[i].tranche_disbursement_amount"
                          name="trancheFinancierList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheFinancierList[i].trancheDisburseDate"
                            name="trancheFinancierList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                          <!-- <kendo-datepicker class="form-control mandatory" formControlName="trancheDisburseDate" [(ngModel)]="trancheFinancierList[i].trancheDisburseDate" [format]="'dd/MM/yyyy'" 
                           placeholder="tranche Date" [activeView]="'decade'"></kendo-datepicker> -->
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,5)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('5')" [disabled]="trancheFinancierForm.invalid"
                            title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>

        </div>
      </form>
      <!--container 6-->
      <form class="p-0" [formGroup]="thirdPartyDetailsForm" *ngIf="disburseToThirdParty">
        <div>
          <h4 class="banner-sub">Third Party</h4>

          <!-- <div class="form-group">
          <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Beneficiary Name</label>
          <div class="col-sm-6 col-md-4 col-lg-3">
              <input
              formControlName="beneficiaryName"
              type="text"
              class="form-control mandatory"
              id="beneficiary"
              placeholder="beneficiary Name"
              name="beneficiary"
              disabled
            />
          </div>
        </div> -->
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.tpName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="tpBeneficiaryName" [(ngModel)]="thirdPartyObjInfo['beneficiaryName']"
                [isRequired]="'Third Party is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                [className]="'form-control mandatory'" [placeholder]="'Third Party Name'" [isDirty]="isDirty"
                [type]="'text'">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="thirdPartyDisbursementAmount" [isRequired]="'Disbursement Amount is required'"
                [(ngModel)]="thirdPartyObjInfo['disbursementAmount']" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,6)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [(ngModel)]="thirdPartyObjInfo['paymentMethod']"
                [isRequired]="'Mode Of Payment is required'" [values]="paymentLov" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'thirdParty')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showTPBankDetails || showTPCASADetails || showTPDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <input type={{typeDeclare8}} id="tpBenAccNo" (keyup)="cnfAccountNumber(thirdPartyDetailsForm,'8',true)" [(ngModel)]="thirdPartyObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(thirdPartyDetailsForm,'8',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="tpBenAccNo" [(ngModel)]="thirdPartyObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input> -->
            </div>
          </div>
          <div class="form-group" *ngIf="tpcnfAccShow">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="tpBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                  [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                  [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                  [isDirty]="isDirty">
                </app-custom-input>
                <div *ngIf="thirdPartyDetailsForm.errors" class="invalid-feedback">
                    Account numbers entered mismatch
                  </div>
              </div>
            </div>
          <div *ngIf="showTPBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="thirdPartyBankListData"
                  [(ngModel)]="thirdPartyObjInfo['beneficiaryBank']" [searchKeyword]="thirdPartykeyword"
                  (selected)='selectBankNameEvent($event,8)' (inputChanged)='onBankNameSearch($event,8)'
                  [itemTemplate]="thirdPartyTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #thirdPartyTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="tpBenBranch" [(ngModel)]="thirdPartyObjInfo['beneficiaryBranch']" [isRequired]="'Beneficiary Branch is required'" formControlName="beneficiaryBranch" [className]="'form-control mandatory'" [placeholder]="'Branch'" [maxLength]="bnfBranchLength"
                [isDirty]="isDirty" [type]="'alpha'">
              </app-custom-input> -->
                <!-- <app-vf-custom-select [values]="bankTPDetailsData" [(ngModel)]="thirdPartyObjInfo['beneficiaryBranch']" formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'thirdParty')" [isRequired]="'Beneficiary Branch is required'" [isDirty]="isDirty">
              </app-vf-custom-select> -->
                <select class="form-control" [(ngModel)]="thirdPartyObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'thirdParty')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankTPDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="thirdPartyDetailsForm.controls.beneficiaryBranch.invalid && (thirdPartyDetailsForm.controls.beneficiaryBranch.dirty || thirdPartyDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="tpIFSC" [(ngModel)]="thirdPartyObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),8,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="thirdPartyObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showTPDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [isRequired]="'Instrument Type is required'"
                  [(ngModel)]="thirdPartyObjInfo['instrumentType']" formControlName="instrumentType"
                  (change)="setIntType($event.target.value,'thirdParty')" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showTpIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="thirdPartyObjInfo['instrumentNumber']" id="tpInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showTpIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-vf-custom-select [values]="bankerLov" [(ngModel)]="thirdPartyObjInfo['favouringBankOfDraw']" formControlName="favouringBankOfDraw" [isRequired]="'Favouring Bank of Drawee is required'" [isDirty]="isDirty">
                </app-vf-custom-select>            -->
                <ng-autocomplete class="custom-select-box" [data]="thirdPartyfavBODListData"
                  [(ngModel)]="thirdPartyObjInfo['favouringBankOfDraw']" [searchKeyword]="thirdPartyFavkeyword"
                  (selected)='selectBankNameEvent($event,17)' (inputChanged)='onBankNameSearch($event,17)'
                  [itemTemplate]="favTPBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favTPBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <!-- <app-custom-input id="tpFavBankBranch" [(ngModel)]="thirdPartyObjInfo['favouringBankBranch']" [isRequired]="'Favouring Bank Branch is required'" formControlName="favouringBankBranch" [className]="'form-control mandatory'" [placeholder]="'Favouring Bank Branch'"
                  [isDirty]="isDirty" [type]="'alpha'">
                </app-custom-input>                 -->
                <select class="form-control" [(ngModel)]="thirdPartyObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankTPFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="thirdPartyDetailsForm.controls.favouringBankBranch.invalid && (thirdPartyDetailsForm.controls.favouringBankBranch.dirty || thirdPartyDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="form-group" *ngIf="showTPCASADetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disburseLoanNumber}}
            <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="tpLoanNumber" [(ngModel)]="thirdPartyObjInfo['loanNumber']" [minLength]="labels?.validationData?.loanNumber?.minLength" [maxLength]="labels?.validationData?.loanNumber?.maxLength" [isRequired]="'Loan Number is required'" formControlName="loanNumber" [className]="'form-control mandatory'" [placeholder]="'loan Number'"
                 [isDirty]="isDirty" [type]="'number'">
              </app-custom-input>
            </div>
          </div> -->

          <div class="form-group" *ngIf="showTPDDDetails || showTPBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="tpAddLine1" [(ngModel)]="thirdPartyObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showTPDDDetails || showTPBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="tpAddLine2" [(ngModel)]="thirdPartyObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showTPDDDetails || showTPBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="tpAddLine3" [(ngModel)]="thirdPartyObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3"> KYC ID Type
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="KYCIdentityLOV" [isRequired]="'KYC ID Type is required'"
                [(ngModel)]="thirdPartyObjInfo['kycIDType']" formControlName="kycIDType" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
            <p class="upload-icon" *ngIf="thirdPartyObjInfo['kycIDType']">
                <span class="uploadsec">
                    <i class="fa fa-upload fa-3 custom-file-label" aria-hidden="true" (click)="showModal = true;uploadDocument()"></i>
                    <!-- uploadDocument(item.value.tranche_id) -->
                </span>
           <span class="clearfix pull-left cursor" formGroupName='TPdocumentJson'>
              <app-upload-modal [showModal]="showModal" (close)="showModal = false" (uploadSuccess)="onUploadSuccess(i,$event)" [docsDetails]="selectedDocDetails"></app-upload-modal>
              <input class="form-control file-input" *ngIf="thirdPartyDetailsForm['controls']['TPdocumentJson']['controls']['dmsDocumentId'].value" formControlName="dmsDocumentId" (click)="downloadDocs($event.target.value)" name="input" type="number"> 
            </span>
                <!-- <i class="fa fa-eye cursor-pointer" aria-hidden="true"  id="remove_Doc" (click)="downloadDocs(dmsDocumentId)"></i> &nbsp; -->
                <i *ngIf="thirdPartyDetailsForm.controls.TPdocumentJson.controls.dmsDocumentId.value" class="fa fa-trash cursor-pointer text-danger btn" aria-hidden="true"  id="remove_Doc" data-toggle="modal" data-target="#kycmyModal"></i>
                <span *ngIf="!thirdPartyDetailsForm.controls.TPdocumentJson.controls.dmsDocumentId.value" class="invalid-feedback kyc-error">KYC document is not uploaded. Please check once.</span>
              </p>
              
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">KYC ID Number
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input [(ngModel)]="thirdPartyObjInfo['kycIDNumber']" id="kycIDNumber"
                [isRequired]="'KYC ID Number is required'" formControlName="kycIDNumber"
                [className]="'form-control mandatory'" [placeholder]="'KYC ID Number'" [isDirty]="isDirty"
                [type]="'alpha-numeric-nospace'">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3"> TVR Status
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="tvrStatusLOV" [isRequired]="'TVR Status is required'"
                [(ngModel)]="thirdPartyObjInfo['tvrStatus']" formControlName="tvrStatus" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges6" [(ngModel)]="thirdPartyObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges6"
                [checked]="thirdPartyObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(thirdPartyObjInfo['deductChargesFlag'],6)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag6" [(ngModel)]="thirdPartyObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag6"
                [checked]="thirdPartyObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(thirdPartyObjInfo['deferredDisbursementFlag'],6)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>

          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type="checkbox" id="thirdPartyTranches" [(ngModel)]="thirdPartyObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="thirdPartyTranches"
                [checked]="thirdPartyObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(thirdPartyObjInfo['trancheDisbursementFlag'],6,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>

          <div class="row" *ngIf="showThirdPartyTrancheTable">
            <form class="p-0" [formGroup]="trancheTPForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheTpArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let trance of trancheTPForm['controls'].trancheTpArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheTpList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheTpList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheTpList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <!-- <input type="text"  class="form-control text-field" [(ngModel)]="trancheTpList[i].disbursement_percentage"
                               name="trancheTpList[i].disbursement_percentage" formControlName="disbursement_percentage" />          -->
                        <app-custom-input [(ngModel)]="trancheTpList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheTpList,'6',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheTpList[i].tranche_disbursement_amount"
                          name="trancheTpList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheTpList[i].trancheDisburseDate"
                            name="trancheTpList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                          <!-- <kendo-datepicker class="form-control mandatory" formControlName="trancheDisburseDate" [(ngModel)]="trancheTpList[i].trancheDisburseDate" [format]="'dd/MM/yyyy'" 
                           placeholder="tranche Date" [activeView]="'decade'"></kendo-datepicker> -->
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,6)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('6')" [disabled]="trancheTPForm.invalid" title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>


        </div>
      </form>

      <!--container 7-->
      <!-- *ngIf="disburseToIBT" -->
      <form class="p-0" [formGroup]="ibtDetailsForm" *ngIf="disburseToIBT">
        <div>
          <h4 class="banner-sub">Internal BT</h4>

          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Favoring Name
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input formControlName="ibtFavoringName" type="text"
                class="form-control" placeholder="Bank Details"  name="ibtFavoringName" />
               
            </div>
          </div>

          <div class="form-group">
            <!-- <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Loan Account Number<sub
                class="star_red_col">*</sub></label> -->
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Loan Account Number</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input [(ngModel)]="internalBTObjInfo['loanAccountNumber']" formControlName="loanAccountNumber"
                [className]="'form-control'" [placeholder]="'loan Account Number'"  [type]="'number'">
              </app-custom-input>
            </div>
          </div>

          <div class="form-group">
                <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Principle Outstanding</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input [(ngModel)]="internalBTObjInfo['principleOutstanding']" formControlName="principleOutstanding"
                [className]="'form-control'" [placeholder]="'Principle OutSatanding'" [isDirty]="isDirty" [type]="'number'">
              </app-custom-input>
            </div>
          </div>

          <!-- <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="" [(ngModel)]="internalBTObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="deduct_Charges"
                [checked]="internalBTObjInfo['deductChargesFlag']">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div> -->


        </div>
      </form>
      <!--container 8-->
      <form class="p-0" [formGroup]="sellerDetailsForm" *ngIf="disburseToSeller">
        <div>
          <h4 class="banner-sub">Seller Details</h4>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input [(ngModel)]="sellerObjInfo['beneficiaryName']" id="sellerBeneficiaryName"
                [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
                [isDirty]="isDirty">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="sellerDisbursementAmount" [(ngModel)]="sellerObjInfo['disbursementAmount']"
                [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,11)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="paymentLov" [(ngModel)]="sellerObjInfo['paymentMethod']"
                [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'seller')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showSellerBankDetails || showSellerCASADetails || showSellerDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <input type={{typeDeclare9}} id="sellerBenAccNo" (keyup)="cnfAccountNumber(sellerDetailsForm,'9',true)" [(ngModel)]="sellerObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(sellerDetailsForm,'9',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="sellerBenAccNo" [(ngModel)]="sellerObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input> -->
            </div>
          </div>
          <div class="form-group" *ngIf="sellercnfAccShow">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="sellerBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                  [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                  [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                  [isDirty]="isDirty">
                </app-custom-input>
                <div *ngIf="sellerDetailsForm.errors" class="invalid-feedback">
                    Account numbers entered mismatch
                  </div>
              </div>
            </div>
          <div *ngIf="showSellerBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="sellerBankListData"
                  [(ngModel)]="sellerObjInfo['beneficiaryBank']" [searchKeyword]="sellerkeyword"
                  (selected)='selectBankNameEvent($event,18)' (inputChanged)='onBankNameSearch($event,18)'
                  [itemTemplate]="sellerNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #sellerNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub></label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <select class="form-control" [(ngModel)]="sellerObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'seller')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankSellerDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="sellerDetailsForm.controls.beneficiaryBranch.invalid && (sellerDetailsForm.controls.beneficiaryBranch.dirty || sellerDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="sellerIFSC" [(ngModel)]="sellerObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),9,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="sellerObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showSellerDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="sellerObjInfo['instrumentType']"
                  [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'seller')"
                  formControlName="instrumentType" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showSellerIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="sellerObjInfo['instrumentNumber']" id="sellerInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showSellerIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="sellerfavBODListData"
                  [(ngModel)]="sellerObjInfo['favouringBankOfDraw']" [searchKeyword]="sellerFavFavkeyword"
                  (selected)='selectBankNameEvent($event,19)' (inputChanged)='onBankNameSearch($event,19)'
                  [itemTemplate]="favSellerBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favSellerBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <select class="form-control" [(ngModel)]="sellerObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankSellerFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="sellerDetailsForm.controls.favouringBankBranch.invalid && (sellerDetailsForm.controls.favouringBankBranch.dirty || sellerDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
    
          <div class="form-group" *ngIf="showSellerDDDetails || showSellerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="sellerAddLine1" [(ngModel)]="sellerObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showSellerDDDetails || showSellerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="sellerAddLine2" [(ngModel)]="sellerObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showSellerDDDetails || showSellerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="sellerAddLine3" [(ngModel)]="sellerObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>
    
    
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges2" [(ngModel)]="sellerObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges2"
                [checked]="sellerObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(sellerObjInfo['deductChargesFlag'],11)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag11" [(ngModel)]="sellerObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag11"
                [checked]="sellerObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(sellerObjInfo['deferredDisbursementFlag'],11)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>
          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type="checkbox" id="sellerInTranches" [(ngModel)]="sellerObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="sellerInTranches"
                [checked]="sellerObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(sellerObjInfo['trancheDisbursementFlag'],11,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>
          <div class="row" *ngIf="showSellerTrancheTable">
            <form class="p-0" [formGroup]="trancheSellerForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheSellerArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let trance of trancheSellerForm['controls'].trancheSellerArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheSellerList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheSellerList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheSellerList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <app-custom-input [(ngModel)]="trancheSellerList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheSellerList,'11',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheSellerList[i].tranche_disbursement_amount"
                          name="trancheSellerList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheSellerList[i].trancheDisburseDate"
                            name="trancheSellerList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,11)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('11')" [disabled]="trancheSellerForm.invalid"
                            title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>
    
        </div>
      </form>
      <!--container 9-->
      <form class="p-0" [formGroup]="buyerDetailsForm" *ngIf="disburseToBuyer">
        <div>
          <h4 class="banner-sub">Buyer Details</h4>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input [(ngModel)]="buyerObjInfo['beneficiaryName']" id="buyerBeneficiaryName"
                [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
                [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
                [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
                [isDirty]="isDirty">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="buyerDisbursementAmount" [(ngModel)]="buyerObjInfo['disbursementAmount']"
                [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
                [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
                [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
                (keyup)="getCumulativeDisbAmnt($event,12)">
              </app-custom-input>
            </div>
          </div>
          <div class="form-group">
            <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-vf-custom-select [values]="paymentLov" [(ngModel)]="buyerObjInfo['paymentMethod']"
                [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
                (change)="setModeOfPayment($event,'buyer')" [isDirty]="isDirty">
              </app-vf-custom-select>
            </div>
          </div>
          <div class="form-group" *ngIf="showBuyerBankDetails || showBuyerCASADetails || showBuyerDDDetails">
            <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
              <sub class="star_red_col">*</sub>
            </label>
            <div class="col-sm-6 col-md-4 col-lg-3">
                <input type={{typeDeclare10}} id="buyerBenAccNo" (keyup)="cnfAccountNumber(buyerDetailsForm,'10',true)" [(ngModel)]="buyerObjInfo['beneficiaryAccountNo']"
                class="form-control" required (change)="cnfAccountNumber(buyerDetailsForm,'10',false)" formControlName="beneficiaryAccountNo">
              <!-- <app-custom-input id="buyerBenAccNo" [(ngModel)]="buyerObjInfo['beneficiaryAccountNo']"
                [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
                [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                [isDirty]="isDirty">
              </app-custom-input> -->
            </div>
          </div>
          <div class="form-group" *ngIf="buyercnfAccShow">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="buyerBencnfAccNo" formControlName="beneficiaryCNFAccountNo"
                  [className]="'form-control mandatory'" [placeholder]="'Account Number'"
                  [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
                  [isDirty]="isDirty">
                </app-custom-input>
                <div *ngIf="buyerDetailsForm.errors" class="invalid-feedback">
                    Account numbers entered mismatch
                  </div>
              </div>
            </div>
          <div *ngIf="showBuyerBankDetails">
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="buyerBankListData"
                  [(ngModel)]="buyerObjInfo['beneficiaryBank']" [searchKeyword]="buyerkeyword"
                  (selected)='selectBankNameEvent($event,20)' (inputChanged)='onBankNameSearch($event,20)'
                  [itemTemplate]="buyerNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #buyerNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
                <sub class="star_red_col">*</sub></label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <select class="form-control" [(ngModel)]="buyerObjInfo['beneficiaryBranch']"
                  formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'buyer')">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankBuyerDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="buyerDetailsForm.controls.beneficiaryBranch.invalid && (buyerDetailsForm.controls.beneficiaryBranch.dirty || buyerDetailsForm.controls.beneficiaryBranch.touched)"
                  class="invalid-feedback-disburse">
                  Beneficiary Branch is required
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input id="buyerIFSC" [(ngModel)]="buyerObjInfo['ifscCode']"
                  [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),10,true)'
                  [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
                  [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group">
              <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input formControlName="mobilePhone" [(ngModel)]="buyerObjInfo['mobilePhone']"
                  [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
                  [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
                  [patternCheck]="labels.validationData?.mobileNumber.pattern">
                </app-custom-input>
              </div>
            </div>
          </div>
          <div *ngIf="showBuyerDDDetails">
            <div class="form-group">
              <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="buyerObjInfo['instrumentType']"
                  [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'buyer')"
                  formControlName="instrumentType" [isDirty]="isDirty">
                </app-vf-custom-select>
              </div>
            </div>
            <div class="form-group" *ngIf="showBuyerIntDetails">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <app-custom-input [(ngModel)]="buyerObjInfo['instrumentNumber']" id="buyerInstrumentNumber"
                  [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
                  [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
                  [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
                </app-custom-input>
              </div>
            </div>
            <div class="form-group" *ngIf="showBuyerIntDetails">
              <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
                  [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
                </kendo-datepicker>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <ng-autocomplete class="custom-select-box" [data]="buyerfavBODListData"
                  [(ngModel)]="buyerObjInfo['favouringBankOfDraw']" [searchKeyword]="buyerFavFavkeyword"
                  (selected)='selectBankNameEvent($event,21)' (inputChanged)='onBankNameSearch($event,21)'
                  [itemTemplate]="favBuyerBankNameTemplate" [notFoundTemplate]="notFoundTemplate"
                  formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
                </ng-autocomplete>
                <ng-template #favBuyerBankNameTemplate let-item>
                  <a [innerHTML]="item"></a>
                </ng-template>
                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
            <div class="form-group">
              <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
                <sub class="star_red_col">*</sub>
              </label>
              <div class="col-sm-6 col-md-4 col-lg-3">
                <select class="form-control" [(ngModel)]="buyerObjInfo['favouringBankBranch']"
                  formControlName="favouringBankBranch">
                  <option value=''>-- select one --</option>
                  <option *ngFor="let item of bankBuyerFavBODDetailsData" [value]="item.externalBankCode">
                    {{item.externalBankBranch}}</option>
                </select>
                <div
                  *ngIf="buyerDetailsForm.controls.favouringBankBranch.invalid && (buyerDetailsForm.controls.favouringBankBranch.dirty || buyerDetailsForm.controls.favouringBankBranch.touched)"
                  class="invalid-feedback-disburse">
                  Favouring Bank Branch is required
                </div>
              </div>
            </div>
          </div>
    
          <div class="form-group" *ngIf="showBuyerDDDetails || showBuyerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="buyerAddLine1" [(ngModel)]="buyerObjInfo['beneficiaryAddress1']"
                formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showBuyerDDDetails || showBuyerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="buyerAddLine2" [(ngModel)]="buyerObjInfo['beneficiaryAddress2']"
                formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
            </div>
          </div>
          <div class="form-group" *ngIf="showBuyerDDDetails || showBuyerBankDetails">
            <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <app-custom-input id="buyerAddLine3" [(ngModel)]="buyerObjInfo['beneficiaryAddress3']"
                formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
                name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
            </div>
          </div>
    
    
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="toDeductCharges2" [(ngModel)]="buyerObjInfo['deductChargesFlag']"
                formControlName="deductChargesFlag" class="toDeductCharges2"
                [checked]="buyerObjInfo['deductChargesFlag']"
                (change)="selectCheckBox(buyerObjInfo['deductChargesFlag'],12)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-4">
              <input type="checkbox" id="deferredDisbursementFlag12" [(ngModel)]="buyerObjInfo['deferredDisbursementFlag']"
                formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag12"
                [checked]="buyerObjInfo['deferredDisbursementFlag']"
                (change)="selectDeferredCheckBox(buyerObjInfo['deferredDisbursementFlag'],12)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
            </div>
          </div>
          <div class="form-group" *ngIf="vehicleProductCatCode">
            <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
            <div class="col-sm-6 col-md-4 col-lg-3">
              <input type="checkbox" id="buyerInTranches" [(ngModel)]="buyerObjInfo['trancheDisbursementFlag']"
                formControlName="trancheDisbursementFlag" class="buyerInTranches"
                [checked]="buyerObjInfo['trancheDisbursementFlag']"
                (change)="selectTranche(buyerObjInfo['trancheDisbursementFlag'],12,false)">
              <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
            </div>
          </div>
          <div class="row" *ngIf="showBuyerTrancheTable">
            <form class="p-0" [formGroup]="trancheBuyerForm">
              <div class="disbursement-table-section">
                <table formArrayName="trancheBuyerArray" class="table disbursement-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>{{labels?.disbursementType}}</th>
                      <th>{{labels?.disbursementPercent}}</th>
                      <th>{{labels?.disbursementAmount}}</th>
                      <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                      <th *ngIf="!isLoan360">{{labels?.action}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let trance of trancheBuyerForm['controls'].trancheBuyerArray['controls']; let i=index"
                      [formGroupName]="i">
                      <td width="8%">
                        <div>
                          Tranche {{i+1}}
                        </div>
                      </td>
                      <td width="15%">
                        <div class="viewable-field">
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheBuyerList[i].disbursement_id"
                            formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <app-custom-input [hidden]="true" [(ngModel)]="trancheBuyerList[i].tranche_disbursement_id"
                            formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                          </app-custom-input>
                          <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                            <mat-select [(ngModel)]="trancheBuyerList[i].tranche_disbursement_type"
                              formControlName="tranche_disbursement_type">
                              <mat-option value=""> Select </mat-option>
                              <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                      </td>
                      <td width="15%">
                        <app-custom-input [(ngModel)]="trancheBuyerList[i].disbursement_percentage"
                          [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                          [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheBuyerList,'12',i)">
                        </app-custom-input>
                      </td>
                      <td width="15%">
                        <input type="text" class="form-control text-field"
                          [(ngModel)]="trancheBuyerList[i].tranche_disbursement_amount"
                          name="trancheBuyerList[i].tranche_disbursement_amount"
                          formControlName="tranche_disbursement_amount" [readOnly]="true" />
                      </td>
                      <td width="18%" [hidden]='true'>
                        <div *ngIf="i==0">
                          <input type="text" class="form-control text-field"
                            [(ngModel)]="trancheBuyerList[i].trancheDisburseDate"
                            name="trancheBuyerList[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                            [readOnly]='true' />
                        </div>
                      </td>
                      <td class="text-center" width="10%" *ngIf="!isLoan360">
                        <div>
                          <button class="delete-btn mr-8" (click)="deleteRow(i,12)" title="delete">
                            <img src="assets/images/delete-icon.png" />
                          </button>
                          <button class="plus-btn" (click)="addRow('12')" [disabled]="trancheBuyerForm.invalid"
                            title="add">
                            <img src="assets/images/plus-icon.png" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </form>
          </div>
    
        </div>
      </form>
      <!--container 10-->
<form class="p-0" [formGroup]="additionalTab1Form" *ngIf="disburseToAdditionalTab1">
  <div>
    <h4 class="banner-sub">Additional Tab 1</h4>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input [(ngModel)]="additionalTab1Info['beneficiaryName']" id="additionalTab1BeneficiaryName"
          [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
          [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
          [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab1DisbursementAmount" [(ngModel)]="additionalTab1Info['disbursementAmount']"
          [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
          [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
          [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
          (keyup)="getCumulativeDisbAmnt($event,13)">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-vf-custom-select [values]="paymentLov" [(ngModel)]="additionalTab1Info['paymentMethod']"
          [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
          (change)="setModeOfPayment($event,'additionalTab1')" [isDirty]="isDirty">
        </app-vf-custom-select>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab1BankDetails || showAdditionalTab1CASADetails || showAdditionalTab1DDDetails">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
          <input type={{typeDeclare11}} id="additionalTab1BenAccNo" (keyup)="cnfAccountNumber(additionalTab1Form,'11',true)" [(ngModel)]="additionalTab1Info['beneficiaryAccountNo']"
          class="form-control" required (change)="cnfAccountNumber(additionalTab1Form,'11',false)" formControlName="beneficiaryAccountNo">
        <!-- <app-custom-input id="additionalTab1BenAccNo" [(ngModel)]="additionalTab1Info['beneficiaryAccountNo']"
          [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
          [className]="'form-control mandatory'" [placeholder]="'Account Number'"
          [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
          [isDirty]="isDirty">
        </app-custom-input> -->
      </div>
    </div>
    <div class="form-group" *ngIf="add1cnfAccShow">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="add1BencnfAccNo" formControlName="beneficiaryCNFAccountNo"
            [className]="'form-control mandatory'" [placeholder]="'Account Number'"
            [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
            [isDirty]="isDirty">
          </app-custom-input>
          <div *ngIf="additionalTab1Form.errors" class="invalid-feedback">
              Account numbers entered mismatch
            </div>
        </div>
      </div>
    <div *ngIf="showAdditionalTab1BankDetails">
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab1BankListData"
            [(ngModel)]="additionalTab1Info['beneficiaryBank']" [searchKeyword]="additionalTab1keyword"
            (selected)='selectBankNameEvent($event,22)' (inputChanged)='onBankNameSearch($event,22)'
            [itemTemplate]="additionalTab1NameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #additionalTab1NameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
          <sub class="star_red_col">*</sub></label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab1Info['beneficiaryBranch']"
            formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'additionalTab1')">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab1DetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab1Form.controls.beneficiaryBranch.invalid && (additionalTab1Form.controls.beneficiaryBranch.dirty || additionalTab1Form.controls.beneficiaryBranch.touched)"
            class="invalid-feedback-disburse">
            Beneficiary Branch is required
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="additionalTab1IFSC" [(ngModel)]="additionalTab1Info['ifscCode']"
            [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),11,true)'
            [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
            [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group">
        <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input formControlName="mobilePhone" [(ngModel)]="additionalTab1Info['mobilePhone']"
            [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
            [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
            [patternCheck]="labels.validationData?.mobileNumber.pattern">
          </app-custom-input>
        </div>
      </div>
    </div>
    <div *ngIf="showAdditionalTab1DDDetails">
      <div class="form-group">
        <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="additionalTab1Info['instrumentType']"
            [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'additionalTab1')"
            formControlName="instrumentType" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab1IntDetails">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input [(ngModel)]="additionalTab1Info['instrumentNumber']" id="additionalTab1InstrumentNumber"
            [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
            [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
            [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab1IntDetails">
        <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
            [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
          </kendo-datepicker>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab1favBODListData"
            [(ngModel)]="additionalTab1Info['favouringBankOfDraw']" [searchKeyword]="additionalTab1FavFavkeyword"
            (selected)='selectBankNameEvent($event,23)' (inputChanged)='onBankNameSearch($event,23)'
            [itemTemplate]="favAdditionalTab1BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #favAdditionalTab1BankNameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab1Info['favouringBankBranch']"
            formControlName="favouringBankBranch">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab1FavBODDetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab1Form.controls.favouringBankBranch.invalid && (additionalTab1Form.controls.favouringBankBranch.dirty || additionalTab1Form.controls.favouringBankBranch.touched)"
            class="invalid-feedback-disburse">
            Favouring Bank Branch is required
          </div>
        </div>
      </div>
    </div>

    <div class="form-group" *ngIf="showAdditionalTab1DDDetails || showAdditionalTab1BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab1AddLine1" [(ngModel)]="additionalTab1Info['beneficiaryAddress1']"
          formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab1DDDetails || showAdditionalTab1BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab1AddLine2" [(ngModel)]="additionalTab1Info['beneficiaryAddress2']"
          formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab1DDDetails || showAdditionalTab1BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab1AddLine3" [(ngModel)]="additionalTab1Info['beneficiaryAddress3']"
          formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
      </div>
    </div>


    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="toDeductCharges2" [(ngModel)]="additionalTab1Info['deductChargesFlag']"
          formControlName="deductChargesFlag" class="toDeductCharges2"
          [checked]="additionalTab1Info['deductChargesFlag']"
          (change)="selectCheckBox(additionalTab1Info['deductChargesFlag'],13)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="deferredDisbursementFlag13" [(ngModel)]="additionalTab1Info['deferredDisbursementFlag']"
          formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag13"
          [checked]="additionalTab1Info['deferredDisbursementFlag']"
          (change)="selectDeferredCheckBox(additionalTab1Info['deferredDisbursementFlag'],13)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
      </div>
    </div>
    <div class="form-group" *ngIf="vehicleProductCatCode">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <input type="checkbox" id="additionalTab1InTranches" [(ngModel)]="additionalTab1Info['trancheDisbursementFlag']"
          formControlName="trancheDisbursementFlag" class="additionalTab1InTranches"
          [checked]="additionalTab1Info['trancheDisbursementFlag']"
          (change)="selectTranche(additionalTab1Info['trancheDisbursementFlag'],13,false)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
      </div>
    </div>
    <div class="row" *ngIf="showAdditionalTab1TrancheTable">
      <form class="p-0" [formGroup]="trancheAdditionalTab1Form">
        <div class="disbursement-table-section">
          <table formArrayName="trancheAdditionalTab1Array" class="table disbursement-table">
            <thead>
              <tr>
                <th>#</th>
                <th>{{labels?.disbursementType}}</th>
                <th>{{labels?.disbursementPercent}}</th>
                <th>{{labels?.disbursementAmount}}</th>
                <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                <th *ngIf="!isLoan360">{{labels?.action}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let trance of trancheAdditionalTab1Form['controls'].trancheAdditionalTab1Array['controls']; let i=index"
                [formGroupName]="i">
                <td width="8%">
                  <div>
                    Tranche {{i+1}}
                  </div>
                </td>
                <td width="15%">
                  <div class="viewable-field">
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab1List[i].disbursement_id"
                      formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab1List[i].tranche_disbursement_id"
                      formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                      <mat-select [(ngModel)]="trancheAdditionalTab1List[i].tranche_disbursement_type"
                        formControlName="tranche_disbursement_type">
                        <mat-option value=""> Select </mat-option>
                        <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td width="15%">
                  <app-custom-input [(ngModel)]="trancheAdditionalTab1List[i].disbursement_percentage"
                    [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                    [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheAdditionalTab1List,'13',i)">
                  </app-custom-input>
                </td>
                <td width="15%">
                  <input type="text" class="form-control text-field"
                    [(ngModel)]="trancheAdditionalTab1List[i].tranche_disbursement_amount"
                    name="trancheAdditionalTab1List[i].tranche_disbursement_amount"
                    formControlName="tranche_disbursement_amount" [readOnly]="true" />
                </td>
                <td width="18%" [hidden]='true'>
                  <div *ngIf="i==0">
                    <input type="text" class="form-control text-field"
                      [(ngModel)]="trancheAdditionalTab1List[i].trancheDisburseDate"
                      name="trancheAdditionalTab1List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                      [readOnly]='true' />
                  </div>
                </td>
                <td class="text-center" width="10%" *ngIf="!isLoan360">
                  <div>
                    <button class="delete-btn mr-8" (click)="deleteRow(i,13)" title="delete">
                      <img src="assets/images/delete-icon.png" />
                    </button>
                    <button class="plus-btn" (click)="addRow('13')" [disabled]="trancheAdditionalTab1Form.invalid"
                      title="add">
                      <img src="assets/images/plus-icon.png" />
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>

  </div>
</form>
<!--container 11-->
<form class="p-0" [formGroup]="additionalTab2Form" *ngIf="disburseToAdditionalTab2">
  <div>
    <h4 class="banner-sub">Additional Tab 1</h4>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input [(ngModel)]="additionalTab2Info['beneficiaryName']" id="additionalTab2BeneficiaryName"
          [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
          [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
          [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab2DisbursementAmount" [(ngModel)]="additionalTab2Info['disbursementAmount']"
          [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
          [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
          [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
          (keyup)="getCumulativeDisbAmnt($event,13)">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-vf-custom-select [values]="paymentLov" [(ngModel)]="additionalTab2Info['paymentMethod']"
          [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
          (change)="setModeOfPayment($event,'additionalTab2')" [isDirty]="isDirty">
        </app-vf-custom-select>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab2BankDetails || showAdditionalTab2CASADetails || showAdditionalTab2DDDetails">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
          <input type={{typeDeclare12}} id="additionalTab2BenAccNo" (keyup)="cnfAccountNumber(additionalTab2Form,'12',true)" [(ngModel)]="additionalTab2Info['beneficiaryAccountNo']"
          class="form-control" required (change)="cnfAccountNumber(additionalTab2Form,'12',false)" formControlName="beneficiaryAccountNo">
        <!-- <app-custom-input id="additionalTab2BenAccNo" [(ngModel)]="additionalTab2Info['beneficiaryAccountNo']"
          [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
          [className]="'form-control mandatory'" [placeholder]="'Account Number'"
          [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
          [isDirty]="isDirty">
        </app-custom-input> -->
      </div>
    </div>
    <div class="form-group" *ngIf="add2cnfAccShow">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="add2BencnfAccNo" formControlName="beneficiaryCNFAccountNo"
            [className]="'form-control mandatory'" [placeholder]="'Account Number'"
            [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
            [isDirty]="isDirty">
          </app-custom-input>
          <div *ngIf="additionalTab2Form.errors" class="invalid-feedback">
              Account numbers entered mismatch
            </div>
        </div>
      </div>
    <div *ngIf="showAdditionalTab2BankDetails">
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab2BankListData"
            [(ngModel)]="additionalTab2Info['beneficiaryBank']" [searchKeyword]="additionalTab2keyword"
            (selected)='selectBankNameEvent($event,24)' (inputChanged)='onBankNameSearch($event,24)'
            [itemTemplate]="additionalTab2NameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #additionalTab2NameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
          <sub class="star_red_col">*</sub></label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab2Info['beneficiaryBranch']"
            formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'additionalTab2')">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab2DetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab2Form.controls.beneficiaryBranch.invalid && (additionalTab2Form.controls.beneficiaryBranch.dirty || additionalTab2Form.controls.beneficiaryBranch.touched)"
            class="invalid-feedback-disburse">
            Beneficiary Branch is required
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="additionalTab2IFSC" [(ngModel)]="additionalTab2Info['ifscCode']"
            [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),12,true)'
            [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
            [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group">
        <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input formControlName="mobilePhone" [(ngModel)]="additionalTab2Info['mobilePhone']"
            [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
            [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
            [patternCheck]="labels.validationData?.mobileNumber.pattern">
          </app-custom-input>
        </div>
      </div>
    </div>
    <div *ngIf="showAdditionalTab2DDDetails">
      <div class="form-group">
        <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="additionalTab2Info['instrumentType']"
            [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'additionalTab2')"
            formControlName="instrumentType" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab2IntDetails">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input [(ngModel)]="additionalTab2Info['instrumentNumber']" id="additionalTab2InstrumentNumber"
            [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
            [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
            [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab2IntDetails">
        <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
            [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
          </kendo-datepicker>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab2favBODListData"
            [(ngModel)]="additionalTab2Info['favouringBankOfDraw']" [searchKeyword]="additionalTab2FavFavkeyword"
            (selected)='selectBankNameEvent($event,25)' (inputChanged)='onBankNameSearch($event,25)'
            [itemTemplate]="favAdditionalTab2BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #favAdditionalTab2BankNameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab2Info['favouringBankBranch']"
            formControlName="favouringBankBranch">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab2FavBODDetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab2Form.controls.favouringBankBranch.invalid && (additionalTab2Form.controls.favouringBankBranch.dirty || additionalTab2Form.controls.favouringBankBranch.touched)"
            class="invalid-feedback-disburse">
            Favouring Bank Branch is required
          </div>
        </div>
      </div>
    </div>

    <div class="form-group" *ngIf="showAdditionalTab2DDDetails || showAdditionalTab2BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab2AddLine1" [(ngModel)]="additionalTab2Info['beneficiaryAddress1']"
          formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab2DDDetails || showAdditionalTab2BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab2AddLine2" [(ngModel)]="additionalTab2Info['beneficiaryAddress2']"
          formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab2DDDetails || showAdditionalTab2BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab2AddLine3" [(ngModel)]="additionalTab2Info['beneficiaryAddress3']"
          formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
      </div>
    </div>


    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="toDeductCharges2" [(ngModel)]="additionalTab2Info['deductChargesFlag']"
          formControlName="deductChargesFlag" class="toDeductCharges2"
          [checked]="additionalTab2Info['deductChargesFlag']"
          (change)="selectCheckBox(additionalTab2Info['deductChargesFlag'],14)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="deferredDisbursementFlag14" [(ngModel)]="additionalTab2Info['deferredDisbursementFlag']"
          formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag14"
          [checked]="additionalTab2Info['deferredDisbursementFlag']"
          (change)="selectDeferredCheckBox(additionalTab2Info['deferredDisbursementFlag'],14)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
      </div>
    </div>
    <div class="form-group" *ngIf="vehicleProductCatCode">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <input type="checkbox" id="additionalTab2InTranches" [(ngModel)]="additionalTab2Info['trancheDisbursementFlag']"
          formControlName="trancheDisbursementFlag" class="additionalTab2InTranches"
          [checked]="additionalTab2Info['trancheDisbursementFlag']"
          (change)="selectTranche(additionalTab2Info['trancheDisbursementFlag'],14,false)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
      </div>
    </div>
    <div class="row" *ngIf="showAdditionalTab2TrancheTable">
      <form class="p-0" [formGroup]="trancheAdditionalTab2Form">
        <div class="disbursement-table-section">
          <table formArrayName="trancheAdditionalTab2Array" class="table disbursement-table">
            <thead>
              <tr>
                <th>#</th>
                <th>{{labels?.disbursementType}}</th>
                <th>{{labels?.disbursementPercent}}</th>
                <th>{{labels?.disbursementAmount}}</th>
                <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                <th *ngIf="!isLoan360">{{labels?.action}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let trance of trancheAdditionalTab2Form['controls'].trancheAdditionalTab2Array['controls']; let i=index"
                [formGroupName]="i">
                <td width="8%">
                  <div>
                    Tranche {{i+1}}
                  </div>
                </td>
                <td width="15%">
                  <div class="viewable-field">
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab2List[i].disbursement_id"
                      formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab2List[i].tranche_disbursement_id"
                      formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                      <mat-select [(ngModel)]="trancheAdditionalTab2List[i].tranche_disbursement_type"
                        formControlName="tranche_disbursement_type">
                        <mat-option value=""> Select </mat-option>
                        <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td width="15%">
                  <app-custom-input [(ngModel)]="trancheAdditionalTab2List[i].disbursement_percentage"
                    [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                    [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheAdditionalTab2List,'14',i)">
                  </app-custom-input>
                </td>
                <td width="15%">
                  <input type="text" class="form-control text-field"
                    [(ngModel)]="trancheAdditionalTab2List[i].tranche_disbursement_amount"
                    name="trancheAdditionalTab2List[i].tranche_disbursement_amount"
                    formControlName="tranche_disbursement_amount" [readOnly]="true" />
                </td>
                <td width="18%" [hidden]='true'>
                  <div *ngIf="i==0">
                    <input type="text" class="form-control text-field"
                      [(ngModel)]="trancheAdditionalTab2List[i].trancheDisburseDate"
                      name="trancheAdditionalTab2List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                      [readOnly]='true' />
                  </div>
                </td>
                <td class="text-center" width="10%" *ngIf="!isLoan360">
                  <div>
                    <button class="delete-btn mr-8" (click)="deleteRow(i,14)" title="delete">
                      <img src="assets/images/delete-icon.png" />
                    </button>
                    <button class="plus-btn" (click)="addRow('14')" [disabled]="trancheAdditionalTab2Form.invalid"
                      title="add">
                      <img src="assets/images/plus-icon.png" />
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>

  </div>
</form>
<!--container 12-->
<form class="p-0" [formGroup]="additionalTab3Form" *ngIf="disburseToAdditionalTab3">
  <div>
    <h4 class="banner-sub">Additional Tab 1</h4>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input [(ngModel)]="additionalTab3Info['beneficiaryName']" id="additionalTab3BeneficiaryName"
          [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
          [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
          [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab3DisbursementAmount" [(ngModel)]="additionalTab3Info['disbursementAmount']"
          [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
          [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
          [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
          (keyup)="getCumulativeDisbAmnt($event,13)">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-vf-custom-select [values]="paymentLov" [(ngModel)]="additionalTab3Info['paymentMethod']"
          [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
          (change)="setModeOfPayment($event,'additionalTab3')" [isDirty]="isDirty">
        </app-vf-custom-select>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab3BankDetails || showAdditionalTab3CASADetails || showAdditionalTab3DDDetails">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
          <input type={{typeDeclare13}} id="additionalTab3BenAccNo" (keyup)="cnfAccountNumber(additionalTab3Form,'13',true)" [(ngModel)]="additionalTab3Info['beneficiaryAccountNo']"
          class="form-control" required (change)="cnfAccountNumber(additionalTab3Form,'13',false)" formControlName="beneficiaryAccountNo">
        <!-- <app-custom-input id="additionalTab3BenAccNo" [(ngModel)]="additionalTab3Info['beneficiaryAccountNo']"
          [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
          [className]="'form-control mandatory'" [placeholder]="'Account Number'"
          [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
          [isDirty]="isDirty">
        </app-custom-input> -->
      </div>
    </div>
    <div class="form-group" *ngIf="add3cnfAccShow">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="add3BencnfAccNo" formControlName="beneficiaryCNFAccountNo"
            [className]="'form-control mandatory'" [placeholder]="'Account Number'"
            [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
            [isDirty]="isDirty">
          </app-custom-input>
          <div *ngIf="additionalTab13Form.errors" class="invalid-feedback">
              Account numbers entered mismatch
            </div>
        </div>
      </div>
    <div *ngIf="showAdditionalTab3BankDetails">
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab3BankListData"
            [(ngModel)]="additionalTab3Info['beneficiaryBank']" [searchKeyword]="additionalTab3keyword"
            (selected)='selectBankNameEvent($event,26)' (inputChanged)='onBankNameSearch($event,26)'
            [itemTemplate]="additionalTab3NameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #additionalTab3NameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
          <sub class="star_red_col">*</sub></label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab3Info['beneficiaryBranch']"
            formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'additionalTab3')">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab3DetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab3Form.controls.beneficiaryBranch.invalid && (additionalTab3Form.controls.beneficiaryBranch.dirty || additionalTab3Form.controls.beneficiaryBranch.touched)"
            class="invalid-feedback-disburse">
            Beneficiary Branch is required
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="additionalTab3IFSC" [(ngModel)]="additionalTab3Info['ifscCode']"
            [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),13,true)'
            [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
            [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group">
        <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input formControlName="mobilePhone" [(ngModel)]="additionalTab3Info['mobilePhone']"
            [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
            [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
            [patternCheck]="labels.validationData?.mobileNumber.pattern">
          </app-custom-input>
        </div>
      </div>
    </div>
    <div *ngIf="showAdditionalTab3DDDetails">
      <div class="form-group">
        <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="additionalTab3Info['instrumentType']"
            [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'additionalTab3')"
            formControlName="instrumentType" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab3IntDetails">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input [(ngModel)]="additionalTab3Info['instrumentNumber']" id="additionalTab3InstrumentNumber"
            [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
            [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
            [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab3IntDetails">
        <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
            [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
          </kendo-datepicker>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab3favBODListData"
            [(ngModel)]="additionalTab3Info['favouringBankOfDraw']" [searchKeyword]="additionalTab3FavFavkeyword"
            (selected)='selectBankNameEvent($event,27)' (inputChanged)='onBankNameSearch($event,27)'
            [itemTemplate]="favAdditionalTab3BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #favAdditionalTab3BankNameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab3Info['favouringBankBranch']"
            formControlName="favouringBankBranch">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab3FavBODDetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab3Form.controls.favouringBankBranch.invalid && (additionalTab3Form.controls.favouringBankBranch.dirty || additionalTab3Form.controls.favouringBankBranch.touched)"
            class="invalid-feedback-disburse">
            Favouring Bank Branch is required
          </div>
        </div>
      </div>
    </div>

    <div class="form-group" *ngIf="showAdditionalTab3DDDetails || showAdditionalTab3BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab3AddLine1" [(ngModel)]="additionalTab3Info['beneficiaryAddress1']"
          formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab3DDDetails || showAdditionalTab3BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab3AddLine2" [(ngModel)]="additionalTab3Info['beneficiaryAddress2']"
          formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab3DDDetails || showAdditionalTab3BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab3AddLine3" [(ngModel)]="additionalTab3Info['beneficiaryAddress3']"
          formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
      </div>
    </div>


    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="toDeductCharges2" [(ngModel)]="additionalTab3Info['deductChargesFlag']"
          formControlName="deductChargesFlag" class="toDeductCharges2"
          [checked]="additionalTab3Info['deductChargesFlag']"
          (change)="selectCheckBox(additionalTab3Info['deductChargesFlag'],15)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="deferredDisbursementFlag15" [(ngModel)]="additionalTab3Info['deferredDisbursementFlag']"
          formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag15"
          [checked]="additionalTab3Info['deferredDisbursementFlag']"
          (change)="selectDeferredCheckBox(additionalTab3Info['deferredDisbursementFlag'],15)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
      </div>
    </div>
    <div class="form-group" *ngIf="vehicleProductCatCode">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <input type="checkbox" id="additionalTab3InTranches" [(ngModel)]="additionalTab3Info['trancheDisbursementFlag']"
          formControlName="trancheDisbursementFlag" class="additionalTab3InTranches"
          [checked]="additionalTab3Info['trancheDisbursementFlag']"
          (change)="selectTranche(additionalTab3Info['trancheDisbursementFlag'],15,false)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
      </div>
    </div>
    <div class="row" *ngIf="showAdditionalTab3TrancheTable">
      <form class="p-0" [formGroup]="trancheAdditionalTab3Form">
        <div class="disbursement-table-section">
          <table formArrayName="trancheAdditionalTab3Array" class="table disbursement-table">
            <thead>
              <tr>
                <th>#</th>
                <th>{{labels?.disbursementType}}</th>
                <th>{{labels?.disbursementPercent}}</th>
                <th>{{labels?.disbursementAmount}}</th>
                <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                <th *ngIf="!isLoan360">{{labels?.action}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let trance of trancheAdditionalTab3Form['controls'].trancheAdditionalTab3Array['controls']; let i=index"
                [formGroupName]="i">
                <td width="8%">
                  <div>
                    Tranche {{i+1}}
                  </div>
                </td>
                <td width="15%">
                  <div class="viewable-field">
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab3List[i].disbursement_id"
                      formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab3List[i].tranche_disbursement_id"
                      formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                      <mat-select [(ngModel)]="trancheAdditionalTab3List[i].tranche_disbursement_type"
                        formControlName="tranche_disbursement_type">
                        <mat-option value=""> Select </mat-option>
                        <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td width="15%">
                  <app-custom-input [(ngModel)]="trancheAdditionalTab3List[i].disbursement_percentage"
                    [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                    [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheAdditionalTab3List,'15',i)">
                  </app-custom-input>
                </td>
                <td width="15%">
                  <input type="text" class="form-control text-field"
                    [(ngModel)]="trancheAdditionalTab3List[i].tranche_disbursement_amount"
                    name="trancheAdditionalTab3List[i].tranche_disbursement_amount"
                    formControlName="tranche_disbursement_amount" [readOnly]="true" />
                </td>
                <td width="18%" [hidden]='true'>
                  <div *ngIf="i==0">
                    <input type="text" class="form-control text-field"
                      [(ngModel)]="trancheAdditionalTab3List[i].trancheDisburseDate"
                      name="trancheAdditionalTab3List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                      [readOnly]='true' />
                  </div>
                </td>
                <td class="text-center" width="10%" *ngIf="!isLoan360">
                  <div>
                    <button class="delete-btn mr-8" (click)="deleteRow(i,15)" title="delete">
                      <img src="assets/images/delete-icon.png" />
                    </button>
                    <button class="plus-btn" (click)="addRow('15')" [disabled]="trancheAdditionalTab3Form.invalid"
                      title="add">
                      <img src="assets/images/plus-icon.png" />
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>

  </div>
</form>
<!--container 13-->
<form class="p-0" [formGroup]="additionalTab4Form" *ngIf="disburseToAdditionalTab4">
  <div>
    <h4 class="banner-sub">Additional Tab 1</h4>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input [(ngModel)]="additionalTab4Info['beneficiaryName']" id="additionalTab4BeneficiaryName"
          [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
          [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
          [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab4DisbursementAmount" [(ngModel)]="additionalTab4Info['disbursementAmount']"
          [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
          [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
          [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
          (keyup)="getCumulativeDisbAmnt($event,13)">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-vf-custom-select [values]="paymentLov" [(ngModel)]="additionalTab4Info['paymentMethod']"
          [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
          (change)="setModeOfPayment($event,'additionalTab4')" [isDirty]="isDirty">
        </app-vf-custom-select>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab4BankDetails || showAdditionalTab4CASADetails || showAdditionalTab4DDDetails">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
          <input type={{typeDeclare14}} id="additionalTab4BenAccNo" (keyup)="cnfAccountNumber(additionalTab4Form,'14',true)" [(ngModel)]="additionalTab4Info['beneficiaryAccountNo']"
          class="form-control" required (change)="cnfAccountNumber(additionalTab4Form,'14',false)" formControlName="beneficiaryAccountNo">
        <!-- <app-custom-input id="additionalTab4BenAccNo" [(ngModel)]="additionalTab4Info['beneficiaryAccountNo']"
          [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
          [className]="'form-control mandatory'" [placeholder]="'Account Number'"
          [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
          [isDirty]="isDirty">
        </app-custom-input> -->
      </div>
    </div>
    <div class="form-group" *ngIf="add4cnfAccShow">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="add4BencnfAccNo" formControlName="beneficiaryCNFAccountNo"
            [className]="'form-control mandatory'" [placeholder]="'Account Number'"
            [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
            [isDirty]="isDirty">
          </app-custom-input>
          <div *ngIf="additionalTab4Form.errors" class="invalid-feedback">
              Account numbers entered mismatch
            </div>
        </div>
      </div>
    <div *ngIf="showAdditionalTab4BankDetails">
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab4BankListData"
            [(ngModel)]="additionalTab4Info['beneficiaryBank']" [searchKeyword]="additionalTab4keyword"
            (selected)='selectBankNameEvent($event,28)' (inputChanged)='onBankNameSearch($event,28)'
            [itemTemplate]="additionalTab4NameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #additionalTab4NameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
          <sub class="star_red_col">*</sub></label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab4Info['beneficiaryBranch']"
            formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'additionalTab4')">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab4DetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab4Form.controls.beneficiaryBranch.invalid && (additionalTab4Form.controls.beneficiaryBranch.dirty || additionalTab4Form.controls.beneficiaryBranch.touched)"
            class="invalid-feedback-disburse">
            Beneficiary Branch is required
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="additionalTab4IFSC" [(ngModel)]="additionalTab4Info['ifscCode']"
            [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),14,true)'
            [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
            [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group">
        <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input formControlName="mobilePhone" [(ngModel)]="additionalTab4Info['mobilePhone']"
            [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
            [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
            [patternCheck]="labels.validationData?.mobileNumber.pattern">
          </app-custom-input>
        </div>
      </div>
    </div>
    <div *ngIf="showAdditionalTab4DDDetails">
      <div class="form-group">
        <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="additionalTab4Info['instrumentType']"
            [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'additionalTab4')"
            formControlName="instrumentType" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab4IntDetails">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input [(ngModel)]="additionalTab4Info['instrumentNumber']" id="additionalTab4InstrumentNumber"
            [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
            [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
            [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab4IntDetails">
        <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
            [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
          </kendo-datepicker>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab4favBODListData"
            [(ngModel)]="additionalTab4Info['favouringBankOfDraw']" [searchKeyword]="additionalTab4FavFavkeyword"
            (selected)='selectBankNameEvent($event,29)' (inputChanged)='onBankNameSearch($event,29)'
            [itemTemplate]="favAdditionalTab4BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #favAdditionalTab4BankNameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab4Info['favouringBankBranch']"
            formControlName="favouringBankBranch">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab4FavBODDetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab4Form.controls.favouringBankBranch.invalid && (additionalTab4Form.controls.favouringBankBranch.dirty || additionalTab4Form.controls.favouringBankBranch.touched)"
            class="invalid-feedback-disburse">
            Favouring Bank Branch is required
          </div>
        </div>
      </div>
    </div>

    <div class="form-group" *ngIf="showAdditionalTab4DDDetails || showAdditionalTab4BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab4AddLine1" [(ngModel)]="additionalTab4Info['beneficiaryAddress1']"
          formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab4DDDetails || showAdditionalTab4BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab4AddLine2" [(ngModel)]="additionalTab4Info['beneficiaryAddress2']"
          formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab4DDDetails || showAdditionalTab4BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab4AddLine3" [(ngModel)]="additionalTab4Info['beneficiaryAddress3']"
          formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
      </div>
    </div>


    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="toDeductCharges2" [(ngModel)]="additionalTab4Info['deductChargesFlag']"
          formControlName="deductChargesFlag" class="toDeductCharges2"
          [checked]="additionalTab4Info['deductChargesFlag']"
          (change)="selectCheckBox(additionalTab4Info['deductChargesFlag'],16)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="deferredDisbursementFlag16" [(ngModel)]="additionalTab4Info['deferredDisbursementFlag']"
          formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag16"
          [checked]="additionalTab4Info['deferredDisbursementFlag']"
          (change)="selectDeferredCheckBox(additionalTab4Info['deferredDisbursementFlag'],16)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
      </div>
    </div>
    <div class="form-group" *ngIf="vehicleProductCatCode">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <input type="checkbox" id="additionalTab4InTranches" [(ngModel)]="additionalTab4Info['trancheDisbursementFlag']"
          formControlName="trancheDisbursementFlag" class="additionalTab4InTranches"
          [checked]="additionalTab4Info['trancheDisbursementFlag']"
          (change)="selectTranche(additionalTab4Info['trancheDisbursementFlag'],16,false)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
      </div>
    </div>
    <div class="row" *ngIf="showAdditionalTab4TrancheTable">
      <form class="p-0" [formGroup]="trancheAdditionalTab4Form">
        <div class="disbursement-table-section">
          <table formArrayName="trancheAdditionalTab4Array" class="table disbursement-table">
            <thead>
              <tr>
                <th>#</th>
                <th>{{labels?.disbursementType}}</th>
                <th>{{labels?.disbursementPercent}}</th>
                <th>{{labels?.disbursementAmount}}</th>
                <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                <th *ngIf="!isLoan360">{{labels?.action}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let trance of trancheAdditionalTab4Form['controls'].trancheAdditionalTab4Array['controls']; let i=index"
                [formGroupName]="i">
                <td width="8%">
                  <div>
                    Tranche {{i+1}}
                  </div>
                </td>
                <td width="15%">
                  <div class="viewable-field">
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab4List[i].disbursement_id"
                      formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab4List[i].tranche_disbursement_id"
                      formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                      <mat-select [(ngModel)]="trancheAdditionalTab4List[i].tranche_disbursement_type"
                        formControlName="tranche_disbursement_type">
                        <mat-option value=""> Select </mat-option>
                        <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td width="15%">
                  <app-custom-input [(ngModel)]="trancheAdditionalTab4List[i].disbursement_percentage"
                    [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                    [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheAdditionalTab4List,'16',i)">
                  </app-custom-input>
                </td>
                <td width="15%">
                  <input type="text" class="form-control text-field"
                    [(ngModel)]="trancheAdditionalTab4List[i].tranche_disbursement_amount"
                    name="trancheAdditionalTab4List[i].tranche_disbursement_amount"
                    formControlName="tranche_disbursement_amount" [readOnly]="true" />
                </td>
                <td width="18%" [hidden]='true'>
                  <div *ngIf="i==0">
                    <input type="text" class="form-control text-field"
                      [(ngModel)]="trancheAdditionalTab4List[i].trancheDisburseDate"
                      name="trancheAdditionalTab4List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                      [readOnly]='true' />
                  </div>
                </td>
                <td class="text-center" width="10%" *ngIf="!isLoan360">
                  <div>
                    <button class="delete-btn mr-8" (click)="deleteRow(i,16)" title="delete">
                      <img src="assets/images/delete-icon.png" />
                    </button>
                    <button class="plus-btn" (click)="addRow('16')" [disabled]="trancheAdditionalTab4Form.invalid"
                      title="add">
                      <img src="assets/images/plus-icon.png" />
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>

  </div>
</form>
<!--container 14-->
<form class="p-0" [formGroup]="additionalTab5Form" *ngIf="disburseToAdditionalTab5">
  <div>
    <h4 class="banner-sub">Additional Tab 1</h4>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfName}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input [(ngModel)]="additionalTab5Info['beneficiaryName']" id="additionalTab5BeneficiaryName"
          [isRequired]="'Beneficiary Name is required'" formControlName="beneficiaryName"
          [maxLength]="labels?.validationData?.fullName?.maxLength" [type]="'alpha'"
          [className]="'form-control mandatory'" [placeholder]="'Beneficiary Name'" [type]="'text'"
          [isDirty]="isDirty">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.disbursementAmount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab5DisbursementAmount" [(ngModel)]="additionalTab5Info['disbursementAmount']"
          [isRequired]="'Disbursement Amount is required'" formControlName="disbursementAmount"
          [className]="'form-control mandatory'" [placeholder]="'Disbursement Amount'" [maxLength]="amountLength"
          [patternCheck]="regexPattern.amount" [isDirty]="isDirty" [type]="'number'"
          (keyup)="getCumulativeDisbAmnt($event,13)">
        </app-custom-input>
      </div>
    </div>
    <div class="form-group">
      <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.modeOfPayment}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-vf-custom-select [values]="paymentLov" [(ngModel)]="additionalTab5Info['paymentMethod']"
          [isRequired]="'Mode of Payment is required'" formControlName="paymentMethod"
          (change)="setModeOfPayment($event,'additionalTab5')" [isDirty]="isDirty">
        </app-vf-custom-select>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab5BankDetails || showAdditionalTab5CASADetails || showAdditionalTab5DDDetails">
      <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfAccount}}
        <sub class="star_red_col">*</sub>
      </label>
      <div class="col-sm-6 col-md-4 col-lg-3">
          <input type={{typeDeclare15}} id="additionalTab5BenAccNo" (keyup)="cnfAccountNumber(additionalTab5Form,'15',true)" [(ngModel)]="additionalTab5Info['beneficiaryAccountNo']"
          class="form-control" required (change)="cnfAccountNumber(additionalTab5Form,'15',false)" formControlName="beneficiaryAccountNo">
        <!-- <app-custom-input id="additionalTab5BenAccNo" [(ngModel)]="additionalTab5Info['beneficiaryAccountNo']"
          [isRequired]="'Beneficiary Account is required'" formControlName="beneficiaryAccountNo"
          [className]="'form-control mandatory'" [placeholder]="'Account Number'"
          [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
          [isDirty]="isDirty">
        </app-custom-input> -->
      </div>
    </div>
    <div class="form-group" *ngIf="add5cnfAccShow">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">Confirm Account Number
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="add5BencnfAccNo" formControlName="beneficiaryCNFAccountNo"
            [className]="'form-control mandatory'" [placeholder]="'Account Number'"
            [maxLength]="labels?.validationData?.accountNumber?.maxLength" [type]="'alpha-numeric-nospace'"
            [isDirty]="isDirty">
          </app-custom-input>
          <div *ngIf="additionalTab5Form.errors" class="invalid-feedback">
              Account numbers entered mismatch
            </div>
        </div>
      </div>
    <div *ngIf="showAdditionalTab5BankDetails">
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBank}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab5BankListData"
            [(ngModel)]="additionalTab5Info['beneficiaryBank']" [searchKeyword]="additionalTab5keyword"
            (selected)='selectBankNameEvent($event,30)' (inputChanged)='onBankNameSearch($event,30)'
            [itemTemplate]="additionalTab5NameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="beneficiaryBank" [placeHolder]="'Beneficiary Bank'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #additionalTab5NameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.bnfBranch}}
          <sub class="star_red_col">*</sub></label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab5Info['beneficiaryBranch']"
            formControlName="beneficiaryBranch" (change)="setIFSC($event.target.value,'additionalTab5')">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab5DetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab5Form.controls.beneficiaryBranch.invalid && (additionalTab5Form.controls.beneficiaryBranch.dirty || additionalTab5Form.controls.beneficiaryBranch.touched)"
            class="invalid-feedback-disburse">
            Beneficiary Branch is required
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.ifscCode}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input id="additionalTab5IFSC" [(ngModel)]="additionalTab5Info['ifscCode']"
            [isRequired]="'IFSC Code is required'" formControlName="ifscCode" (change)='onIFSCSearch($event.target.value.toUpperCase(),15,true)'
            [className]="'form-control mandatory'" [placeholder]="'IFSC Code'" [maxLength]="ifscLength"
            [isDirty]="isDirty" [type]="'alpha-numeric-nospace'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group">
        <label for="mobile" class="control-label col-sm-5 col-md-4 col-lg-3">{{ labels.mobileNumber }}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input formControlName="mobilePhone" [(ngModel)]="additionalTab5Info['mobilePhone']"
            [className]="'form-control mandatory'" [placeholder]="'Mobile Number'" [maxLength]="mobileLength"
            [isRequired]="'Mobile Number is mandatory'" [isDirty]="isDirty" [type]="'number'"
            [patternCheck]="labels.validationData?.mobileNumber.pattern">
          </app-custom-input>
        </div>
      </div>
    </div>
    <div *ngIf="showAdditionalTab5DDDetails">
      <div class="form-group">
        <label for="business_division" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instType}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-vf-custom-select [values]="instrumentTypeLov" [(ngModel)]="additionalTab5Info['instrumentType']"
            [isRequired]="'Instrument Type is required'" (change)="setIntType($event.target.value,'additionalTab5')"
            formControlName="instrumentType" [isDirty]="isDirty">
          </app-vf-custom-select>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab5IntDetails">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instNumber}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <app-custom-input [(ngModel)]="additionalTab5Info['instrumentNumber']" id="additionalTab5InstrumentNumber"
            [isRequired]="'Instrument Number is required'" formControlName="instrumentNumber"
            [className]="'form-control mandatory'" [placeholder]="'Instrument Number'" [isDirty]="isDirty"
            [maxLength]="labels?.validationData?.instrumentNumber?.maxLength" [type]="'number'">
          </app-custom-input>
        </div>
      </div>
      <div class="form-group" *ngIf="showAdditionalTab5IntDetails">
        <label for="tdd" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.instDate}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <kendo-datepicker class="form-control mandatory" formControlName="instrumentDate"
            [format]="'dd/MM/yyyy'" placeholder="Instrument Date" [min]="todayDateNew" [activeView]="'decade'">
          </kendo-datepicker>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankOfDrawee}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <ng-autocomplete class="custom-select-box" [data]="additionalTab5favBODListData"
            [(ngModel)]="additionalTab5Info['favouringBankOfDraw']" [searchKeyword]="additionalTab5FavFavkeyword"
            (selected)='selectBankNameEvent($event,31)' (inputChanged)='onBankNameSearch($event,31)'
            [itemTemplate]="favAdditionalTab5BankNameTemplate" [notFoundTemplate]="notFoundTemplate"
            formControlName="favouringBankOfDraw" [placeHolder]="'Favouring Bank of Drawee'" [minQueryLength]="3">
          </ng-autocomplete>
          <ng-template #favAdditionalTab5BankNameTemplate let-item>
            <a [innerHTML]="item"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>
      </div>
      <div class="form-group">
        <label for="lead_number" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.favourBankBranch}}
          <sub class="star_red_col">*</sub>
        </label>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <select class="form-control" [(ngModel)]="additionalTab5Info['favouringBankBranch']"
            formControlName="favouringBankBranch">
            <option value=''>-- select one --</option>
            <option *ngFor="let item of bankAdditionalTab5FavBODDetailsData" [value]="item.externalBankCode">
              {{item.externalBankBranch}}</option>
          </select>
          <div
            *ngIf="additionalTab5Form.controls.favouringBankBranch.invalid && (additionalTab5Form.controls.favouringBankBranch.dirty || additionalTab5Form.controls.favouringBankBranch.touched)"
            class="invalid-feedback-disburse">
            Favouring Bank Branch is required
          </div>
        </div>
      </div>
    </div>

    <div class="form-group" *ngIf="showAdditionalTab5DDDetails || showAdditionalTab5BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline1}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab5AddLine1" [(ngModel)]="additionalTab5Info['beneficiaryAddress1']"
          formControlName="beneficiaryAddress1" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 1'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab5DDDetails || showAdditionalTab5BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline2}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab5AddLine2" [(ngModel)]="additionalTab5Info['beneficiaryAddress2']"
          formControlName="beneficiaryAddress2" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 2'"></app-custom-input>
      </div>
    </div>
    <div class="form-group" *ngIf="showAdditionalTab5DDDetails || showAdditionalTab5BankDetails">
      <label for="lead_date" class="control-label col-sm-5 col-md-4 col-lg-3">{{labels?.addressline3}}</label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <app-custom-input id="additionalTab5AddLine3" [(ngModel)]="additionalTab5Info['beneficiaryAddress3']"
          formControlName="beneficiaryAddress3" [maxLength]="labels?.validationData?.address?.maxLength"
          name="Dealer Name" [className]="'form-control'" [placeholder]="'Fill Address 3'"></app-custom-input>
      </div>
    </div>


    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="toDeductCharges2" [(ngModel)]="additionalTab5Info['deductChargesFlag']"
          formControlName="deductChargesFlag" class="toDeductCharges2"
          [checked]="additionalTab5Info['deductChargesFlag']"
          (change)="selectCheckBox(additionalTab5Info['deductChargesFlag'],17)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeductDisbursement}}</span>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-4">
        <input type="checkbox" id="deferredDisbursementFlag17" [(ngModel)]="additionalTab5Info['deferredDisbursementFlag']"
          formControlName="deferredDisbursementFlag" class="deferredDisbursementFlag17"
          [checked]="additionalTab5Info['deferredDisbursementFlag']"
          (change)="selectDeferredCheckBox(additionalTab5Info['deferredDisbursementFlag'],17)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.applyDeferred}}</span>
      </div>
    </div>
    <div class="form-group" *ngIf="vehicleProductCatCode">
      <label class="control-label col-sm-5 col-md-4 col-lg-3 hide-label"></label>
      <div class="col-sm-6 col-md-4 col-lg-3">
        <input type="checkbox" id="additionalTab5InTranches" [(ngModel)]="additionalTab5Info['trancheDisbursementFlag']"
          formControlName="trancheDisbursementFlag" class="additionalTab5InTranches"
          [checked]="additionalTab5Info['trancheDisbursementFlag']"
          (change)="selectTranche(additionalTab5Info['trancheDisbursementFlag'],17,false)">
        <span class="deduct_Charges disburse-checkbox">{{labels?.disburseInTranches}}</span>
      </div>
    </div>
    <div class="row" *ngIf="showAdditionalTab5TrancheTable">
      <form class="p-0" [formGroup]="trancheAdditionalTab5Form">
        <div class="disbursement-table-section">
          <table formArrayName="trancheAdditionalTab5Array" class="table disbursement-table">
            <thead>
              <tr>
                <th>#</th>
                <th>{{labels?.disbursementType}}</th>
                <th>{{labels?.disbursementPercent}}</th>
                <th>{{labels?.disbursementAmount}}</th>
                <th [hidden]='true'>{{labels?.disbursementDate}}</th>
                <th *ngIf="!isLoan360">{{labels?.action}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let trance of trancheAdditionalTab5Form['controls'].trancheAdditionalTab5Array['controls']; let i=index"
                [formGroupName]="i">
                <td width="8%">
                  <div>
                    Tranche {{i+1}}
                  </div>
                </td>
                <td width="15%">
                  <div class="viewable-field">
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab5List[i].disbursement_id"
                      formControlName="disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <app-custom-input [hidden]="true" [(ngModel)]="trancheAdditionalTab5List[i].tranche_disbursement_id"
                      formControlName="tranche_disbursement_id" [className]="'form-control'" [type]="'number'">
                    </app-custom-input>
                    <mat-form-field [ngClass]="onlyViewable? 'readOnlyClass' : ''">
                      <mat-select [(ngModel)]="trancheAdditionalTab5List[i].tranche_disbursement_type"
                        formControlName="tranche_disbursement_type">
                        <mat-option value=""> Select </mat-option>
                        <mat-option *ngFor="let x of trancheDisbLov" [value]="x.key">{{ x.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </td>
                <td width="15%">
                  <app-custom-input [(ngModel)]="trancheAdditionalTab5List[i].disbursement_percentage"
                    [formControl]="trance.controls['disbursement_percentage']" [className]="'form-control'"
                    [isDirty]="isDirty" [type]="'percent'" (keyup)="validatePercentage(trancheAdditionalTab5List,'17',i)">
                  </app-custom-input>
                </td>
                <td width="15%">
                  <input type="text" class="form-control text-field"
                    [(ngModel)]="trancheAdditionalTab5List[i].tranche_disbursement_amount"
                    name="trancheAdditionalTab5List[i].tranche_disbursement_amount"
                    formControlName="tranche_disbursement_amount" [readOnly]="true" />
                </td>
                <td width="18%" [hidden]='true'>
                  <div *ngIf="i==0">
                    <input type="text" class="form-control text-field"
                      [(ngModel)]="trancheAdditionalTab5List[i].trancheDisburseDate"
                      name="trancheAdditionalTab5List[i].trancheDisburseDate" formControlName="trancheDisburseDate"
                      [readOnly]='true' />
                  </div>
                </td>
                <td class="text-center" width="10%" *ngIf="!isLoan360">
                  <div>
                    <button class="delete-btn mr-8" (click)="deleteRow(i,17)" title="delete">
                      <img src="assets/images/delete-icon.png" />
                    </button>
                    <button class="plus-btn" (click)="addRow('17')" [disabled]="trancheAdditionalTab5Form.invalid"
                      title="add">
                      <img src="assets/images/plus-icon.png" />
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>

  </div>
</form>
    </div>
  </form>
  <div class="btn-sec clear-both row" id="clickButton">
    <div class="col-sm-5">
    </div>
    <div class="col-sm-7 text-right">
      <button (click)="onBack()" class="btn btn-primary hvr-sweep-to-left" type="button"
        *ngIf="showSaveButton == true && (navigationFlag==1 || navigationFlag==2)">Back </button>

        <button (click)="getLoanDetailList()" class="btn btn-primary hvr-sweep-to-left" type="button"
        *ngIf="showSaveButton == true && (navigationFlag==3)">Back </button>

      <ng-container *ngIf="!isLoan360">
        <button (click)="saveAndUpdate()" class="btn btn-primary " type="button"
          *ngIf="roleType != 4 && roleType != 5 && (navigationFlag==1 || navigationFlag==3)">Save </button>

        <button data-toggle="modal" data-target="#bookLoanModal" class="btn btn-primary " type="button"
          *ngIf="roleType == '5' && navigationFlag==1">Book Loan </button>
        <button (click)="saveAndUpdate('next')" class="btn btn-primary js-btn-next hvr-sweep-to-right" type="button"
          *ngIf="roleType != 4 && roleType != 5 && roleType !== 7 && (navigationFlag==1 || navigationFlag==2)"> Next </button>
      </ng-container>
      <ng-container *ngIf="!isLoan360">
        <button (click)="onNext()" class="btn btn-primary js-btn-next hvr-sweep-to-right" type="button"
          *ngIf="(roleType == 4 || roleType == 7) && (navigationFlag==1 || navigationFlag==2)"> Next </button>
      </ng-container>
      <ng-container *ngIf="isLoan360">
        <button (click)="onNext()" class="btn btn-primary js-btn-next hvr-sweep-to-right" type="button" *ngIf="(navigationFlag==1 || navigationFlag==2)"> Next </button>
      </ng-container>
    </div>
  </div>
</div>
<div class="modal fade" id="bookLoanModal" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Submit to Loan Creation</h4>
      </div>
      <div class="modal-body">
        <p>Record will be submitted for loan booking. Are you sure?</p>
      </div>
      <!-- <div class="modal-body" *ngIf = "roleType == '5'">
          <p>Are you sure you want to move lead to CPC maker?</p>
      </div> -->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary " (click)="sendLoanCreationWrapper()"
          data-dismiss="modal">Yes</button> &nbsp;
        <button type="button" class="btn btn-primary " data-dismiss="modal">No</button>
      </div>
    </div>

  </div>
</div>
<div class="modal" id="kycmyModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"></h4>
        </div>
        <div class="modal-body">
          Are you Sure Want to Delete?
        </div>
        <div class="modal-footer text-center">
          <button
            type="button"
            class="btn btn-success"
            data-dismiss="modal"
            (click)="deleteDocument(thirdPartyDetailsForm['controls']['TPdocumentJson']['controls']['documentId'].value)"
          >
            Yes
          </button>
          <button
            type="button"
            class="btn btn-danger"
            data-dismiss="modal"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
