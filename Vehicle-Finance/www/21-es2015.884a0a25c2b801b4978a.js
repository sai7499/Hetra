(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{S2Df:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class a{}var o=e("pMnS"),i=e("X8a+"),u=e("ypJA"),s=e("p8Xo"),r=e("A1CT"),c=e("/4Kq"),b=e("Ppt2"),d=e("iInd"),p=e("mrSG"),h=e("bkm/"),g=e("Qmey"),m=e("wd/R"),f=e("Pn9U"),y=e("gRf5"),v=e("AytR"),G=e("g3fb");class D{constructor(l,n,e,t,a){this.loginStoreService=l,this.dashboardService=n,this.route=e,this.camera=t,this.transfer=a,this.searchDiv=!1,this.roles=[],this.activityList=[],this.bodyClickEvent=(l=>{this.openProfile="profileDropDown"===l.target.id})}ngOnInit(){const l=this.loginStoreService.getRolesAndUserDetails();this.userName=l.userDetails.firstName,this.firstLetter=this.userName.slice(0,1),this.branchName=l.userDetails.branchName,this.roles=l.roles,this.activityList=l.activityList,document.querySelector("body").addEventListener("click",this.bodyClickEvent)}getvalue(l){this.dropDown=""!==l,this.searchLead=this.activityList.filter(n=>{if(l=l.toLowerCase(),n.name.toLowerCase().includes(l))return n;this.dropDown=!0})}getRoute(l,n){this.searchText=n,this.routingId=l,this.dropDown=!1}navigateToModule(){g.a.map(l=>{l.routeId===this.routingId&&this.route.navigateByUrl(l.routeUrl)})}ngOnDestroy(){document.querySelector("body").removeEventListener("click",this.bodyClickEvent)}initIdenti5(){var l=this;this.pid="",identi5.getInfo(function(n){console.log("Result&&&&"+n),l.pid=n.model,console.log("base64Data"+l.pid),alert(l.pid),l.prepareKYCRequest(l.pid)},function(l){console.log("Result&&&&"+l),alert("error"+l)})}prepareKYCRequest(l){let n=Math.floor(1e5+9e5*Math.random());console.log(n);let e=m().format("MMDDhhmmss"),t=m().format("MMDD"),a=m().format("hhmmss"),o=l;console.log("pId"+o),console.log("now"+e),console.log("localDate"+t);let i='<KycRequest><TransactionInfo><UID type="U">802172334890</UID><Transm_Date_time>'+e+"</Transm_Date_time><Local_Trans_Time>"+a+"</Local_Trans_Time><Local_date>"+t+"</Local_date><CA_TID>11205764</CA_TID><CA_ID>EQT000000001441</CA_ID><CA_TA>Equitas Bank Chennai TNIN</CA_TA><Stan>"+n+"</Stan></TransactionInfo>"+o+"</KycRequest>";console.log("kycRequest"+i),this.dashboardService.getKycDetails({ekycRequest:i}).subscribe(l=>{console.log("KYC result"+JSON.stringify(l))})}takePicture(){return p.a(this,void 0,void 0,function*(){return this.camera.getPicture({quality:50,destinationType:this.camera.DestinationType.FILE_URI,sourceType:this.camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:this.camera.EncodingType.PNG,targetWidth:100,targetHeight:100,saveToPhotoAlbum:!1})})}openCamera(){this.takePicture().then(l=>{console.log("imageData",l),this.imageURI=l;let n=l.split("/");n=n[n.length-1],this.cameraImage=window.Ionic.WebView.convertFileSrc(this.imageURI).toString().split("cache/")[1],console.log("Camera Image",this.cameraImage),this.fileName="1234-56-"+(new Date).getTime(),console.log("fileName",this.fileName),this.uploadToAppiyoDriveMobile(this.fileName,this.imageURI)})}uploadToAppiyoDriveMobile(l,n){return new Promise((e,t)=>{this.uploadFile(l,n).then(l=>{if(200==l.responseCode){var n=JSON.parse(l.response);e(n)}}).catch(l=>{t(l)})})}uploadFile(l,n){const e=this.transfer.create();console.log("fileTransfer",e);let t={fileKey:"file",fileName:l,chunkedMode:!1,headers:{"X-Requested-With":"XMLHttpRequest","authentication-token":G.a.getToken()?G.a.getToken():""}};return console.log("FileUploadOptions",e),e.upload(n,encodeURI(v.a.host+v.a.appiyoDrive),t,!0)}}var C=t.wb({encapsulation:0,styles:[[".search[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:left;font-size:15px;color:#000;padding:12px 16px;text-decoration:none;display:block;width:540px}.dropdown-content[_ngcontent-%COMP%]{margin-left:10px;border-radius:20px;display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.search[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.search[_ngcontent-%COMP%]:hover   #selectbox[_ngcontent-%COMP%]{background-color:#fff}.option[_ngcontent-%COMP%]{border-radius:50px}.form-control[_ngcontent-%COMP%]{height:44px}.vertical-middle[_ngcontent-%COMP%]{position:absolute;top:23%;left:0;right:0;margin:0 auto}"]],data:{}});function T(l){return t.Sb(0,[(l()(),t.yb(0,0,null,null,10,"header",[["class","navbar navbar-static-top"]],null,null,null,null,null)),(l()(),t.yb(1,0,null,null,9,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),t.yb(2,0,null,null,6,"div",[["class","navbar-header"]],null,null,null,null,null)),(l()(),t.yb(3,0,null,null,5,"button",[["class","navbar-toggle collapsed"],["data-target","#bs-navbar"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(l()(),t.yb(4,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t.Qb(-1,null,["Toggle navigation"])),(l()(),t.yb(6,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(l()(),t.yb(7,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(l()(),t.yb(8,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(l()(),t.yb(9,0,null,null,1,"app-profile",[],null,null,null,i.b,i.a)),t.xb(10,245760,null,0,u.a,[s.a,r.a],null,null),(l()(),t.yb(11,0,null,null,11,"main",[],null,null,null,null,null)),(l()(),t.yb(12,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.yb(13,0,null,null,3,"div",[["class","vertical-middle text-center"]],null,null,null,null,null)),(l()(),t.yb(14,0,null,null,0,"img",[["alt","[Image: Hetra Logo]"],["class","logo"],["src","assets/images/hetra_logo.png"],["title","Hetra"]],null,null,null,null,null)),(l()(),t.yb(15,0,null,null,1,"app-search-bar",[],null,null,null,c.b,c.a)),t.xb(16,114688,null,0,b.a,[d.o,s.a],null,null),(l()(),t.yb(17,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.initIdenti5()&&t),t},null,null)),(l()(),t.Qb(-1,null,[" Identi5"])),(l()(),t.yb(19,0,null,null,1,"div",[["class","base_data"]],null,null,null,null,null)),(l()(),t.Qb(20,null,["",""])),(l()(),t.yb(21,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openCamera()&&t),t},null,null)),(l()(),t.Qb(-1,null,[" Open camera"]))],function(l,n){l(n,10,0),l(n,16,0)},function(l,n){l(n,20,0,n.component.pid)})}function _(l){return t.Sb(0,[(l()(),t.yb(0,0,null,null,1,"app-dashboard",[],null,null,null,T,C)),t.xb(1,245760,null,0,D,[s.a,h.a,d.o,f.a,y.a],null,null)],function(l,n){l(n,1,0)},null)}var I=t.ub("app-dashboard",D,_,{},{},[]),w=e("atuK"),k=e("P3h3"),P=e("SVse"),M=e("s7LF"),x=e("xkgV"),R=e("OoJn"),S=e("prmK"),O=e("Rwcf"),L=e("PrTX"),A=e("2uy1"),N=e("z/SZ"),q=e("ienR");class E{}var U=e("P1eI"),F=e("FpXt"),K=e("Z7Cg");e.d(n,"ActivitySearchModuleNgFactory",function(){return J});var J=t.vb(a,[],function(l){return t.Fb([t.Gb(512,t.l,t.ib,[[8,[o.a,I,w.a,w.c,w.b,w.d,k.a]],[3,t.l],t.B]),t.Gb(4608,P.o,P.n,[t.y,[2,P.F]]),t.Gb(4608,M.E,M.E,[]),t.Gb(4608,M.g,M.g,[]),t.Gb(4608,x.e,x.e,[]),t.Gb(4608,R.e,R.e,[]),t.Gb(4608,R.j,R.j,[]),t.Gb(4608,R.F,R.F,[]),t.Gb(4608,R.P,R.P,[S.b]),t.Gb(4608,R.rb,R.rb,[S.b]),t.Gb(4608,R.qb,R.qb,[S.b]),t.Gb(135680,O.f,O.f,[t.D]),t.Gb(4608,L.g,L.g,[t.g,t.l,t.u,[2,L.d]]),t.Gb(4608,A.a,A.a,[t.D,t.L,t.G]),t.Gb(4608,N.a,N.a,[t.l,t.D,t.u,A.a,t.g]),t.Gb(4608,q.r,q.r,[]),t.Gb(4608,q.t,q.t,[]),t.Gb(4608,q.a,q.a,[]),t.Gb(4608,q.f,q.f,[]),t.Gb(4608,q.c,q.c,[]),t.Gb(4608,q.h,q.h,[]),t.Gb(4608,q.j,q.j,[]),t.Gb(4608,q.s,q.s,[q.t,q.j]),t.Gb(1073742336,P.c,P.c,[]),t.Gb(1073742336,d.s,d.s,[[2,d.x],[2,d.o]]),t.Gb(1073742336,E,E,[]),t.Gb(1073742336,M.D,M.D,[]),t.Gb(1073742336,M.m,M.m,[]),t.Gb(1073742336,q.e,q.e,[]),t.Gb(1073742336,M.z,M.z,[]),t.Gb(1073742336,U.a,U.a,[]),t.Gb(1073742336,x.a,x.a,[]),t.Gb(1073742336,S.a,S.a,[]),t.Gb(1073742336,O.b,O.b,[]),t.Gb(1073742336,R.p,R.p,[]),t.Gb(1073742336,R.b,R.b,[]),t.Gb(1073742336,R.bb,R.bb,[]),t.Gb(1073742336,R.pb,R.pb,[]),t.Gb(1073742336,R.h,R.h,[]),t.Gb(1073742336,O.h,O.h,[]),t.Gb(1073742336,L.f,L.f,[]),t.Gb(1073742336,R.v,R.v,[]),t.Gb(1073742336,F.a,F.a,[]),t.Gb(1073742336,a,a,[]),t.Gb(1024,d.m,function(){return[[{path:"",component:D}]]},[]),t.Gb(256,R.ab,K.a,[])])})}}]);