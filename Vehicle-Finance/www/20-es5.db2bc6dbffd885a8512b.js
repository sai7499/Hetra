(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{S2Df:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=function(){return function(){}}(),a=t("pMnS"),i=t("X8a+"),u=t("ypJA"),r=t("p8Xo"),c=t("A1CT"),s=t("/4Kq"),b=t("Ppt2"),p=t("ZYCi"),d=t("mrSG"),g=t("bkm/"),h=t("Qmey"),f=t("wd/R"),m=t("Pn9U"),v=t("gRf5"),y=t("AytR"),H=t("g3fb"),C=function(){function n(n,l,t,e,o){var a=this;this.loginStoreService=n,this.dashboardService=l,this.route=t,this.camera=e,this.transfer=o,this.searchDiv=!1,this.roles=[],this.activityList=[],this.bodyClickEvent=function(n){a.openProfile="profileDropDown"===n.target.id}}return n.prototype.ngOnInit=function(){var n=this.loginStoreService.getRolesAndUserDetails();this.userName=n.userDetails.firstName,this.firstLetter=this.userName.slice(0,1),this.branchName=n.userDetails.branchName,this.roles=n.roles,this.activityList=n.activityList,document.querySelector("body").addEventListener("click",this.bodyClickEvent)},n.prototype.getvalue=function(n){var l=this;this.dropDown=""!==n,this.searchLead=this.activityList.filter(function(t){if(n=n.toLowerCase(),t.name.toLowerCase().includes(n))return t;l.dropDown=!0})},n.prototype.getRoute=function(n,l){this.searchText=l,this.routingId=n,this.dropDown=!1},n.prototype.navigateToModule=function(){var n=this;h.a.map(function(l){l.routeId===n.routingId&&n.route.navigateByUrl(l.routeUrl)})},n.prototype.ngOnDestroy=function(){document.querySelector("body").removeEventListener("click",this.bodyClickEvent)},n.prototype.initIdenti5=function(){var n=this;this.pid="",identi5.getInfo(function(l){console.log("Result&&&&"+l),n.pid=l.model,console.log("base64Data"+n.pid),alert(n.pid),n.prepareKYCRequest(n.pid)},function(n){console.log("Result&&&&"+n),alert("error"+n)})},n.prototype.prepareKYCRequest=function(n){var l=Math.floor(1e5+9e5*Math.random());console.log(l);var t=f().format("MMDDhhmmss"),e=f().format("MMDD"),o=f().format("hhmmss"),a=n;console.log("pId"+a),console.log("now"+t),console.log("localDate"+e);var i='<KycRequest><TransactionInfo><UID type="U">802172334890</UID><Transm_Date_time>'+t+"</Transm_Date_time><Local_Trans_Time>"+o+"</Local_Trans_Time><Local_date>"+e+"</Local_date><CA_TID>11205764</CA_TID><CA_ID>EQT000000001441</CA_ID><CA_TA>Equitas Bank Chennai TNIN</CA_TA><Stan>"+l+"</Stan></TransactionInfo>"+a+"</KycRequest>";console.log("kycRequest"+i),this.dashboardService.getKycDetails({ekycRequest:i}).subscribe(function(n){console.log("KYC result"+JSON.stringify(n))})},n.prototype.takePicture=function(){return d.b(this,void 0,void 0,function(){return d.e(this,function(n){return[2,this.camera.getPicture({quality:50,destinationType:this.camera.DestinationType.FILE_URI,sourceType:this.camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:this.camera.EncodingType.PNG,targetWidth:100,targetHeight:100,saveToPhotoAlbum:!1})]})})},n.prototype.openCamera=function(){var n=this;this.takePicture().then(function(l){console.log("imageData",l),n.imageURI=l;var t=l.split("/");t=t[t.length-1],n.cameraImage=window.Ionic.WebView.convertFileSrc(n.imageURI).toString().split("cache/")[1],console.log("Camera Image",n.cameraImage),n.fileName="1234-56-"+(new Date).getTime(),console.log("fileName",n.fileName),n.uploadToAppiyoDriveMobile(n.fileName,n.imageURI)})},n.prototype.uploadToAppiyoDriveMobile=function(n,l){var t=this;return new Promise(function(e,o){t.uploadFile(n,l).then(function(n){if(200==n.responseCode){var l=JSON.parse(n.response);e(l)}}).catch(function(n){o(n)})})},n.prototype.uploadFile=function(n,l){var t=this.transfer.create();console.log("fileTransfer",t);var e={fileKey:"file",fileName:n,chunkedMode:!1,headers:{"X-Requested-With":"XMLHttpRequest","authentication-token":H.a.getToken()?H.a.getToken():""}};return console.log("FileUploadOptions",t),t.upload(l,encodeURI(y.a.host+y.a.appiyoDrive),e,!0)},n}(),D=e.xb({encapsulation:0,styles:[[".search[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:left;font-size:15px;color:#000;padding:12px 16px;text-decoration:none;display:block;width:540px}.dropdown-content[_ngcontent-%COMP%]{margin-left:10px;border-radius:20px;display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.search[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.search[_ngcontent-%COMP%]:hover   #selectbox[_ngcontent-%COMP%]{background-color:#fff}.option[_ngcontent-%COMP%]{border-radius:50px}.form-control[_ngcontent-%COMP%]{height:44px}.vertical-middle[_ngcontent-%COMP%]{position:absolute;top:23%;left:0;right:0;margin:0 auto}"]],data:{}});function T(n){return e.Tb(0,[(n()(),e.zb(0,0,null,null,10,"header",[["class","navbar navbar-static-top"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,9,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,6,"div",[["class","navbar-header"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,5,"button",[["class","navbar-toggle collapsed"],["data-target","#bs-navbar"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(n()(),e.Rb(-1,null,["Toggle navigation"])),(n()(),e.zb(6,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(n()(),e.zb(7,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(n()(),e.zb(9,0,null,null,1,"app-profile",[],null,null,null,i.b,i.a)),e.yb(10,245760,null,0,u.a,[r.a,c.a],null,null),(n()(),e.zb(11,0,null,null,11,"main",[],null,null,null,null,null)),(n()(),e.zb(12,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),e.zb(13,0,null,null,3,"div",[["class","vertical-middle text-center"]],null,null,null,null,null)),(n()(),e.zb(14,0,null,null,0,"img",[["alt","[Image: Hetra Logo]"],["class","logo"],["src","assets/images/hetra_logo.png"],["title","Hetra"]],null,null,null,null,null)),(n()(),e.zb(15,0,null,null,1,"app-search-bar",[],null,null,null,s.b,s.a)),e.yb(16,114688,null,0,b.a,[p.o,r.a],null,null),(n()(),e.zb(17,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.initIdenti5()&&e),e},null,null)),(n()(),e.Rb(-1,null,[" Identi5"])),(n()(),e.zb(19,0,null,null,1,"div",[["class","base_data"]],null,null,null,null,null)),(n()(),e.Rb(20,null,["",""])),(n()(),e.zb(21,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openCamera()&&e),e},null,null)),(n()(),e.Rb(-1,null,[" Open camera"]))],function(n,l){n(l,10,0),n(l,16,0)},function(n,l){n(l,20,0,l.component.pid)})}function I(n){return e.Tb(0,[(n()(),e.zb(0,0,null,null,1,"app-dashboard",[],null,null,null,T,D)),e.yb(1,245760,null,0,C,[r.a,g.a,p.o,m.a,v.a],null,null)],function(n,l){n(l,1,0)},null)}var _=e.vb("app-dashboard",C,I,{},{},[]),k=t("atuK"),w=t("P3h3"),M=t("Ip0R"),P=t("gIcY"),R=t("xkgV"),z=t("+3l6"),x=t("Hz84"),A=t("5cgW"),O=t("06BB"),S=t("NJnL"),L=t("lqqz"),N=t("ARl4"),q=function(){return function(){}}(),E=t("P1eI"),U=t("FpXt"),F=t("BNTI");t.d(l,"ActivitySearchModuleNgFactory",function(){return K});var K=e.wb(o,[],function(n){return e.Gb([e.Hb(512,e.l,e.jb,[[8,[a.a,_,k.a,k.c,k.b,k.d,w.a]],[3,e.l],e.C]),e.Hb(4608,M.o,M.n,[e.z,[2,M.F]]),e.Hb(4608,P.E,P.E,[]),e.Hb(4608,P.g,P.g,[]),e.Hb(4608,R.e,R.e,[]),e.Hb(4608,z.e,z.e,[]),e.Hb(4608,z.j,z.j,[]),e.Hb(4608,z.F,z.F,[]),e.Hb(4608,z.P,z.P,[x.b]),e.Hb(4608,z.rb,z.rb,[x.b]),e.Hb(4608,z.qb,z.qb,[x.b]),e.Hb(135680,A.f,A.f,[e.E]),e.Hb(4608,O.g,O.g,[e.g,e.l,e.v,[2,O.d]]),e.Hb(4608,S.a,S.a,[e.E,e.M,e.H]),e.Hb(4608,L.a,L.a,[e.l,e.E,e.v,S.a,e.g]),e.Hb(4608,N.r,N.r,[]),e.Hb(4608,N.t,N.t,[]),e.Hb(4608,N.a,N.a,[]),e.Hb(4608,N.f,N.f,[]),e.Hb(4608,N.c,N.c,[]),e.Hb(4608,N.h,N.h,[]),e.Hb(4608,N.j,N.j,[]),e.Hb(4608,N.s,N.s,[N.t,N.j]),e.Hb(1073742336,M.c,M.c,[]),e.Hb(1073742336,p.s,p.s,[[2,p.x],[2,p.o]]),e.Hb(1073742336,q,q,[]),e.Hb(1073742336,P.D,P.D,[]),e.Hb(1073742336,P.m,P.m,[]),e.Hb(1073742336,N.e,N.e,[]),e.Hb(1073742336,P.z,P.z,[]),e.Hb(1073742336,E.a,E.a,[]),e.Hb(1073742336,R.a,R.a,[]),e.Hb(1073742336,x.a,x.a,[]),e.Hb(1073742336,A.b,A.b,[]),e.Hb(1073742336,z.p,z.p,[]),e.Hb(1073742336,z.b,z.b,[]),e.Hb(1073742336,z.bb,z.bb,[]),e.Hb(1073742336,z.pb,z.pb,[]),e.Hb(1073742336,z.h,z.h,[]),e.Hb(1073742336,A.h,A.h,[]),e.Hb(1073742336,O.f,O.f,[]),e.Hb(1073742336,z.v,z.v,[]),e.Hb(1073742336,U.a,U.a,[]),e.Hb(1073742336,o,o,[]),e.Hb(1024,p.m,function(){return[[{path:"",component:C}]]},[]),e.Hb(256,z.ab,F.a,[])])})}}]);