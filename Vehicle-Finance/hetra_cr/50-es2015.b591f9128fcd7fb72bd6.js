(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{ve5D:function(l,e,n){"use strict";n.r(e);var t=n("8Y7J");class a{}var i=n("pMnS"),o=n("9M96"),r=n("dh3B"),s=n("5pZN"),u=n("iInd"),c=n("owZw"),d=n("V+VW"),b=n("m1Ie"),p=n("SVse"),h=n("kOK7"),m=n("NSPG"),f=n("yAld"),g=n("Ymxs"),v=n("89oD"),_=n("p8Xo");class D{constructor(l,e,n,t){this.location=l,this.aRoute=e,this.createLeadDataService=n,this.leadStoreService=t,this.leadId=this.aRoute.snapshot.parent.params.leadId}ngOnInit(){if(this.leadId){const l=this.aRoute.snapshot.data.leadData;if("0"===l.Error){const e=l.ProcessVariables;this.createLeadDataService.setLeadSectionData(e),this.leadStoreService.setLeadCreation(e)}}const l=this.location.path();this.locationIndex=this.getLocationIndex(l),this.location.onUrlChange(l=>{this.locationIndex=this.getLocationIndex(l)})}getLocationIndex(l){return l.includes("lead-details")?0:l.includes("applicant-list")?1:l.includes("vehicle-list")||l.includes("add-vehicle")?2:l.includes("reference")?3:l.includes("document-upload")?4:void 0}ngOnDestroy(){console.log("sales destroy")}}var C=t.xb({encapsulation:0,styles:[["h3.dedupe_head[_ngcontent-%COMP%], h3.margin_zero[_ngcontent-%COMP%]{margin-top:0}.ok_footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem;border-top:1px solid #e9ecef}.text-center[_ngcontent-%COMP%]{text-align:center}.box_shadow[_ngcontent-%COMP%]{box-shadow:0 8px 6px -9px #000}.img-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}.modal_title[_ngcontent-%COMP%]{font-size:25px;font-family:fantasy;text-align:center;color:#1d1a4b}.modal_content[_ngcontent-%COMP%]{font-size:18px;font-family:fantasy;text-align:center;color:#494e50}.modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body.modal_coapp[_ngcontent-%COMP%]{text-align:left!important}.dedupe_head[_ngcontent-%COMP%]{font-size:14px;font-weight:700}#proceed_reason[_ngcontent-%COMP%], #reject_reason[_ngcontent-%COMP%]{width:350px;border-radius:1.5em;margin:auto auto 12px;border:1px solid #1d1a4b47}.reject_reason[_ngcontent-%COMP%]{color:#f58733;font-weight:bolder}.approve_reason[_ngcontent-%COMP%], .pending_reason[_ngcontent-%COMP%]{color:#1d1a4b;font-weight:bolder}.content[_ngcontent-%COMP%]{background:#fff;padding:25px 30px;border-radius:8px;border:1px solid #ddd;margin-bottom:20px}label.col-form-label[_ngcontent-%COMP%]{width:50%;padding-right:20px;padding-left:20px;font-weight:bolder;font-size:14px}.col-md-6.col-lg-6.col-sm-12.p-0[_ngcontent-%COMP%]{padding:0!important}label.col-form-label-two[_ngcontent-%COMP%]{width:50%;padding-right:20px;padding-left:20px;font-weight:bolder;font-size:14px;float:right}.col-lg-12.col-md-12.col-sm-12.lead_top[_ngcontent-%COMP%], .p-0[_ngcontent-%COMP%]{padding:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}.form-group.col-sm-6.col-md-2.col-lg-2.mobile_otp[_ngcontent-%COMP%]{width:20%}.back_color[_ngcontent-%COMP%]{color:#fff}#scroll_starts_here[_ngcontent-%COMP%]{height:400px;overflow-y:scroll;overflow-x:hidden}#nagative_list_results[_ngcontent-%COMP%]{background:#fff;padding:20px;border:1px solid #ddd;text-align:center}select#select_main_button_match[_ngcontent-%COMP%]{background-color:#6c757d;padding:6px;color:#fff;margin-bottom:1%}#apc_details[_ngcontent-%COMP%]{background:#dfdfdf;padding:10px;border:1px solid silver}#apc_result_text[_ngcontent-%COMP%]{color:#4d1d0c;font-weight:700}#apc_found_nl[_ngcontent-%COMP%]{width:14%;margin-left:35px;text-align:center}#apc_found_trnl[_ngcontent-%COMP%]{width:14%;text-align:center}#apc_exact_details[_ngcontent-%COMP%]{background-image:linear-gradient(141deg,#fff 0,#e5b69a 51%,#fff 95%);border:1px solid #cccc;padding:10px;margin-top:5px;box-shadow:0 10px 10px -11px #561ba3cc}.input_box[_ngcontent-%COMP%]{width:184px}.date_caps[_ngcontent-%COMP%]{text-transform:uppercase}.row.top_bar[_ngcontent-%COMP%]{margin:0;border:1px solid #ddd;font-weight:100;border-radius:6px;padding-top:15px;padding-bottom:10px;background:#fff}.form-group.mb-0[_ngcontent-%COMP%]{margin-bottom:3px}.basic_scroll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px;overflow-x:hidden}.multisteps-form__progress[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(0,1fr));margin:15px 0}.multisteps-form__progress-btn[_ngcontent-%COMP%]{position:relative;padding-top:20px;color:rgba(108,117,125,.7);text-indent:-9999px;border:none;background-color:transparent;outline:0!important;cursor:pointer;transition:.15s linear}@media (min-width:500px){.multisteps-form__progress-btn[_ngcontent-%COMP%]{text-indent:0}}@media (min-width:1200px){.container[_ngcontent-%COMP%]{width:1300px}}.multisteps-form__progress-btn[_ngcontent-%COMP%]:before{position:absolute;top:0;left:50%;display:block;width:13px;height:13px;content:'';transform:translateX(-50%);transition:all .15s linear 0s,transform .15s cubic-bezier(.05,1.09,.16,1.4) 0s;border:2px solid currentColor;border-radius:50%;background-color:#fff;box-sizing:border-box;z-index:3}.multisteps-form__progress-btn[_ngcontent-%COMP%]:after{position:absolute;top:5px;left:calc(-50% - 13px / 2);display:block;width:100%;height:2px;content:'';background-color:currentColor;z-index:1;transition:.15s linear}.multisteps-form__progress-btn[_ngcontent-%COMP%]:first-child:after{display:none}.multisteps-form__progress-btn.js-active[_ngcontent-%COMP%]{color:#272264;font-weight:600}.multisteps-form__progress-btn.js-active[_ngcontent-%COMP%]:before{transform:translateX(-50%) scale(1.2);background-color:currentColor}.multisteps-form__form[_ngcontent-%COMP%]{position:relative}.multisteps-form__panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:0;opacity:0;visibility:hidden}.multisteps-form__panel.js-active[_ngcontent-%COMP%]{height:auto;opacity:1;visibility:visible}.multisteps-form__panel[data-animation=scaleOut][_ngcontent-%COMP%]{transform:scale(1.1)}.multisteps-form__panel[data-animation=scaleOut].js-active[_ngcontent-%COMP%]{transform:scale(1);transition:.2s linear}.multisteps-form__panel[data-animation=slideHorz][_ngcontent-%COMP%]{left:50px}.multisteps-form__panel[data-animation=slideHorz].js-active[_ngcontent-%COMP%]{left:0;transition:.25s cubic-bezier(.2,1.13,.38,1.43)}.multisteps-form__panel[data-animation=slideVert][_ngcontent-%COMP%]{top:30px}.multisteps-form__panel[data-animation=slideVert].js-active[_ngcontent-%COMP%]{top:0;transition:.2s linear}.multisteps-form__panel[data-animation=fadeIn].js-active[_ngcontent-%COMP%]{transition:.3s linear}.multisteps-form__panel[data-animation=scaleIn][_ngcontent-%COMP%]{transform:scale(.9)}.multisteps-form__panel[data-animation=scaleIn].js-active[_ngcontent-%COMP%]{transform:scale(1);transition:.2s linear}.multisteps-form__form[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:20px;margin-top:4px}"]],data:{}});function y(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,41,"main",[["class","mar-top90"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"app-lead-section-header",[],null,null,null,o.b,o.a)),t.yb(2,114688,null,0,r.a,[s.a,u.o,c.a,d.a,u.a,b.a,p.i,h.a,m.a,f.a,g.a,v.a,_.a],null,null),(l()(),t.zb(3,0,null,null,38,"div",[["class","multisteps-form"]],null,null,null,null,null)),(l()(),t.zb(4,0,null,null,35,"div",[["class","multisteps-form__progress"]],null,null,null,null,null)),(l()(),t.zb(5,0,null,null,6,"button",[["class","multisteps-form__progress-btn js-active"],["id","sales_sourcinginfo"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,6).onClick()&&a),a}),null,null)),t.yb(6,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(7,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(9,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(10,{"js-active":0}),(l()(),t.Rb(-1,null,[" Lead Details "])),(l()(),t.zb(12,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_applicant_details"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,13).onClick()&&a),a}),null,null)),t.yb(13,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(14,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(16,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(17,{"js-active":0}),(l()(),t.Rb(-1,null,[" Applicant Details "])),(l()(),t.zb(19,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_vechicle_details"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,20).onClick()&&a),a}),null,null)),t.yb(20,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(21,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(23,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(24,{"js-active":0}),(l()(),t.Rb(-1,null,[" Vehicle Details "])),(l()(),t.zb(26,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_reference_details"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,27).onClick()&&a),a}),null,null)),t.yb(27,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(28,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(30,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(31,{"js-active":0}),(l()(),t.Rb(-1,null,[" Reference Details "])),(l()(),t.zb(33,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_upload_documents"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,34).onClick()&&a),a}),null,null)),t.yb(34,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(35,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(37,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(38,{"js-active":0}),(l()(),t.Rb(-1,null,[" Submit Lead "])),(l()(),t.zb(40,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.yb(41,212992,null,0,u.t,[u.b,t.W,t.l,[8,null],t.i],null,null)],(function(l,e){var n=e.component;l(e,2,0);var t=l(e,7,0,"./lead-details");l(e,6,0,t);var a=l(e,10,0,n.locationIndex>=0);l(e,9,0,"multisteps-form__progress-btn js-active",a);var i=l(e,14,0,"./applicant-list");l(e,13,0,i);var o=l(e,17,0,n.locationIndex>=1);l(e,16,0,"multisteps-form__progress-btn",o);var r=l(e,21,0,"./vehicle-list");l(e,20,0,r);var s=l(e,24,0,n.locationIndex>=2);l(e,23,0,"multisteps-form__progress-btn",s);var u=l(e,28,0,"./reference");l(e,27,0,u);var c=l(e,31,0,n.locationIndex>=3);l(e,30,0,"multisteps-form__progress-btn",c);var d=l(e,35,0,"./document-upload");l(e,34,0,d);var b=l(e,38,0,n.locationIndex>=4);l(e,37,0,"multisteps-form__progress-btn",b),l(e,41,0)}),null)}function S(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,y,C)),t.yb(1,245760,null,0,D,[p.i,u.a,d.a,b.a],null,null)],(function(l,e){l(e,1,0)}),null)}var x=t.vb("ng-component",D,S,{},{},[]),I=n("vOfW"),M=n("GDRo"),O=n("zcu7"),P=n("vmSN"),k=n("hm7B"),V=n("aH6+"),w=n("aWac"),T=n("A1CT"),z=n("MKCQ"),H=n("TYdL");class L{ngOnInit(){console.log("LeadDetailsComponent")}nextToApplicant(){console.log("nextToApplicant")}}var Y=t.xb({encapsulation:0,styles:[[""]],data:{}});function F(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"app-sourcing-details",[],null,null,null,I.c,I.a)),t.yb(1,114688,null,0,M.a,[O.a,P.a,u.o,k.a,s.a,V.a,d.a,_.a,w.a,c.a,u.a,p.i,T.a,g.a,h.a,z.a,H.a,v.a],null,null)],(function(l,e){l(e,1,0)}),null)}function E(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,F,Y)),t.yb(1,114688,null,0,L,[],null,null)],(function(l,e){l(e,1,0)}),null)}var R=t.vb("ng-component",L,E,{},{},[]),A=n("E03k"),j=n("OOiB"),U=n("Moo5"),J=n("s7LF"),G=n("HHV2"),N=n("e1tg"),K=n("q22S"),W=n("nCgp"),$=n("hdOT"),Z=n("mrSG");class B{constructor(l,e,n,t,a,i,o,r,s,u,c,d,b){this.applicantDataStoreService=l,this.createLeadDataService=e,this.commonDataService=n,this.toasterService=t,this.route=a,this.activatedRoute=i,this.labelsData=o,this.router=r,this.vehicleDetailService=s,this.loginStoreService=u,this.utilityService=c,this.sharedService=d,this.loanViewService=b,this.applicantList=[],this.routerId="0",this.udfScreenId="",this.udfGroupId="VLG002",this.udfDetails=[]}ngOnInit(){return Z.a(this,void 0,void 0,(function*(){this.leadId=yield this.getLeadId(),this.applicantList=this.applicantDataStoreService.getApplicantList(),this.isLoan360=this.loanViewService.checkIsLoan360();const l=this.loginStoreService.getRolesAndUserDetails();this.userId=l.userDetails.userId;const e=this.createLeadDataService.getLeadSectionData();e&&e.vehicleCollateral&&(this.routerId=e.vehicleCollateral.length>0?e.vehicleCollateral[0].collateralId:"0"),this.leadId=e.leadId,this.productCatoryCode=e.leadDetails.productCatCode,this.labelsData.getLabelsData().subscribe(l=>{this.label=l},l=>{this.errorMsg=l}),this.labelsData.getScreenId().subscribe(l=>{this.udfScreenId=l.ScreenIDS.ADE.vehicleDetailADE}),this.sharedService.vaildateForm$.subscribe(l=>{this.formValue=l}),this.sharedService.userDefined$.subscribe(l=>{this.userDefineForm=l})}))}getLeadId(){return new Promise((l,e)=>{this.activatedRoute.parent.params.subscribe(e=>{e&&e.leadId&&l(Number(e.leadId)),l(null)})})}onNext(){let l=!0;if(this.userDefineForm&&(l=!this.userDefineForm.udfData||!!this.userDefineForm.udfData.valid),this.formValue.invalid&&!l)return;const e=this.createLeadDataService.getLeadSectionData().leadDetails.productCatCode;"NCV"!==e&&"UCV"!==e&&"UC"!==e||this.applicantDataStoreService.findCoApplicant(this.applicantList)||this.toasterService.showInfo("There should be one Co-Applicant for this lead",""),"NCV"===e&&(this.applicantDataStoreService.checkFemaleAppForNCV(this.applicantList)||this.toasterService.showInfo("There should be atleast one FEMALE applicant for this lead","")),this.route.navigate([`pages/sales/${this.leadId}/reference`])}onFormSubmit(){let l=!0;if(this.userDefineForm&&(l=!this.userDefineForm.udfData||!!this.userDefineForm.udfData.valid),this.formValue.valid&&l){let l=this.formValue.value.vehicleFormArray[0];if(!1===this.formValue.value.isCheckDedpue)return void this.toasterService.showError("Please check dedupe","Vehicle Detail");this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber?(l&&l.fcExpiryDate&&(l.fcExpiryDate=l.fcExpiryDate?this.utilityService.convertDateTimeTOUTC(l.fcExpiryDate,"DD/MM/YYYY"):""),l.firFiled&&(l.firFiled=!0===l.firFiled?"1":"0"),l.onlineVerification&&(l.onlineVerification=!0===l.onlineVerification?"1":"0"),l.insuranceValidity&&(l.insuranceValidity=l.insuranceValidity?this.utilityService.convertDateTimeTOUTC(l.insuranceValidity,"DD/MM/YYYY"):""),l.accidentDate&&(l.accidentDate=l.accidentDate?this.utilityService.convertDateTimeTOUTC(l.accidentDate,"DD/MM/YYYY"):""),l.invoiceDate&&(l.invoiceDate=l.invoiceDate?this.utilityService.convertDateTimeTOUTC(l.invoiceDate,"DD/MM/YYYY"):""),"UCV"!==this.productCatoryCode&&"UC"!==this.productCatoryCode&&"UTCR"!==this.productCatoryCode||(l.manuFacMonthYear=this.utilityService.convertDateTimeTOUTC(l.manuFacMonthYear,"DD/MM/YYYY"),l.ageOfAsset=l.ageOfAsset?l.ageOfAsset.split(" ")[0]:null,l.ageAfterTenure=l.ageAfterTenure?l.ageAfterTenure.split(" ")[0]:null),l.udfDetails=[{udfGroupId:this.udfGroupId,udfData:JSON.stringify(this.userDefineForm&&this.userDefineForm.udfData?this.userDefineForm.udfData.getRawValue():{})}],this.vehicleDetailService.saveOrUpdateVehcicleDetails(l).subscribe(l=>{"0"===l.Error&&"0"===l.ProcessVariables.error.code?(this.toasterService.showSuccess("Record Saved/Updated Successfully","Vehicle List"),this.router.navigate(["pages/sales/"+this.leadId+"/vehicle-list"])):this.toasterService.showError(l.ErrorMessage?l.ErrorMessage:l.ProcessVariables.error.message,"Vehicle Details")},l=>{console.log(l,"error"),this.toasterService.showError(l,"Vehicle Details")})):this.formValue.value.isInvalidMobileNumber?this.formValue.value.isValidPincode?this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber||this.toasterService.showError("Please enter valid pincode and mobile no","Invalid pincode & mobile no"):this.toasterService.showError("Please enter valid pincode","Invalid pincode"):this.toasterService.showError("applicant and dealer of vehicle owner mobile number both are same","Invalid mobile no")}else this.isDirty=!0,this.utilityService.validateAllFormFields(this.formValue),this.toasterService.showError("Please enter all mandatory field","Vehicle Detail")}}var X=t.xb({encapsulation:0,styles:[[".cst_btm_btns[_ngcontent-%COMP%]{margin-bottom:25px!important}.btn-sec[_ngcontent-%COMP%]{margin:10px 2px}"]],data:{}});function q(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"app-shared-basic-vehicle-details",[],null,null,null,j.b,j.a)),t.yb(2,114688,null,0,U.a,[J.g,h.a,_.a,s.a,V.a,T.a,O.a,O.a,P.a,G.d,d.a,g.a,c.a,N.a,K.a,v.a,u.o,P.a,H.a,W.a,z.a,$.a,p.i],{id:[0,"id"],isDirty:[1,"isDirty"],udfScreenId:[2,"udfScreenId"],udfGroupId:[3,"udfGroupId"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.routerId,n.isDirty,n.udfScreenId,n.udfGroupId)}),null)}function Q(l){return t.Tb(0,[(l()(),t.ob(16777216,null,null,1,null,q)),t.yb(1,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,1,0,e.component.label)}),null)}function ll(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"app-vehicle-details",[],null,null,null,Q,X)),t.yb(1,114688,null,0,B,[H.a,d.a,f.a,g.a,u.o,u.a,s.a,u.o,O.a,_.a,T.a,c.a,v.a],null,null)],(function(l,e){l(e,1,0)}),null)}var el=t.vb("app-vehicle-details",B,ll,{},{},[]),nl=n("H+bZ"),tl=n("AytR"),al=n("N+K7");let il=(()=>{class l{constructor(l,e){this.apiService=l,this.httpService=e,this.saveToCredit=this.apiService.api.submitToCredit}submitToCredit(l){const e=this.saveToCredit.projectId,n=this.saveToCredit.workflowId,t={processId:this.saveToCredit.processId,workflowId:n,projectId:e,ProcessVariables:Object.assign({},l)};return this.httpService.post(`${tl.a.host}d/workflows/${n}/${tl.a.apiVersion.api}execute?projectId=${e}`,t)}}return l.ngInjectableDef=t.Vb({factory:function(){return new l(t.Zb(nl.a),t.Zb(al.a))},token:l,providedIn:"root"}),l})();class ol{constructor(l,e,n,t,a,i){this.aRoute=l,this.router=e,this.doucmentUploadService=n,this.toStarService=t,this.loanViewService=a,this.sharedService=i,this.isModelShow=!1}ngOnInit(){this.isLoan360=this.loanViewService.checkIsLoan360(),this.aRoute.parent.params.subscribe(l=>this.leadId=l.leadId),this.sharedService.taskId$.subscribe(l=>this.taskId=l||"")}submitToCredit(){const l={userId:localStorage.getItem("userId"),leadId:Number(this.leadId),taskId:this.taskId};console.log("submit call"),this.doucmentUploadService.submitToCredit(l).subscribe(l=>{l.Error&&0==l.Error&&0==l.ProcessVariables.error.code?(this.errorMessage="Lead is submitted to credit successfully",this.isModelShow=!0):this.toStarService.showError(l.ProcessVariables.error.message,"Submit To Credit")})}navigateToDashBoard(){this.isModelShow=!1,this.router.navigateByUrl("/pages/dashboard")}}var rl=t.xb({encapsulation:0,styles:[[".dis-block[_ngcontent-%COMP%]{display:block}"]],data:{}});function sl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary dash_href"],["data-target","#sumbitModal"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Submit To Credit "]))],null,null)}function ul(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,10,"div",[["id","overlay"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,9,"div",[["id","text"]],null,null,null,null,null)),(l()(),t.zb(2,0,null,null,8,"div",[["class","panel"]],null,null,null,null,null)),(l()(),t.zb(3,0,null,null,7,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t.zb(4,0,null,null,6,"div",[["class","modal-dialog"]],null,null,null,null,null)),(l()(),t.zb(5,0,null,null,5,"div",[["class","modal-body"],["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.zb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Rb(7,null,["",""])),(l()(),t.zb(8,0,null,null,2,"div",[["class","btn-wrap"]],null,null,null,null,null)),(l()(),t.zb(9,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.navigateToDashBoard()&&t),t}),null,null)),(l()(),t.Rb(-1,null,[" OK "]))],null,(function(l,e){l(e,7,0,e.component.errorMessage)}))}function cl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,16,"div",[["class","content"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,5,"form",[["class","multisteps-form__form basic_scroll"],["method","POST"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,e,n){var a=!0;return"submit"===e&&(a=!1!==t.Jb(l,3).onSubmit(n)&&a),"reset"===e&&(a=!1!==t.Jb(l,3).onReset()&&a),a}),null,null)),t.yb(2,16384,null,0,J.I,[],null,null),t.yb(3,4210688,null,0,J.u,[[8,null],[8,null]],null,null),t.Ob(2048,null,J.c,null,[J.u]),t.yb(5,16384,null,0,J.t,[[4,J.c]],null,null),(l()(),t.zb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.zb(7,0,null,null,9,"div",[["class","btn-sec clear-both row mar-btn"]],null,null,null,null,null)),(l()(),t.zb(8,0,null,null,0,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),t.zb(9,0,null,null,7,"div",[["class","col-sm-7 text-right"]],null,null,null,null,null)),(l()(),t.zb(10,0,null,null,4,"button",[["class","btn btn-primary dash_href hvr-sweep-to-left"],["type","button"]],null,null,null,null,null)),(l()(),t.zb(11,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&a),a}),null,null)),t.yb(12,671744,null,0,u.r,[u.o,u.a,p.j],{routerLink:[0,"routerLink"]},null),t.Kb(13,1),(l()(),t.Rb(-1,null,["Back"])),(l()(),t.ob(16777216,null,null,1,null,sl)),t.yb(16,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(l()(),t.zb(17,0,null,null,14,"div",[["class","modal"],["id","sumbitModal"]],null,null,null,null,null)),(l()(),t.zb(18,0,null,null,13,"div",[["class","modal-dialog modal-center"]],null,null,null,null,null)),(l()(),t.zb(19,0,null,null,12,"div",[["class","modal-content"],["style","text-align: center"]],null,null,null,null,null)),(l()(),t.zb(20,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.zb(21,0,null,null,0,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.zb(22,0,null,null,1,"button",[["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" \xd7 "])),(l()(),t.zb(24,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.zb(25,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Are you sure you want to submit to credit?"])),(l()(),t.zb(27,0,null,null,4,"div",[["class","modal-footer"],["style","text-align: center"]],null,null,null,null,null)),(l()(),t.zb(28,0,null,null,1,"button",[["class","btn btn-success"],["data-dismiss","modal"],["id","reject_yes_val"],["type","button"],["value","Yes"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.submitToCredit()&&t),t}),null,null)),(l()(),t.Rb(-1,null,[" Yes "])),(l()(),t.zb(30,0,null,null,1,"button",[["class","btn btn-danger"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Cancel "])),(l()(),t.ob(16777216,null,null,1,null,ul)),t.yb(33,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component,t=l(e,13,0,"../reference");l(e,12,0,t),l(e,16,0,!n.isLoan360),l(e,33,0,n.isModelShow)}),(function(l,e){l(e,1,0,t.Jb(e,5).ngClassUntouched,t.Jb(e,5).ngClassTouched,t.Jb(e,5).ngClassPristine,t.Jb(e,5).ngClassDirty,t.Jb(e,5).ngClassValid,t.Jb(e,5).ngClassInvalid,t.Jb(e,5).ngClassPending),l(e,11,0,t.Jb(e,12).target,t.Jb(e,12).href)}))}function dl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,cl,rl)),t.yb(1,114688,null,0,ol,[u.a,u.o,il,g.a,v.a,c.a],null,null)],(function(l,e){l(e,1,0)}),null)}var bl=t.vb("ng-component",ol,dl,{},{},[]);class pl{constructor(l,e,n,t,a,i,o,r,s,u){this.labelsData=l,this.router=e,this.activatedRoute=n,this.createLeadDataService=t,this.vehicleDetailService=a,this.loginStoreService=i,this.utilityService=o,this.sharedService=r,this.toasterService=s,this.loanViewService=u,this.label={},this.routerId=0,this.udfScreenId="",this.udfGroupId="VLG002",this.udfDetails=[]}ngOnInit(){this.isLoan360=this.loanViewService.checkIsLoan360();const l=this.loginStoreService.getRolesAndUserDetails();this.userId=l.userDetails.userId;const e=this.createLeadDataService.getLeadSectionData();this.leadId=e.leadId,this.productCatoryCode=e.leadDetails.productCatCode,this.labelsData.getLabelsData().subscribe(l=>{this.label=l},l=>{this.errorMsg=l}),this.labelsData.getScreenId().subscribe(l=>{this.udfScreenId=l.ScreenIDS.ADE.vehicleDetailADE}),this.activatedRoute.params.subscribe(l=>{this.routerId=l?l.vehicleId:null}),this.sharedService.vaildateForm$.subscribe(l=>{this.formValue=l}),this.sharedService.userDefined$.subscribe(l=>{this.userDefineForm=l})}onFormSubmit(){let l=!0;if(this.userDefineForm&&(l=!this.userDefineForm.udfData||!!this.userDefineForm.udfData.valid),this.formValue.valid&&l){let l=this.formValue.value.vehicleFormArray[0];if(!1===this.formValue.value.isCheckDedpue)return void this.toasterService.showError("Please check dedupe","Vehicle Detail");this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber?(l&&l.fcExpiryDate&&(l.fcExpiryDate=l.fcExpiryDate?this.utilityService.convertDateTimeTOUTC(l.fcExpiryDate,"DD/MM/YYYY"):""),l.firFiled&&(l.firFiled=!0===l.firFiled?"1":"0"),l.onlineVerification&&(l.onlineVerification=!0===l.onlineVerification?"1":"0"),l.insuranceValidity&&(l.insuranceValidity=l.insuranceValidity?this.utilityService.convertDateTimeTOUTC(l.insuranceValidity,"DD/MM/YYYY"):""),l.accidentDate&&(l.accidentDate=l.accidentDate?this.utilityService.convertDateTimeTOUTC(l.accidentDate,"DD/MM/YYYY"):""),l.invoiceDate&&(l.invoiceDate=l.invoiceDate?this.utilityService.convertDateTimeTOUTC(l.invoiceDate,"DD/MM/YYYY"):""),"UCV"!==this.productCatoryCode&&"UC"!==this.productCatoryCode&&"UTCR"!==this.productCatoryCode||(l.manuFacMonthYear=this.utilityService.convertDateTimeTOUTC(l.manuFacMonthYear,"DD/MM/YYYY"),l.ageOfAsset=l.ageOfAsset?l.ageOfAsset.split(" ")[0]:null,l.ageAfterTenure=l.ageAfterTenure?l.ageAfterTenure.split(" ")[0]:null),l.udfDetails=[{udfGroupId:this.udfGroupId,udfData:JSON.stringify(this.userDefineForm&&this.userDefineForm.udfData?this.userDefineForm.udfData.getRawValue():{})}],this.vehicleDetailService.saveOrUpdateVehcicleDetails(l).subscribe(l=>{"0"===l.Error&&"0"===l.ProcessVariables.error.code?(this.toasterService.showSuccess("Record Saved/Updated Successfully","Vehicle List"),this.router.navigate(["pages/sales/"+this.leadId+"/vehicle-list"])):this.toasterService.showError(l.ErrorMessage?l.ErrorMessage:l.ProcessVariables.error.message,"Vehicle Details")},l=>{console.log(l,"error"),this.toasterService.showError(l,"Vehicle Details")})):this.formValue.value.isInvalidMobileNumber?this.formValue.value.isValidPincode?this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber||this.toasterService.showError("Please enter valid pincode and mobile no","Invalid pincode & mobile no"):this.toasterService.showError("Please enter valid pincode","Invalid pincode"):this.toasterService.showError("applicant and dealer of vehicle owner mobile number both are same","Invalid mobile no")}else this.isDirty=!0,this.utilityService.validateAllFormFields(this.formValue),this.toasterService.showError("Please enter all mandatory field","Vehicle Detail")}}var hl=t.xb({encapsulation:0,styles:[["#clickbutton[_ngcontent-%COMP%]{margin-bottom:40px}.content[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.btn-sec[_ngcontent-%COMP%]{margin:10px 2px}"]],data:{}});function ml(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary "],["type","button"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onFormSubmit()&&t),t}),null,null)),(l()(),t.Rb(1,null,[" "," "]))],null,(function(l,e){l(e,1,0,e.component.label.save)}))}function fl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,11,"div",[["class","content"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"app-shared-basic-vehicle-details",[],null,null,null,j.b,j.a)),t.yb(2,114688,null,0,U.a,[J.g,h.a,_.a,s.a,V.a,T.a,O.a,O.a,P.a,G.d,d.a,g.a,c.a,N.a,K.a,v.a,u.o,P.a,H.a,W.a,z.a,$.a,p.i],{id:[0,"id"],isDirty:[1,"isDirty"],udfScreenId:[2,"udfScreenId"],udfGroupId:[3,"udfGroupId"]},null),(l()(),t.zb(3,0,null,null,8,"div",[["class","btn-sec clear-both row"],["id","clickbutton"]],null,null,null,null,null)),(l()(),t.zb(4,0,null,null,0,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),t.zb(5,0,null,null,6,"div",[["class","col-sm-7 text-right"]],null,null,null,null,null)),(l()(),t.zb(6,0,null,null,3,"button",[["class","btn btn-primary js-btn-prev"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,7).onClick()&&a),a}),null,null)),t.yb(7,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(8,1),(l()(),t.Rb(9,null,[" "," "])),(l()(),t.ob(16777216,null,null,1,null,ml)),t.yb(11,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.routerId,n.isDirty,n.udfScreenId,n.udfGroupId);var t=l(e,8,0,"../../vehicle-list");l(e,7,0,t),l(e,11,0,!n.isLoan360)}),(function(l,e){l(e,9,0,e.component.label.back)}))}function gl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"app-addvehicle",[],null,null,null,fl,hl)),t.yb(1,114688,null,0,pl,[s.a,u.o,u.a,d.a,O.a,_.a,T.a,c.a,g.a,v.a],null,null)],(function(l,e){l(e,1,0)}),null)}var vl=t.vb("app-addvehicle",pl,gl,{},{},[]),_l=n("MMke"),Dl=n("atuK"),Cl=n("P3h3"),yl=n("7+zM"),Sl=n("YuwJ"),xl=n("pV/K"),Il=n("6D8i"),Ml=n("KQa7"),Ol=n("blED"),Pl=n("0sTW"),kl=n("ozF/"),Vl=n("VKg4"),wl=n("ZAW4"),Tl=n("xkgV"),zl=n("OoJn"),Hl=n("prmK"),Ll=n("Rwcf"),Yl=n("PrTX"),Fl=n("5GAg"),El=n("/HVE"),Rl=n("DkaU"),Al=n("E5UL"),jl=n("2uy1"),Ul=n("z/SZ"),Jl=n("ienR"),Gl=n("EIjh"),Nl=n("V/I2"),Kl=n("Ph68");class Wl{}var $l=n("P1eI"),Zl=n("IP0z"),Bl=n("Xd0L"),Xl=n("cUpR"),ql=n("AaDx"),Ql=n("Gi4r"),le=n("YD+O"),ee=n("s7Le"),ne=n("FpXt"),te=n("J/W2"),ae=n("ppaR"),ie=n("qtC7"),oe=n("57Gz"),re=n("Tc9+"),se=n("Sasb"),ue=n("71i7"),ce=n("8ZSH"),de=n("BJNQ"),be=n("H/zF"),pe=n("+31S"),he=n("Z7Cg");n.d(e,"SalesModuleNgFactory",(function(){return me}));var me=t.wb(a,[],(function(l){return t.Gb([t.Hb(512,t.l,t.jb,[[8,[i.a,x,R,A.a,el,bl,vl,_l.a,Dl.a,Dl.c,Dl.b,Dl.d,Cl.a,yl.e,yl.f,Sl.a,xl.a,Il.a,I.b,Ml.a,Ol.a,Pl.a,kl.a,Vl.a,wl.a]],[3,t.l],t.C]),t.Hb(4608,J.F,J.F,[]),t.Hb(4608,J.g,J.g,[]),t.Hb(4608,p.o,p.n,[t.y,[2,p.H]]),t.Hb(4608,Tl.e,Tl.e,[]),t.Hb(4608,zl.e,zl.e,[]),t.Hb(4608,zl.j,zl.j,[]),t.Hb(4608,zl.F,zl.F,[]),t.Hb(4608,zl.P,zl.P,[Hl.b]),t.Hb(4608,zl.rb,zl.rb,[Hl.b]),t.Hb(4608,zl.qb,zl.qb,[Hl.b]),t.Hb(135680,Ll.g,Ll.g,[t.E]),t.Hb(4608,Yl.g,Yl.g,[t.g,t.l,t.u,[2,Yl.d]]),t.Hb(135680,Fl.b,Fl.b,[t.E,El.a]),t.Hb(4608,Rl.f,Rl.f,[t.T]),t.Hb(4608,Al.s,Al.s,[]),t.Hb(4608,Al.x,Al.x,[t.l,Al.s]),t.Hb(4608,jl.a,jl.a,[t.E,t.M,t.H]),t.Hb(4608,Ul.a,Ul.a,[t.l,t.E,t.u,jl.a,t.g]),t.Hb(4608,Jl.r,Jl.r,[]),t.Hb(4608,Jl.t,Jl.t,[]),t.Hb(4608,Jl.a,Jl.a,[]),t.Hb(4608,Jl.f,Jl.f,[]),t.Hb(4608,Jl.c,Jl.c,[]),t.Hb(4608,Jl.h,Jl.h,[]),t.Hb(4608,Jl.j,Jl.j,[]),t.Hb(4608,Jl.s,Jl.s,[Jl.t,Jl.j]),t.Hb(4608,Gl.a,Gl.a,[al.a,nl.a,u.o,c.a,v.a]),t.Hb(1073742336,u.s,u.s,[[2,u.x],[2,u.o]]),t.Hb(1073742336,Wl,Wl,[]),t.Hb(1073742336,$l.a,$l.a,[]),t.Hb(1073742336,J.E,J.E,[]),t.Hb(1073742336,J.n,J.n,[]),t.Hb(1073742336,J.A,J.A,[]),t.Hb(1073742336,p.c,p.c,[]),t.Hb(1073742336,Jl.e,Jl.e,[]),t.Hb(1073742336,Tl.a,Tl.a,[]),t.Hb(1073742336,Hl.a,Hl.a,[]),t.Hb(1073742336,Ll.c,Ll.c,[]),t.Hb(1073742336,zl.p,zl.p,[]),t.Hb(1073742336,zl.b,zl.b,[]),t.Hb(1073742336,zl.bb,zl.bb,[]),t.Hb(1073742336,zl.pb,zl.pb,[]),t.Hb(1073742336,zl.h,zl.h,[]),t.Hb(1073742336,Ll.i,Ll.i,[]),t.Hb(1073742336,Yl.f,Yl.f,[]),t.Hb(1073742336,zl.v,zl.v,[]),t.Hb(1073742336,Rl.d,Rl.d,[]),t.Hb(1073742336,Zl.a,Zl.a,[]),t.Hb(1073742336,Bl.l,Bl.l,[[2,Bl.e],[2,Xl.f]]),t.Hb(1073742336,ql.c,ql.c,[]),t.Hb(1073742336,Ql.c,Ql.c,[]),t.Hb(1073742336,Al.o,Al.o,[]),t.Hb(1073742336,Ll.b,Ll.b,[]),t.Hb(1073742336,Al.v,Al.v,[]),t.Hb(1073742336,le.b,le.b,[]),t.Hb(1073742336,ee.c,ee.c,[]),t.Hb(1073742336,ne.a,ne.a,[]),t.Hb(1073742336,te.a,te.a,[]),t.Hb(1073742336,ae.a,ae.a,[]),t.Hb(1073742336,a,a,[]),t.Hb(1024,u.m,(function(){return[[{path:":leadId",component:D,resolve:{leadData:Gl.a},children:[{path:"lead-details",component:L},{path:"applicant-list",component:Nl.a},{path:"vehicle-list",component:B},{path:"document-upload",component:ol},{path:"add-vehicle/:vehicleId",component:pl},{path:"reference",component:Kl.a}]}],[{path:":leadId/co-applicant/:applicantId",component:ie.a,resolve:{leadData:Gl.a}},{path:":leadId/co-applicant",component:ie.a,resolve:{leadData:Gl.a}},{path:":leadId/sales-exact-match",component:oe.a,resolve:{leadData:Gl.a}},{path:":leadId",component:re.a,resolve:{leadData:Gl.a},children:[{path:"",component:M.a},{path:"vehicle-list",component:se.a},{path:"applicant-details",component:ue.a},{path:"add-vehicle/:vehicleId",component:ce.a},{path:"credit-score",component:de.a},{path:"exact-match",component:be.a},{path:"otp-section/:id",component:pe.a}]}]]}),[]),t.Hb(256,zl.ab,he.a,[])])}))}}]);