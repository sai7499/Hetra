function _defineProperties(l,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,e,n){return e&&_defineProperties(l.prototype,e),n&&_defineProperties(l,n),l}function _classCallCheck(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{ve5D:function(l,e,n){"use strict";n.r(e);var t=n("8Y7J"),a=function l(){_classCallCheck(this,l)},i=n("pMnS"),o=n("9M96"),r=n("dh3B"),s=n("5pZN"),u=n("iInd"),c=n("owZw"),d=n("V+VW"),b=n("m1Ie"),p=n("SVse"),h=n("kOK7"),f=n("NSPG"),m=n("yAld"),v=n("Ymxs"),g=n("89oD"),_=n("p8Xo"),C=function(){function l(e,n,t,a){_classCallCheck(this,l),this.location=e,this.aRoute=n,this.createLeadDataService=t,this.leadStoreService=a,this.leadId=this.aRoute.snapshot.parent.params.leadId}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;if(this.leadId){var e=this.aRoute.snapshot.data.leadData;if("0"===e.Error){var n=e.ProcessVariables;this.createLeadDataService.setLeadSectionData(n),this.leadStoreService.setLeadCreation(n)}}var t=this.location.path();this.locationIndex=this.getLocationIndex(t),this.location.onUrlChange((function(e){l.locationIndex=l.getLocationIndex(e)}))}},{key:"getLocationIndex",value:function(l){return l.includes("lead-details")?0:l.includes("applicant-list")?1:l.includes("vehicle-list")||l.includes("add-vehicle")?2:l.includes("reference")?3:l.includes("document-upload")?4:void 0}},{key:"ngOnDestroy",value:function(){console.log("sales destroy")}}]),l}(),D=t.xb({encapsulation:0,styles:[["h3.dedupe_head[_ngcontent-%COMP%], h3.margin_zero[_ngcontent-%COMP%]{margin-top:0}.ok_footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem;border-top:1px solid #e9ecef}.text-center[_ngcontent-%COMP%]{text-align:center}.box_shadow[_ngcontent-%COMP%]{box-shadow:0 8px 6px -9px #000}.img-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}.modal_title[_ngcontent-%COMP%]{font-size:25px;font-family:fantasy;text-align:center;color:#1d1a4b}.modal_content[_ngcontent-%COMP%]{font-size:18px;font-family:fantasy;text-align:center;color:#494e50}.modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body.modal_coapp[_ngcontent-%COMP%]{text-align:left!important}.dedupe_head[_ngcontent-%COMP%]{font-size:14px;font-weight:700}#proceed_reason[_ngcontent-%COMP%], #reject_reason[_ngcontent-%COMP%]{width:350px;border-radius:1.5em;margin:auto auto 12px;border:1px solid #1d1a4b47}.reject_reason[_ngcontent-%COMP%]{color:#f58733;font-weight:bolder}.approve_reason[_ngcontent-%COMP%], .pending_reason[_ngcontent-%COMP%]{color:#1d1a4b;font-weight:bolder}.content[_ngcontent-%COMP%]{background:#fff;padding:25px 30px;border-radius:8px;border:1px solid #ddd;margin-bottom:20px}label.col-form-label[_ngcontent-%COMP%]{width:50%;padding-right:20px;padding-left:20px;font-weight:bolder;font-size:14px}.col-md-6.col-lg-6.col-sm-12.p-0[_ngcontent-%COMP%]{padding:0!important}label.col-form-label-two[_ngcontent-%COMP%]{width:50%;padding-right:20px;padding-left:20px;font-weight:bolder;font-size:14px;float:right}.col-lg-12.col-md-12.col-sm-12.lead_top[_ngcontent-%COMP%], .p-0[_ngcontent-%COMP%]{padding:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}.form-group.col-sm-6.col-md-2.col-lg-2.mobile_otp[_ngcontent-%COMP%]{width:20%}.back_color[_ngcontent-%COMP%]{color:#fff}#scroll_starts_here[_ngcontent-%COMP%]{height:400px;overflow-y:scroll;overflow-x:hidden}#nagative_list_results[_ngcontent-%COMP%]{background:#fff;padding:20px;border:1px solid #ddd;text-align:center}select#select_main_button_match[_ngcontent-%COMP%]{background-color:#6c757d;padding:6px;color:#fff;margin-bottom:1%}#apc_details[_ngcontent-%COMP%]{background:#dfdfdf;padding:10px;border:1px solid silver}#apc_result_text[_ngcontent-%COMP%]{color:#4d1d0c;font-weight:700}#apc_found_nl[_ngcontent-%COMP%]{width:14%;margin-left:35px;text-align:center}#apc_found_trnl[_ngcontent-%COMP%]{width:14%;text-align:center}#apc_exact_details[_ngcontent-%COMP%]{background-image:linear-gradient(141deg,#fff 0,#e5b69a 51%,#fff 95%);border:1px solid #cccc;padding:10px;margin-top:5px;box-shadow:0 10px 10px -11px #561ba3cc}.input_box[_ngcontent-%COMP%]{width:184px}.date_caps[_ngcontent-%COMP%]{text-transform:uppercase}.row.top_bar[_ngcontent-%COMP%]{margin:0;border:1px solid #ddd;font-weight:100;border-radius:6px;padding-top:15px;padding-bottom:10px;background:#fff}.form-group.mb-0[_ngcontent-%COMP%]{margin-bottom:3px}.basic_scroll[_ngcontent-%COMP%]{overflow-y:auto;max-height:400px;overflow-x:hidden}.multisteps-form__progress[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(0,1fr));margin:15px 0}.multisteps-form__progress-btn[_ngcontent-%COMP%]{position:relative;padding-top:20px;color:rgba(108,117,125,.7);text-indent:-9999px;border:none;background-color:transparent;outline:0!important;cursor:pointer;transition:.15s linear}@media (min-width:500px){.multisteps-form__progress-btn[_ngcontent-%COMP%]{text-indent:0}}@media (min-width:1200px){.container[_ngcontent-%COMP%]{width:1300px}}.multisteps-form__progress-btn[_ngcontent-%COMP%]:before{position:absolute;top:0;left:50%;display:block;width:13px;height:13px;content:'';transform:translateX(-50%);transition:all .15s linear 0s,transform .15s cubic-bezier(.05,1.09,.16,1.4) 0s;border:2px solid currentColor;border-radius:50%;background-color:#fff;box-sizing:border-box;z-index:3}.multisteps-form__progress-btn[_ngcontent-%COMP%]:after{position:absolute;top:5px;left:calc(-50% - 13px / 2);display:block;width:100%;height:2px;content:'';background-color:currentColor;z-index:1;transition:.15s linear}.multisteps-form__progress-btn[_ngcontent-%COMP%]:first-child:after{display:none}.multisteps-form__progress-btn.js-active[_ngcontent-%COMP%]{color:#272264;font-weight:600}.multisteps-form__progress-btn.js-active[_ngcontent-%COMP%]:before{transform:translateX(-50%) scale(1.2);background-color:currentColor}.multisteps-form__form[_ngcontent-%COMP%]{position:relative}.multisteps-form__panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:0;opacity:0;visibility:hidden}.multisteps-form__panel.js-active[_ngcontent-%COMP%]{height:auto;opacity:1;visibility:visible}.multisteps-form__panel[data-animation=scaleOut][_ngcontent-%COMP%]{transform:scale(1.1)}.multisteps-form__panel[data-animation=scaleOut].js-active[_ngcontent-%COMP%]{transform:scale(1);transition:.2s linear}.multisteps-form__panel[data-animation=slideHorz][_ngcontent-%COMP%]{left:50px}.multisteps-form__panel[data-animation=slideHorz].js-active[_ngcontent-%COMP%]{left:0;transition:.25s cubic-bezier(.2,1.13,.38,1.43)}.multisteps-form__panel[data-animation=slideVert][_ngcontent-%COMP%]{top:30px}.multisteps-form__panel[data-animation=slideVert].js-active[_ngcontent-%COMP%]{top:0;transition:.2s linear}.multisteps-form__panel[data-animation=fadeIn].js-active[_ngcontent-%COMP%]{transition:.3s linear}.multisteps-form__panel[data-animation=scaleIn][_ngcontent-%COMP%]{transform:scale(.9)}.multisteps-form__panel[data-animation=scaleIn].js-active[_ngcontent-%COMP%]{transform:scale(1);transition:.2s linear}.multisteps-form__form[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:20px;margin-top:4px}"]],data:{}});function y(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,41,"main",[["class","mar-top90"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"app-lead-section-header",[],null,null,null,o.b,o.a)),t.yb(2,114688,null,0,r.a,[s.a,u.o,c.a,d.a,u.a,b.a,p.i,h.a,f.a,m.a,v.a,g.a,_.a],null,null),(l()(),t.zb(3,0,null,null,38,"div",[["class","multisteps-form"]],null,null,null,null,null)),(l()(),t.zb(4,0,null,null,35,"div",[["class","multisteps-form__progress"]],null,null,null,null,null)),(l()(),t.zb(5,0,null,null,6,"button",[["class","multisteps-form__progress-btn js-active"],["id","sales_sourcinginfo"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,6).onClick()&&a),a}),null,null)),t.yb(6,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(7,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(9,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(10,{"js-active":0}),(l()(),t.Rb(-1,null,[" Lead Details "])),(l()(),t.zb(12,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_applicant_details"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,13).onClick()&&a),a}),null,null)),t.yb(13,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(14,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(16,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(17,{"js-active":0}),(l()(),t.Rb(-1,null,[" Applicant Details "])),(l()(),t.zb(19,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_vechicle_details"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,20).onClick()&&a),a}),null,null)),t.yb(20,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(21,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(23,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(24,{"js-active":0}),(l()(),t.Rb(-1,null,[" Vehicle Details "])),(l()(),t.zb(26,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_reference_details"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,27).onClick()&&a),a}),null,null)),t.yb(27,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(28,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(30,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(31,{"js-active":0}),(l()(),t.Rb(-1,null,[" Reference Details "])),(l()(),t.zb(33,0,null,null,6,"button",[["class","multisteps-form__progress-btn"],["id","sales_upload_documents"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,34).onClick()&&a),a}),null,null)),t.yb(34,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(35,1),t.Ob(512,null,p.C,p.D,[t.w,t.x,t.n,t.L]),t.yb(37,278528,null,0,p.k,[p.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(38,{"js-active":0}),(l()(),t.Rb(-1,null,[" Submit Lead "])),(l()(),t.zb(40,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.yb(41,212992,null,0,u.t,[u.b,t.W,t.l,[8,null],t.i],null,null)],(function(l,e){var n=e.component;l(e,2,0);var t=l(e,7,0,"./lead-details");l(e,6,0,t);var a=l(e,10,0,n.locationIndex>=0);l(e,9,0,"multisteps-form__progress-btn js-active",a);var i=l(e,14,0,"./applicant-list");l(e,13,0,i);var o=l(e,17,0,n.locationIndex>=1);l(e,16,0,"multisteps-form__progress-btn",o);var r=l(e,21,0,"./vehicle-list");l(e,20,0,r);var s=l(e,24,0,n.locationIndex>=2);l(e,23,0,"multisteps-form__progress-btn",s);var u=l(e,28,0,"./reference");l(e,27,0,u);var c=l(e,31,0,n.locationIndex>=3);l(e,30,0,"multisteps-form__progress-btn",c);var d=l(e,35,0,"./document-upload");l(e,34,0,d);var b=l(e,38,0,n.locationIndex>=4);l(e,37,0,"multisteps-form__progress-btn",b),l(e,41,0)}),null)}var S=t.vb("ng-component",C,(function(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,y,D)),t.yb(1,245760,null,0,C,[p.i,u.a,d.a,b.a],null,null)],(function(l,e){l(e,1,0)}),null)}),{},{},[]),x=n("vOfW"),I=n("GDRo"),k=n("zcu7"),M=n("vmSN"),O=n("hm7B"),P=n("aH6+"),w=n("aWac"),V=n("A1CT"),T=n("MKCQ"),z=n("TYdL"),H=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"ngOnInit",value:function(){console.log("LeadDetailsComponent")}},{key:"nextToApplicant",value:function(){console.log("nextToApplicant")}}]),l}(),L=t.xb({encapsulation:0,styles:[[""]],data:{}});function Y(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"app-sourcing-details",[],null,null,null,x.c,x.a)),t.yb(1,114688,null,0,I.a,[k.a,M.a,u.o,O.a,s.a,P.a,d.a,_.a,w.a,c.a,u.a,p.i,V.a,v.a,h.a,T.a,z.a,g.a],null,null)],(function(l,e){l(e,1,0)}),null)}var E=t.vb("ng-component",H,(function(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,Y,L)),t.yb(1,114688,null,0,H,[],null,null)],(function(l,e){l(e,1,0)}),null)}),{},{},[]),F=n("E03k"),R=n("OOiB"),A=n("Moo5"),j=n("s7LF"),U=n("HHV2"),J=n("e1tg"),G=n("q22S"),N=n("nCgp"),K=n("hdOT"),W=n("mrSG"),Z=function(){function l(e,n,t,a,i,o,r,s,u,c,d,b,p){_classCallCheck(this,l),this.applicantDataStoreService=e,this.createLeadDataService=n,this.commonDataService=t,this.toasterService=a,this.route=i,this.activatedRoute=o,this.labelsData=r,this.router=s,this.vehicleDetailService=u,this.loginStoreService=c,this.utilityService=d,this.sharedService=b,this.loanViewService=p,this.applicantList=[],this.routerId="0",this.udfScreenId="",this.udfGroupId="VLG002",this.udfDetails=[]}return _createClass(l,[{key:"ngOnInit",value:function(){return W.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e,n,t=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getLeadId();case 2:this.leadId=l.sent,this.applicantList=this.applicantDataStoreService.getApplicantList(),this.isLoan360=this.loanViewService.checkIsLoan360(),e=this.loginStoreService.getRolesAndUserDetails(),this.userId=e.userDetails.userId,(n=this.createLeadDataService.getLeadSectionData())&&n.vehicleCollateral&&(this.routerId=n.vehicleCollateral.length>0?n.vehicleCollateral[0].collateralId:"0"),this.leadId=n.leadId,this.productCatoryCode=n.leadDetails.productCatCode,this.labelsData.getLabelsData().subscribe((function(l){t.label=l}),(function(l){t.errorMsg=l})),this.labelsData.getScreenId().subscribe((function(l){t.udfScreenId=l.ScreenIDS.ADE.vehicleDetailADE})),this.sharedService.vaildateForm$.subscribe((function(l){t.formValue=l})),this.sharedService.userDefined$.subscribe((function(l){t.userDefineForm=l}));case 9:case"end":return l.stop()}}),l,this)})))}},{key:"getLeadId",value:function(){var l=this;return new Promise((function(e,n){l.activatedRoute.parent.params.subscribe((function(l){l&&l.leadId&&e(Number(l.leadId)),e(null)}))}))}},{key:"onNext",value:function(){var l=!0;if(this.userDefineForm&&(l=!this.userDefineForm.udfData||!!this.userDefineForm.udfData.valid),!this.formValue.invalid||l){var e=this.createLeadDataService.getLeadSectionData().leadDetails.productCatCode;"NCV"!==e&&"UCV"!==e&&"UC"!==e||this.applicantDataStoreService.findCoApplicant(this.applicantList)||this.toasterService.showInfo("There should be one Co-Applicant for this lead",""),"NCV"===e&&(this.applicantDataStoreService.checkFemaleAppForNCV(this.applicantList)||this.toasterService.showInfo("There should be atleast one FEMALE applicant for this lead","")),this.route.navigate(["pages/sales/".concat(this.leadId,"/reference")])}}},{key:"onFormSubmit",value:function(){var l=this,e=!0;if(this.userDefineForm&&(e=!this.userDefineForm.udfData||!!this.userDefineForm.udfData.valid),this.formValue.valid&&e){var n=this.formValue.value.vehicleFormArray[0];if(!1===this.formValue.value.isCheckDedpue)return void this.toasterService.showError("Please check dedupe","Vehicle Detail");this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber?(n&&n.fcExpiryDate&&(n.fcExpiryDate=n.fcExpiryDate?this.utilityService.convertDateTimeTOUTC(n.fcExpiryDate,"DD/MM/YYYY"):""),n.firFiled&&(n.firFiled=!0===n.firFiled?"1":"0"),n.onlineVerification&&(n.onlineVerification=!0===n.onlineVerification?"1":"0"),n.insuranceValidity&&(n.insuranceValidity=n.insuranceValidity?this.utilityService.convertDateTimeTOUTC(n.insuranceValidity,"DD/MM/YYYY"):""),n.accidentDate&&(n.accidentDate=n.accidentDate?this.utilityService.convertDateTimeTOUTC(n.accidentDate,"DD/MM/YYYY"):""),n.invoiceDate&&(n.invoiceDate=n.invoiceDate?this.utilityService.convertDateTimeTOUTC(n.invoiceDate,"DD/MM/YYYY"):""),"UCV"!==this.productCatoryCode&&"UC"!==this.productCatoryCode&&"UTCR"!==this.productCatoryCode||(n.manuFacMonthYear=this.utilityService.convertDateTimeTOUTC(n.manuFacMonthYear,"DD/MM/YYYY"),n.ageOfAsset=n.ageOfAsset?n.ageOfAsset.split(" ")[0]:null,n.ageAfterTenure=n.ageAfterTenure?n.ageAfterTenure.split(" ")[0]:null),n.udfDetails=[{udfGroupId:this.udfGroupId,udfData:JSON.stringify(this.userDefineForm&&this.userDefineForm.udfData?this.userDefineForm.udfData.getRawValue():{})}],this.vehicleDetailService.saveOrUpdateVehcicleDetails(n).subscribe((function(e){"0"===e.Error&&"0"===e.ProcessVariables.error.code?(l.toasterService.showSuccess("Record Saved/Updated Successfully","Vehicle List"),l.router.navigate(["pages/sales/"+l.leadId+"/vehicle-list"])):l.toasterService.showError(e.ErrorMessage?e.ErrorMessage:e.ProcessVariables.error.message,"Vehicle Details")}),(function(e){console.log(e,"error"),l.toasterService.showError(e,"Vehicle Details")}))):this.formValue.value.isInvalidMobileNumber?this.formValue.value.isValidPincode?this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber||this.toasterService.showError("Please enter valid pincode and mobile no","Invalid pincode & mobile no"):this.toasterService.showError("Please enter valid pincode","Invalid pincode"):this.toasterService.showError("applicant and dealer of vehicle owner mobile number both are same","Invalid mobile no")}else this.isDirty=!0,this.utilityService.validateAllFormFields(this.formValue),this.toasterService.showError("Please enter all mandatory field","Vehicle Detail")}}]),l}(),B=t.xb({encapsulation:0,styles:[[".cst_btm_btns[_ngcontent-%COMP%]{margin-bottom:25px!important}.btn-sec[_ngcontent-%COMP%]{margin:10px 2px}"]],data:{}});function X(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"app-shared-basic-vehicle-details",[],null,null,null,R.b,R.a)),t.yb(2,114688,null,0,A.a,[j.g,h.a,_.a,s.a,P.a,V.a,k.a,k.a,M.a,U.d,d.a,v.a,c.a,J.a,G.a,g.a,u.o,M.a,z.a,N.a,T.a,K.a,p.i],{id:[0,"id"],isDirty:[1,"isDirty"],udfScreenId:[2,"udfScreenId"],udfGroupId:[3,"udfGroupId"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.routerId,n.isDirty,n.udfScreenId,n.udfGroupId)}),null)}function $(l){return t.Tb(0,[(l()(),t.ob(16777216,null,null,1,null,X)),t.yb(1,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(l,e){l(e,1,0,e.component.label)}),null)}var q,Q=t.vb("app-vehicle-details",Z,(function(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"app-vehicle-details",[],null,null,null,$,B)),t.yb(1,114688,null,0,Z,[z.a,d.a,m.a,v.a,u.o,u.a,s.a,u.o,k.a,_.a,V.a,c.a,g.a],null,null)],(function(l,e){l(e,1,0)}),null)}),{},{},[]),ll=n("H+bZ"),el=n("AytR"),nl=n("N+K7"),tl=((q=function(){function l(e,n){_classCallCheck(this,l),this.apiService=e,this.httpService=n,this.saveToCredit=this.apiService.api.submitToCredit}return _createClass(l,[{key:"submitToCredit",value:function(l){var e=this.saveToCredit.projectId,n=this.saveToCredit.workflowId,t={processId:this.saveToCredit.processId,workflowId:n,projectId:e,ProcessVariables:Object.assign({},l)};return this.httpService.post("".concat(el.a.host,"d/workflows/").concat(n,"/").concat(el.a.apiVersion.api,"execute?projectId=").concat(e),t)}}]),l}()).ngInjectableDef=t.Vb({factory:function(){return new q(t.Zb(ll.a),t.Zb(nl.a))},token:q,providedIn:"root"}),q),al=function(){function l(e,n,t,a,i,o){_classCallCheck(this,l),this.aRoute=e,this.router=n,this.doucmentUploadService=t,this.toStarService=a,this.loanViewService=i,this.sharedService=o,this.isModelShow=!1}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.isLoan360=this.loanViewService.checkIsLoan360(),this.aRoute.parent.params.subscribe((function(e){return l.leadId=e.leadId})),this.sharedService.taskId$.subscribe((function(e){return l.taskId=e||""}))}},{key:"submitToCredit",value:function(){var l=this,e={userId:localStorage.getItem("userId"),leadId:Number(this.leadId),taskId:this.taskId};console.log("submit call"),this.doucmentUploadService.submitToCredit(e).subscribe((function(e){e.Error&&0==e.Error&&0==e.ProcessVariables.error.code?(l.errorMessage="Lead is submitted to credit successfully",l.isModelShow=!0):l.toStarService.showError(e.ProcessVariables.error.message,"Submit To Credit")}))}},{key:"navigateToDashBoard",value:function(){this.isModelShow=!1,this.router.navigateByUrl("/pages/dashboard")}}]),l}(),il=t.xb({encapsulation:0,styles:[[".dis-block[_ngcontent-%COMP%]{display:block}"]],data:{}});function ol(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary dash_href"],["data-target","#sumbitModal"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Submit To Credit "]))],null,null)}function rl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,10,"div",[["id","overlay"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,9,"div",[["id","text"]],null,null,null,null,null)),(l()(),t.zb(2,0,null,null,8,"div",[["class","panel"]],null,null,null,null,null)),(l()(),t.zb(3,0,null,null,7,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),t.zb(4,0,null,null,6,"div",[["class","modal-dialog"]],null,null,null,null,null)),(l()(),t.zb(5,0,null,null,5,"div",[["class","modal-body"],["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.zb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Rb(7,null,["",""])),(l()(),t.zb(8,0,null,null,2,"div",[["class","btn-wrap"]],null,null,null,null,null)),(l()(),t.zb(9,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.navigateToDashBoard()&&t),t}),null,null)),(l()(),t.Rb(-1,null,[" OK "]))],null,(function(l,e){l(e,7,0,e.component.errorMessage)}))}function sl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,16,"div",[["class","content"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,5,"form",[["class","multisteps-form__form basic_scroll"],["method","POST"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,e,n){var a=!0;return"submit"===e&&(a=!1!==t.Jb(l,3).onSubmit(n)&&a),"reset"===e&&(a=!1!==t.Jb(l,3).onReset()&&a),a}),null,null)),t.yb(2,16384,null,0,j.I,[],null,null),t.yb(3,4210688,null,0,j.u,[[8,null],[8,null]],null,null),t.Ob(2048,null,j.c,null,[j.u]),t.yb(5,16384,null,0,j.t,[[4,j.c]],null,null),(l()(),t.zb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.zb(7,0,null,null,9,"div",[["class","btn-sec clear-both row mar-btn"]],null,null,null,null,null)),(l()(),t.zb(8,0,null,null,0,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),t.zb(9,0,null,null,7,"div",[["class","col-sm-7 text-right"]],null,null,null,null,null)),(l()(),t.zb(10,0,null,null,4,"button",[["class","btn btn-primary dash_href hvr-sweep-to-left"],["type","button"]],null,null,null,null,null)),(l()(),t.zb(11,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&a),a}),null,null)),t.yb(12,671744,null,0,u.r,[u.o,u.a,p.j],{routerLink:[0,"routerLink"]},null),t.Kb(13,1),(l()(),t.Rb(-1,null,["Back"])),(l()(),t.ob(16777216,null,null,1,null,ol)),t.yb(16,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(l()(),t.zb(17,0,null,null,14,"div",[["class","modal"],["id","sumbitModal"]],null,null,null,null,null)),(l()(),t.zb(18,0,null,null,13,"div",[["class","modal-dialog modal-center"]],null,null,null,null,null)),(l()(),t.zb(19,0,null,null,12,"div",[["class","modal-content"],["style","text-align: center"]],null,null,null,null,null)),(l()(),t.zb(20,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.zb(21,0,null,null,0,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.zb(22,0,null,null,1,"button",[["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" \xd7 "])),(l()(),t.zb(24,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.zb(25,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Are you sure you want to submit to credit?"])),(l()(),t.zb(27,0,null,null,4,"div",[["class","modal-footer"],["style","text-align: center"]],null,null,null,null,null)),(l()(),t.zb(28,0,null,null,1,"button",[["class","btn btn-success"],["data-dismiss","modal"],["id","reject_yes_val"],["type","button"],["value","Yes"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.submitToCredit()&&t),t}),null,null)),(l()(),t.Rb(-1,null,[" Yes "])),(l()(),t.zb(30,0,null,null,1,"button",[["class","btn btn-danger"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Cancel "])),(l()(),t.ob(16777216,null,null,1,null,rl)),t.yb(33,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component,t=l(e,13,0,"../reference");l(e,12,0,t),l(e,16,0,!n.isLoan360),l(e,33,0,n.isModelShow)}),(function(l,e){l(e,1,0,t.Jb(e,5).ngClassUntouched,t.Jb(e,5).ngClassTouched,t.Jb(e,5).ngClassPristine,t.Jb(e,5).ngClassDirty,t.Jb(e,5).ngClassValid,t.Jb(e,5).ngClassInvalid,t.Jb(e,5).ngClassPending),l(e,11,0,t.Jb(e,12).target,t.Jb(e,12).href)}))}var ul=t.vb("ng-component",al,(function(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,sl,il)),t.yb(1,114688,null,0,al,[u.a,u.o,tl,v.a,g.a,c.a],null,null)],(function(l,e){l(e,1,0)}),null)}),{},{},[]),cl=function(){function l(e,n,t,a,i,o,r,s,u,c){_classCallCheck(this,l),this.labelsData=e,this.router=n,this.activatedRoute=t,this.createLeadDataService=a,this.vehicleDetailService=i,this.loginStoreService=o,this.utilityService=r,this.sharedService=s,this.toasterService=u,this.loanViewService=c,this.label={},this.routerId=0,this.udfScreenId="",this.udfGroupId="VLG002",this.udfDetails=[]}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.isLoan360=this.loanViewService.checkIsLoan360();var e=this.loginStoreService.getRolesAndUserDetails();this.userId=e.userDetails.userId;var n=this.createLeadDataService.getLeadSectionData();this.leadId=n.leadId,this.productCatoryCode=n.leadDetails.productCatCode,this.labelsData.getLabelsData().subscribe((function(e){l.label=e}),(function(e){l.errorMsg=e})),this.labelsData.getScreenId().subscribe((function(e){l.udfScreenId=e.ScreenIDS.ADE.vehicleDetailADE})),this.activatedRoute.params.subscribe((function(e){l.routerId=e?e.vehicleId:null})),this.sharedService.vaildateForm$.subscribe((function(e){l.formValue=e})),this.sharedService.userDefined$.subscribe((function(e){l.userDefineForm=e}))}},{key:"onFormSubmit",value:function(){var l=this,e=!0;if(this.userDefineForm&&(e=!this.userDefineForm.udfData||!!this.userDefineForm.udfData.valid),this.formValue.valid&&e){var n=this.formValue.value.vehicleFormArray[0];if(!1===this.formValue.value.isCheckDedpue)return void this.toasterService.showError("Please check dedupe","Vehicle Detail");this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber?(n&&n.fcExpiryDate&&(n.fcExpiryDate=n.fcExpiryDate?this.utilityService.convertDateTimeTOUTC(n.fcExpiryDate,"DD/MM/YYYY"):""),n.firFiled&&(n.firFiled=!0===n.firFiled?"1":"0"),n.onlineVerification&&(n.onlineVerification=!0===n.onlineVerification?"1":"0"),n.insuranceValidity&&(n.insuranceValidity=n.insuranceValidity?this.utilityService.convertDateTimeTOUTC(n.insuranceValidity,"DD/MM/YYYY"):""),n.accidentDate&&(n.accidentDate=n.accidentDate?this.utilityService.convertDateTimeTOUTC(n.accidentDate,"DD/MM/YYYY"):""),n.invoiceDate&&(n.invoiceDate=n.invoiceDate?this.utilityService.convertDateTimeTOUTC(n.invoiceDate,"DD/MM/YYYY"):""),"UCV"!==this.productCatoryCode&&"UC"!==this.productCatoryCode&&"UTCR"!==this.productCatoryCode||(n.manuFacMonthYear=this.utilityService.convertDateTimeTOUTC(n.manuFacMonthYear,"DD/MM/YYYY"),n.ageOfAsset=n.ageOfAsset?n.ageOfAsset.split(" ")[0]:null,n.ageAfterTenure=n.ageAfterTenure?n.ageAfterTenure.split(" ")[0]:null),n.udfDetails=[{udfGroupId:this.udfGroupId,udfData:JSON.stringify(this.userDefineForm&&this.userDefineForm.udfData?this.userDefineForm.udfData.getRawValue():{})}],this.vehicleDetailService.saveOrUpdateVehcicleDetails(n).subscribe((function(e){"0"===e.Error&&"0"===e.ProcessVariables.error.code?(l.toasterService.showSuccess("Record Saved/Updated Successfully","Vehicle List"),l.router.navigate(["pages/sales/"+l.leadId+"/vehicle-list"])):l.toasterService.showError(e.ErrorMessage?e.ErrorMessage:e.ProcessVariables.error.message,"Vehicle Details")}),(function(e){console.log(e,"error"),l.toasterService.showError(e,"Vehicle Details")}))):this.formValue.value.isInvalidMobileNumber?this.formValue.value.isValidPincode?this.formValue.value.isValidPincode&&this.formValue.value.isInvalidMobileNumber||this.toasterService.showError("Please enter valid pincode and mobile no","Invalid pincode & mobile no"):this.toasterService.showError("Please enter valid pincode","Invalid pincode"):this.toasterService.showError("applicant and dealer of vehicle owner mobile number both are same","Invalid mobile no")}else this.isDirty=!0,this.utilityService.validateAllFormFields(this.formValue),this.toasterService.showError("Please enter all mandatory field","Vehicle Detail")}}]),l}(),dl=t.xb({encapsulation:0,styles:[["#clickbutton[_ngcontent-%COMP%]{margin-bottom:40px}.content[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.btn-sec[_ngcontent-%COMP%]{margin:10px 2px}"]],data:{}});function bl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary "],["type","button"]],null,[[null,"click"]],(function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onFormSubmit()&&t),t}),null,null)),(l()(),t.Rb(1,null,[" "," "]))],null,(function(l,e){l(e,1,0,e.component.label.save)}))}function pl(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,11,"div",[["class","content"]],null,null,null,null,null)),(l()(),t.zb(1,0,null,null,1,"app-shared-basic-vehicle-details",[],null,null,null,R.b,R.a)),t.yb(2,114688,null,0,A.a,[j.g,h.a,_.a,s.a,P.a,V.a,k.a,k.a,M.a,U.d,d.a,v.a,c.a,J.a,G.a,g.a,u.o,M.a,z.a,N.a,T.a,K.a,p.i],{id:[0,"id"],isDirty:[1,"isDirty"],udfScreenId:[2,"udfScreenId"],udfGroupId:[3,"udfGroupId"]},null),(l()(),t.zb(3,0,null,null,8,"div",[["class","btn-sec clear-both row"],["id","clickbutton"]],null,null,null,null,null)),(l()(),t.zb(4,0,null,null,0,"div",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),t.zb(5,0,null,null,6,"div",[["class","col-sm-7 text-right"]],null,null,null,null,null)),(l()(),t.zb(6,0,null,null,3,"button",[["class","btn btn-primary js-btn-prev"],["type","button"]],null,[[null,"click"]],(function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t.Jb(l,7).onClick()&&a),a}),null,null)),t.yb(7,16384,null,0,u.p,[u.o,u.a,[8,null],t.L,t.n],{routerLink:[0,"routerLink"]},null),t.Kb(8,1),(l()(),t.Rb(9,null,[" "," "])),(l()(),t.ob(16777216,null,null,1,null,bl)),t.yb(11,16384,null,0,p.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(l,e){var n=e.component;l(e,2,0,n.routerId,n.isDirty,n.udfScreenId,n.udfGroupId);var t=l(e,8,0,"../../vehicle-list");l(e,7,0,t),l(e,11,0,!n.isLoan360)}),(function(l,e){l(e,9,0,e.component.label.back)}))}var hl=t.vb("app-addvehicle",cl,(function(l){return t.Tb(0,[(l()(),t.zb(0,0,null,null,1,"app-addvehicle",[],null,null,null,pl,dl)),t.yb(1,114688,null,0,cl,[s.a,u.o,u.a,d.a,k.a,_.a,V.a,c.a,v.a,g.a],null,null)],(function(l,e){l(e,1,0)}),null)}),{},{},[]),fl=n("MMke"),ml=n("atuK"),vl=n("P3h3"),gl=n("7+zM"),_l=n("YuwJ"),Cl=n("pV/K"),Dl=n("6D8i"),yl=n("KQa7"),Sl=n("blED"),xl=n("0sTW"),Il=n("ozF/"),kl=n("VKg4"),Ml=n("ZAW4"),Ol=n("xkgV"),Pl=n("OoJn"),wl=n("prmK"),Vl=n("Rwcf"),Tl=n("PrTX"),zl=n("5GAg"),Hl=n("/HVE"),Ll=n("DkaU"),Yl=n("E5UL"),El=n("2uy1"),Fl=n("z/SZ"),Rl=n("ienR"),Al=n("EIjh"),jl=n("V/I2"),Ul=n("Ph68"),Jl=function l(){_classCallCheck(this,l)},Gl=n("P1eI"),Nl=n("IP0z"),Kl=n("Xd0L"),Wl=n("cUpR"),Zl=n("AaDx"),Bl=n("Gi4r"),Xl=n("YD+O"),$l=n("s7Le"),ql=n("FpXt"),Ql=n("J/W2"),le=n("ppaR"),ee=n("qtC7"),ne=n("57Gz"),te=n("Tc9+"),ae=n("Sasb"),ie=n("71i7"),oe=n("8ZSH"),re=n("BJNQ"),se=n("H/zF"),ue=n("+31S"),ce=n("Z7Cg");n.d(e,"SalesModuleNgFactory",(function(){return de}));var de=t.wb(a,[],(function(l){return t.Gb([t.Hb(512,t.l,t.jb,[[8,[i.a,S,E,F.a,Q,ul,hl,fl.a,ml.a,ml.c,ml.b,ml.d,vl.a,gl.e,gl.f,_l.a,Cl.a,Dl.a,x.b,yl.a,Sl.a,xl.a,Il.a,kl.a,Ml.a]],[3,t.l],t.C]),t.Hb(4608,j.F,j.F,[]),t.Hb(4608,j.g,j.g,[]),t.Hb(4608,p.o,p.n,[t.y,[2,p.H]]),t.Hb(4608,Ol.e,Ol.e,[]),t.Hb(4608,Pl.e,Pl.e,[]),t.Hb(4608,Pl.j,Pl.j,[]),t.Hb(4608,Pl.F,Pl.F,[]),t.Hb(4608,Pl.P,Pl.P,[wl.b]),t.Hb(4608,Pl.rb,Pl.rb,[wl.b]),t.Hb(4608,Pl.qb,Pl.qb,[wl.b]),t.Hb(135680,Vl.g,Vl.g,[t.E]),t.Hb(4608,Tl.g,Tl.g,[t.g,t.l,t.u,[2,Tl.d]]),t.Hb(135680,zl.b,zl.b,[t.E,Hl.a]),t.Hb(4608,Ll.f,Ll.f,[t.T]),t.Hb(4608,Yl.s,Yl.s,[]),t.Hb(4608,Yl.x,Yl.x,[t.l,Yl.s]),t.Hb(4608,El.a,El.a,[t.E,t.M,t.H]),t.Hb(4608,Fl.a,Fl.a,[t.l,t.E,t.u,El.a,t.g]),t.Hb(4608,Rl.r,Rl.r,[]),t.Hb(4608,Rl.t,Rl.t,[]),t.Hb(4608,Rl.a,Rl.a,[]),t.Hb(4608,Rl.f,Rl.f,[]),t.Hb(4608,Rl.c,Rl.c,[]),t.Hb(4608,Rl.h,Rl.h,[]),t.Hb(4608,Rl.j,Rl.j,[]),t.Hb(4608,Rl.s,Rl.s,[Rl.t,Rl.j]),t.Hb(4608,Al.a,Al.a,[nl.a,ll.a,u.o,c.a,g.a]),t.Hb(1073742336,u.s,u.s,[[2,u.x],[2,u.o]]),t.Hb(1073742336,Jl,Jl,[]),t.Hb(1073742336,Gl.a,Gl.a,[]),t.Hb(1073742336,j.E,j.E,[]),t.Hb(1073742336,j.n,j.n,[]),t.Hb(1073742336,j.A,j.A,[]),t.Hb(1073742336,p.c,p.c,[]),t.Hb(1073742336,Rl.e,Rl.e,[]),t.Hb(1073742336,Ol.a,Ol.a,[]),t.Hb(1073742336,wl.a,wl.a,[]),t.Hb(1073742336,Vl.c,Vl.c,[]),t.Hb(1073742336,Pl.p,Pl.p,[]),t.Hb(1073742336,Pl.b,Pl.b,[]),t.Hb(1073742336,Pl.bb,Pl.bb,[]),t.Hb(1073742336,Pl.pb,Pl.pb,[]),t.Hb(1073742336,Pl.h,Pl.h,[]),t.Hb(1073742336,Vl.i,Vl.i,[]),t.Hb(1073742336,Tl.f,Tl.f,[]),t.Hb(1073742336,Pl.v,Pl.v,[]),t.Hb(1073742336,Ll.d,Ll.d,[]),t.Hb(1073742336,Nl.a,Nl.a,[]),t.Hb(1073742336,Kl.l,Kl.l,[[2,Kl.e],[2,Wl.f]]),t.Hb(1073742336,Zl.c,Zl.c,[]),t.Hb(1073742336,Bl.c,Bl.c,[]),t.Hb(1073742336,Yl.o,Yl.o,[]),t.Hb(1073742336,Vl.b,Vl.b,[]),t.Hb(1073742336,Yl.v,Yl.v,[]),t.Hb(1073742336,Xl.b,Xl.b,[]),t.Hb(1073742336,$l.c,$l.c,[]),t.Hb(1073742336,ql.a,ql.a,[]),t.Hb(1073742336,Ql.a,Ql.a,[]),t.Hb(1073742336,le.a,le.a,[]),t.Hb(1073742336,a,a,[]),t.Hb(1024,u.m,(function(){return[[{path:":leadId",component:C,resolve:{leadData:Al.a},children:[{path:"lead-details",component:H},{path:"applicant-list",component:jl.a},{path:"vehicle-list",component:Z},{path:"document-upload",component:al},{path:"add-vehicle/:vehicleId",component:cl},{path:"reference",component:Ul.a}]}],[{path:":leadId/co-applicant/:applicantId",component:ee.a,resolve:{leadData:Al.a}},{path:":leadId/co-applicant",component:ee.a,resolve:{leadData:Al.a}},{path:":leadId/sales-exact-match",component:ne.a,resolve:{leadData:Al.a}},{path:":leadId",component:te.a,resolve:{leadData:Al.a},children:[{path:"",component:I.a},{path:"vehicle-list",component:ae.a},{path:"applicant-details",component:ie.a},{path:"add-vehicle/:vehicleId",component:oe.a},{path:"credit-score",component:re.a},{path:"exact-match",component:se.a},{path:"otp-section/:id",component:ue.a}]}]]}),[]),t.Hb(256,Pl.ab,ce.a,[])])}))}}]);