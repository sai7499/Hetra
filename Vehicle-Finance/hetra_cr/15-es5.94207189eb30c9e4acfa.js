function _defineProperty(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,n){var l;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(l=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){l&&(e=l);var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){l=e[Symbol.iterator]()},n:function(){var e=l.next();return o=e.done,e},e:function(e){u=!0,r=e},f:function(){try{o||null==l.return||l.return()}finally{if(u)throw r}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=new Array(n);l<n;l++)t[l]=e[l];return t}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var l=0;l<n.length;l++){var t=n[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,l){return n&&_defineProperties(e.prototype,n),l&&_defineProperties(e,l),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{JTaS:function(e,n,l){"use strict";l.d(n,"a",(function(){return a}));var t=l("8Y7J"),a=function(){var e=function(){function e(){_classCallCheck(this,e),this.base64Obj={}}return _createClass(e,[{key:"storeString",value:function(e,n){this.base64Obj[e]=n}},{key:"getString",value:function(e){return this.base64Obj[e]}}]),e}();return e.ngInjectableDef=t.Vb({factory:function(){return new e},token:e,providedIn:"root"}),e}()},"TjU/":function(e,n,l){"use strict";l.d(n,"a",(function(){return o}));var t=l("mrSG"),a=l("s7LF"),r=(l("nrvr"),l("5pZN"),l("e1tg"),l("aH6+"),l("jT/F"),l("A1CT"),l("JTaS"),l("FtYB"),l("Ymxs"),l("6z0v"));l("89oD"),l("owZw");var o=function(){function e(n,l,t,a,o,u,i,c,s,d,p,m,b){_classCallCheck(this,e),this.lovData=n,this.router=l,this.labelsData=t,this.applicantService=a,this.location=o,this.sharedService=u,this.lovService=i,this.uploadService=c,this.utilityService=s,this.base64StorageService=d,this.draggableContainerService=p,this.toasterService=m,this.loanViewService=b,this.PROFILE_SIZE=r.a.PROFILE_IMAGE_SIZE,this.PROFILE_TYPE=r.a.PROFILE_ALLOWED_TYPES,this.OTHER_DOCS_TYPE=r.a.OTHER_DOCUMENTS_ALLOWED_TYPES,this.values=[],this.labels={},this.applicantCategory={},this.setCss={top:"",left:""},this.toDayDate=new Date,this.subCategories=[],this.FORM_ARRAY_NAME="subCategory",this.docListObj={},this.uploadedDocs={},this.documentArr=[],this.udfScreenId="RCS002",this.udfDetails=[],this.udfGroupId="RCG001",this.docsValidation={},this.isNewUpload=!1,this.docError={},this.docNumberError=!0,this.documentRoleArray={},this.subcategotyDocsId={},this.isPreDisEnable={},this.isReqApprove={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoan360=this.loanViewService.checkIsLoan360(),this.uploadForm=new a.k({}),this.labelsData.getLabelsData().subscribe((function(n){e.labels=n,e.validationData=n.validationData,e.setDocumentValidation(),console.log("valid",e.docsValidation)}),(function(e){console.log(e)})),this.labelsData.getScreenId().subscribe((function(n){e.jsonScreenId=n.ScreenIDS,e.udfScreenId=e.jsonScreenId.Common.documentUploadCommon})),this.lovData.getLovData().subscribe((function(n){e.values=n[0].applicantDocument[0]}));var n=this.location.path();this.isApplicantDetails=!!n.includes("sales-applicant-details"),console.log(n,"isApplicantDetails",this.isApplicantDetails)}},{key:"getApplicantDetails",value:function(){var e=this;this.applicantService.getApplicantDetail({applicantId:this.applicantId}).subscribe((function(n){var l=Object.assign({},n.ProcessVariables);console.log("applicant",l);var t=l.indivIdentityInfoDetails,a=l.corporateProspectDetails;t?(e.passport=t.passportNumber,e.panCard=t.pan,e.voterId=t.voterIdNumber,e.drivingLicence=t.drivingLicenseNumber,e.aadharCard=t.aadhar):a&&(e.passport=a.passportNumber,e.panCard=a.panNumber,e.voterId=a.voterIdNumber,e.drivingLicence=a.drivingLicenseNumber,e.aadharCard=a.aadhar)}))}},{key:"getApplicantDocumentCategory",value:function(e){var n=this;if(console.log("this.subCategories",this.subCategories),this.subCategories.forEach((function(e){var l=n.uploadForm.get("".concat(n.FORM_ARRAY_NAME,"_").concat(e.code));l&&l.clear()})),this.applicantId=e,this.applicantCategory[e])this.getSubCategoryForApplicant(this.applicantCategory[e]);else{var l={applicantId:e,associatedWith:this.associatedWith};this.documentCategorySubs$&&this.documentCategorySubs$.unsubscribe(),this.documentCategorySubs$=this.applicantService.getDocumentCategory(l).subscribe((function(l){n.documentCategorySubs$.unsubscribe(),"0"===l.Error&&(n.applicantCategory[e]=l.ProcessVariables.categoryCodes,n.getSubCategoryForApplicant(n.applicantCategory[e]))}))}}},{key:"getSubCategoryForApplicant",value:function(e){this.getCategoriesDetails(e)}},{key:"getCategoriesDetails",value:function(e){var n=this;console.log("categoryCode",e);var l=this.lovService.getDocumentCategories();this.categories=[],e.forEach((function(e){if(e){var t=l.find((function(n){return n.code===Number(e)}));t&&n.categories.push(t)}})),console.log("this.categories",this.categories);var t,a=[],r=_createForOfIteratorHelper(this.categories.map((function(e){return e.subcategories})));try{for(r.s();!(t=r.n()).done;){var o=t.value;a=[].concat(_toConsumableArray(a),_toConsumableArray(o))}}catch(u){r.e(u)}finally{r.f()}if(this.subCategories=a,this.applicantId)return this.constructOnlyFormArray(),void this.setDocumentDetails();this.constructFormForUpload()}},{key:"downloadForLoan360",value:function(e,n,l){this.isLoan360&&this.downloadDocs(e,n,l)}},{key:"setDocumentDetails",value:function(){var e=this;this.uploadService.getDocumentDetails(this.applicantId,this.associatedWith).subscribe((function(n){console.log("doc details",n);var l=n.ProcessVariables,t=l.documentDetails;e.apiRes=l.documentDetails||[],e.documentArr=t||[];var a=l.photo,r=l.signature;if(a&&(e.DEFAULT_PROFILE_IMAGE="data:image/jpeg;base64,"+a),r&&(e.DEFAULT_SIGNATURE_IMAGE="data:image/jpeg;base64,"+r),console.log("this.documentArr",e.documentArr),!t)return e.subCategories.forEach((function(n){e.uploadForm.get("".concat(e.FORM_ARRAY_NAME,"_").concat(n.code)).push(e.getDocsFormControls())})),void(e.isLoan360&&e.uploadForm.disable());t.forEach((function(n,l){var t=e.uploadForm.get("".concat(e.FORM_ARRAY_NAME,"_").concat(n.subCategoryCode));e.documentRoleArray[l]=[],t&&(t.push(e.getDocsFormControls(n)),e.documentRoleArray[l]=[{key:n.documentRoleId,value:n.documentRoleName}],e.toggleDeferralDate(n.subCategoryCode,l))})),e.setUploadDocsValue(t);var o=e.sharedService.getIsPdcData();if(o){var u=e.uploadForm.get("".concat(e.FORM_ARRAY_NAME,"_").concat(o.subCatCode));u.push(e.getDocsFormControls()),u.controls[u.length-1].get("documentName").setValue(o.code)}e.documentArr.forEach((function(n){n.documentType&&(e.subcategotyDocsId[n.subCategoryCode]=!0)})),e.subCategories.forEach((function(n){var l=e.uploadForm.get("".concat(e.FORM_ARRAY_NAME,"_").concat(n.code));0===l.length&&l.push(e.getDocsFormControls())})),e.isLoan360&&e.uploadForm.disable()}))}},{key:"setUploadDocsValue",value:function(e){var n=this;e.forEach((function(e){n.uploadedDocs=_defineProperty({},e.subCategoryCode,_defineProperty({},e.documentName,e))}))}},{key:"constructOnlyFormArray",value:function(){var e=this;this.subCategories.forEach((function(n){e.uploadForm.addControl("".concat(e.FORM_ARRAY_NAME,"_").concat(n.code),new a.e([]))}))}},{key:"constructFormForUpload",value:function(){var e=this;console.log("before this.uploadForm",this.uploadForm.value),this.subCategories.forEach((function(n){e.uploadForm.addControl("".concat(e.FORM_ARRAY_NAME,"_").concat(n.code),new a.e([e.getDocsFormControls()]))}))}},{key:"toggleDeferralDate",value:function(e,n){var l=this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(e)).at(n);console.log("checked value",l.get("isDeferred").value),l.get("isDeferred").value?(l.get("deferredDate").enable(),this.docNumberError=!1,"true"===localStorage.getItem("isPreDisbursement")?(this.isPreDisEnable[n]=!0,l.get("receivedBy").setValidators(a.D.required),l.get("receivedBy").updateValueAndValidity()):(this.isPreDisEnable[n]=!1,l.get("receivedBy").clearAsyncValidators(),l.get("receivedBy").updateValueAndValidity())):(l.get("deferredDate").disable(),l.get("deferredDate").setValue(null),this.docNumberError=!0)}},{key:"getDocsFormControls",value:function(e){var n=e||{},l="1"===n.isDeferred;return new a.k({documentName:new a.h(n.documentName||""),documentNumber:new a.h(n.documentNumber||""),issueDate:new a.h(this.utilityService.getDateFromString(n.issueDate)||""),expiryDate:new a.h(this.utilityService.getDateFromString(n.expiryDate)||""),file:new a.h(n.dmsDocumentId||""),documentId:new a.h(n.documentId||0),isDeferred:new a.h(l),deferredDate:new a.h({value:this.utilityService.getDateFromString(n.deferredDate)||"",disabled:!l}),receivedBy:new a.h(n.documentRoleId||""),deferralStatus:new a.h(n.deferralStatus||"0")})}},{key:"onBack",value:function(){this.location.back()}},{key:"navigateToApplicantList",value:function(){this.router.navigateByUrl("/pages/sales/".concat(this.leadId,"/applicant-list"))}},{key:"removeDocumentFormControls",value:function(e,n){var l=this.uploadForm.get(e),t=l.at(n).get("documentId");if(0===t.value){l.removeAt(n);var a=l.length;return l.removeAt(n),void(0===a&&l.push(this.getDocsFormControls()))}this.selectedDocsId=t?{formArrayName:e,index:n,docsId:t.value}:null,console.log("docsId",this.selectedDocsId)}},{key:"deleteDocument",value:function(){var e=this;this.uploadService.softDeleteDocument(this.selectedDocsId.docsId).subscribe((function(n){if("0"===n.Error){e.toasterService.showSuccess("Document deleted successfully","");var l=e.uploadForm.get(e.selectedDocsId.formArrayName);l.removeAt(e.selectedDocsId.index);var t=l.length;e.documentArr=e.documentArr.filter((function(n){return n.documentId!==Number(e.selectedDocsId.docsId)})),e.selectedDocsId=null,0===t&&l.push(e.getDocsFormControls()),console.log("delete document",n)}}))}},{key:"addDocumentFormControls",value:function(e){var n=this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(e)),l=new a.k({documentName:new a.h(""),documentNumber:new a.h(""),issueDate:new a.h(""),expiryDate:new a.h(""),file:new a.h(""),documentId:new a.h(0),deferredDate:new a.h({value:"",disabled:!0}),isDeferred:new a.h(""),receivedBy:new a.h(""),deferralStatus:new a.h("0")});n.push(l)}},{key:"onDocumentSelect",value:function(e,n,l){var t=this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(n));console.log("index",l);var a=t.at(l).get("documentNumber");a.setValue(null),a.enable(),this.docListObj[n]=e,console.log("onDocumentSelect",e,n);var r=e.code;if(12===r&&this.passport)return a.setValue(this.passport),void a.disable();if(13===r&&this.drivingLicence)return a.setValue(this.drivingLicence),void a.disable();if(14===r&&this.aadharCard)return a.setValue(this.aadharCard),void a.disable();if(15===r&&this.voterId)return a.setValue(this.voterId),void a.disable();if(16===r&&this.panCard)return a.setValue(this.panCard),void a.disable();var o=t.at(l).get("documentName").value;console.log("docValue",o)}},{key:"onDocumentNumberPress",value:function(e,n,l){if(11===l||12===l||13===l||15===l||16===l){var t=e.target.value,a=this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(l));console.log("formArray.at[index]",a.at(n)),a.at(n).get("documentNumber").setValue(String(t).toUpperCase())}}},{key:"setDocumentValidation",value:function(){var e=this.validationData.passportNumber;this.docsValidation[12]={pattern:e.patternCheck.rule,maxLength:e.maxLength.rule,patternMsg:e.patternCheck.msg};var n=this.validationData.drivingLicense;this.docsValidation[13]={pattern:n.patternCheck.rule,maxLength:n.maxLength.rule,patternMsg:n.patternCheck.msg};var l=this.validationData.adhaarNumber;this.docsValidation[14]={pattern:l.patternCheck.rule,maxLength:l.maxLength.rule,patternMsg:l.patternCheck.msg};var t=this.validationData.voterId;this.docsValidation[15]={pattern:t.patternCheck.rule,maxLength:t.maxLength.rule,patternMsg:t.patternCheck.msg};var a=this.validationData.panNumber;this.docsValidation[16]={pattern:a.patternCheck.rule,maxLength:a.maxLength.rule,patternMsg:a.patternCheck.msg}}},{key:"docsList",value:function(e){return this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(e))||{}}},{key:"onPanelClick",value:function(e){}},{key:"uploadDocument",value:function(e,n,l,t,a,r){var o;this.categories.forEach((function(e){e.subcategories.forEach((function(n){n.code===l.code&&(o=e)}))})),this.selectedDocsType=e;var u=this.uploadForm.get(e).at(n),i=u.get("issueDate").value||"",c=u.get("expiryDate").value||"",s=u.get("documentNumber").value,d=u.get("documentId").value,p=u.get("documentName").value,m=u.get("isDeferred").value,b=u.get("deferredDate").value;if(!r){if(!p)return this.toasterService.showError("Please select the document name","");if(!s)return this.toasterService.showError("Please enter the document number","");if(u.get("documentNumber").invalid)return this.toasterService.showError("Please enter valid document number","")}if(m&&!b)return this.toasterService.showError("Please enter the deferral date","");void 0!==n&&(this.selectedIndex=n),this.showModal=!0;var g=this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(l.code)).at(n).get("documentName").value,h="Addition of document for Applicant Creation";50!==o.code||1!==l.code&&2!==l.code||(g=l.docList[0].code,this.docListObj[l.code]=l.docList[0],h=this.docListObj[l.code].desc);var f,v=l.docList.find((function(e){return e.code===Number(g)}));v=v||{},f=2===this.associatedWith?this.apiId:this.leadId,this.selectedDocDetails={formArrayIndex:n,docsType:a,docSize:t,issueDate:i,expiryDate:c,associatedId:String(this.applicantId),associatedWith:this.associatedWith,documentNumber:s,documentId:d,docTp:"Lead",docSbCtgry:l.displayName,docNm:v.desc,docCtgryCd:o.code,docCatg:o.desc,docTypCd:v.code,docCmnts:h,docSbCtgryCd:l.code,docRefId:[{idTp:"LEDID",id:f},{idTp:"BRNCH",id:Number(localStorage.getItem("branchId"))}],docsTypeForString:r,deferredDate:b,isDeferred:m?"1":"0"}}},{key:"downloadDocs",value:function(e,n,l){return t.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.srcElement,r=this.uploadForm.get(e).at(n).get("file").value){t.next=4;break}return t.abrupt("return");case 4:return this.base64StorageService.getString(this.applicantId+r),t.next=7,this.getBase64String(r);case 7:return o=t.sent,t.abrupt("return",o.imageType.includes("xls")?(console.log("xls",o.imageUrl),void this.getDownloadXlsFile(o.imageUrl,o.documentName,"application/vnd.ms-excel")):o.imageType.includes("doc")?(console.log("xls",o.imageUrl),void this.getDownloadXlsFile(o.imageUrl,o.documentName,"application/msword")):(this.setContainerPosition(a),this.showDraggableContainer={imageUrl:o.imageUrl,imageType:o.imageType,name:o.documentName},this.draggableContainerService.setContainerValue({image:this.showDraggableContainer,css:this.setCss}),void this.base64StorageService.storeString(this.applicantId+r,{imageUrl:o.imageUrl,imageType:o.imageType,name:o.documentName})));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getDownloadXlsFile",value:function(e,n,l){var t=this.base64ToBlob(e,l),a=URL.createObjectURL(t);console.log("blobUrl1",a),setTimeout((function(){var e=document.createElement("a");document.body.appendChild(e),e.style="display: none",e.href=a,e.download=n,e.click(),window.URL.revokeObjectURL(a)}))}},{key:"base64ToBlob",value:function(e,n,l){n=n||"",l=l||512;for(var t=atob(e),a=[],r=0;r<t.length;r+=l){for(var o=t.slice(r,r+l),u=new Array(o.length),i=0;i<o.length;i++)u[i]=o.charCodeAt(i);var c=new Uint8Array(u);a.push(c)}return new Blob(a,{type:n})}},{key:"getBase64String",value:function(e){var n=this;return new Promise((function(l,t){n.uploadService.getDocumentBase64String(e).subscribe((function(e){var t=e.dwnldDocumentRep;if("ERROR"!==t.msgHdr.rslt){var a=t.msgBdy.bsPyld,r=t.msgBdy.docNm||"",o=r.split(".")[1].toLowerCase();l({imageUrl:a,imageType:o,documentName:r}),console.log("downloadDocs",e)}else n.toasterService.showError(t.msgHdr.error[0].rsn,"")}))}))}},{key:"setContainerPosition",value:function(e){for(var n=0,l=0;e;)n+=e.offsetLeft,l+=e.offsetTop,e=e.offsetParent;this.setCss={top:l+"px",left:n+"px"}}},{key:"onUploadSuccess",value:function(e){this.showModal=!1,this.isNewUpload=!0,"profile"===e.docsTypeForString?(this.DEFAULT_PROFILE_IMAGE="data:image/jpeg;base64,"+e.imageUrl,this.uploadPhotoOrSignature({inputValue:e.imageUrl,isPhoto:!0,applicantId:this.applicantId})):"signature"===e.docsTypeForString&&(this.DEFAULT_SIGNATURE_IMAGE="data:image/jpeg;base64,"+e.imageUrl,this.uploadPhotoOrSignature({inputValue:e.imageUrl,isSignature:!0,applicantId:this.applicantId})),e.imageUrl="",this.uploadForm.get("".concat(this.FORM_ARRAY_NAME,"_").concat(e.subCategoryCode)).at(this.selectedIndex).get("file").setValue(e.dmsDocumentId);var n=0;0===this.documentArr.length?(this.documentArr.push(e),n=0):-1===(n=this.documentArr.findIndex((function(n){return n.subCategoryCode===e.subCategoryCode&&n.documentId===e.documentId})))?(this.documentArr.push(e),n=this.documentArr.length-1):this.documentArr[n]=e,console.log("documentArr",this.documentArr),this.individualImageUpload(e,n),console.log("event",e)}},{key:"uploadPhotoOrSignature",value:function(e){this.isProfileSignUploaded=!0,this.applicantService.uploadPhotoOrSignature(e).subscribe((function(n){console.log("uploadPhotoOrSignature",n,"data",e)}))}},{key:"checkDate",value:function(e,n,l){var t=this.uploadForm.get(this.FORM_ARRAY_NAME+"_"+e).at(n).get(l);return t.value&&t.errors}},{key:"individualImageUpload",value:function(e,n){var l=this;this.uploadService.saveOrUpdateDocument([e]).subscribe((function(e){if("0"===e.Error){l.toasterService.showSuccess("Document uploaded successfully",""),console.log("saveOrUpdateDocument",e);var t=e.ProcessVariables.documentIds[0];l.documentArr[n].documentId=t,l.uploadForm.get("".concat(l.FORM_ARRAY_NAME,"_").concat(l.documentArr[n].subCategoryCode)).at(l.documentArr[n].formArrayIndex).get("documentId").setValue(t),console.log("this.documentArr",l.documentArr)}}))}},{key:"setFileValueForFormArray",value:function(e){this.uploadForm.get(this.selectedDocsType).at(this.selectedIndex).get("file").setValue("ID:"+e.docIndx)}},{key:"onSubmit",value:function(){var e=this;if(this.uploadForm.invalid)return this.toasterService.showError("Please fill mandatory fields","");this.docError={};var n=this.uploadForm.getRawValue(),l=[],t=!1,a=function(a){if(n[a]){var r,o=Number(a.split("_")[1]);e.categories.forEach((function(e){e.subcategories.forEach((function(n){n.code===o&&(r=e)}))})),(n[a]||[]).forEach((function(n,u){var i=n.documentName,c=e.utilityService.getDateFormat(n.deferredDate)||"";if(i||c){var s=n.documentNumber;n.isDeferred||s||1===o||2===o||3===o?e.docError["".concat(a,"_").concat(u)]=!1:(t=!0,e.docError["".concat(a,"_").concat(u)]=!0),l.push({deferredDate:e.utilityService.getDateFormat(n.deferredDate)||"",documentId:n.documentId,documentName:n.documentName,documentType:n.documentName,documentNumber:n.documentNumber||"",expiryDate:e.utilityService.getDateFormat(n.expiryDate)||"",dmsDocumentId:n.file,isDeferred:n.isDeferred?"1":"0",issueDate:e.utilityService.getDateFormat(n.issueDate)||"",subCategoryCode:o,issuedAt:"check",categoryCode:r.code,formArrayIndex:u,associatedId:String(e.applicantId),associatedWith:String(e.associatedWith)})}}))}};for(var r in n)a(r);if(this.documentArr=l,t)return this.toasterService.showError("Please enter valid document number","");if(this.documentArr.some((function(e){var n=new Date;n.setHours(0,0,0,0);var l=new Date(e.deferredDate);return l.setHours(0,0,0,0),"1"===e.isDeferred&&l<n})))this.toasterService.showError("Deferral date should be future date","");else{if(this.documentArr.some((function(e){return"1"===e.isDeferred&&!e.deferredDate})))return this.toasterService.showError("Please enter deferral date","");if(0===this.documentArr.length)return this.isProfileSignUploaded?(this.isProfileSignUploaded=!1,this.toasterService.showSuccess("Documents saved successfully","")):void this.toasterService.showWarning("No documents uploaded to save","");var o={};this.apiRes.forEach((function(e){o[e.documentId]={documentName:e.documentName||"",documentNumber:e.documentNumber||"",issueDate:e.issueDate||"",expiryDate:e.expiryDate||"",isDeferred:e.isDeferred||"",deferredDate:e.deferredDate||""}}));var u=this.documentArr.some((function(e){var n=o[e.documentId];return!n||e.documentName!==n.documentName||e.documentNumber!==n.documentNumber||e.issueDate!==n.issueDate||e.expiryDate!==n.expiryDate||e.isDeferred!==n.isDeferred||e.deferredDate!==n.deferredDate}));if(this.isNewUpload)return!u&&this.isProfileSignUploaded?(this.isProfileSignUploaded=!1,this.isNewUpload=!1,this.toasterService.showSuccess("Documents saved successfully","")):this.callAppiyoUploadApi();if(!u)return this.isProfileSignUploaded?(this.isProfileSignUploaded=!1,this.toasterService.showSuccess("Documents saved successfully","")):this.toasterService.showWarning("No changes done to save","");console.log("documentArr",this.documentArr);var i=this.documentArr.find((function(e){return!e.dmsDocumentId&&"1"!==e.isDeferred}));if(console.log("docNotAvailable",i),i){var c=this.categories.find((function(e){return e.code===Number(i.categoryCode)})).subcategories.find((function(e){return e.code===Number(i.subCategoryCode)})).docList.find((function(e){return e.code===Number(i.documentType)}));return this.toasterService.showError("Please upload document for "+c.displayName,"")}this.callAppiyoUploadApi()}}},{key:"callAppiyoUploadApi",value:function(){var e=this;this.uploadService.saveOrUpdateDocument(this.documentArr).subscribe((function(n){if("0"===n.Error){e.isProfileSignUploaded=!1,e.toasterService.showSuccess("Documents saved successfully",""),e.isNewUpload=!1,e.apiRes=_toConsumableArray(e.documentArr),console.log("saveOrUpdateDocument",n);var l=n.ProcessVariables.documentIds;l.forEach((function(n,l){e.documentArr[l].documentId=n})),e.documentArr.forEach((function(n,t){var a=n.formArrayIndex;void 0!==a&&e.uploadForm.get("".concat(e.FORM_ARRAY_NAME,"_").concat(n.subCategoryCode)).at(a).get("documentId").setValue(l[t])}))}}))}},{key:"navigateBack",value:function(){this.router.navigateByUrl(localStorage.getItem("currentUrl"))}},{key:"onChangeRoleId",value:function(e,n){console.log(e,"Obj");var l=e.controls[n];this.isReqApprove[n]=!(!l.get("deferredDate").value||!l.get("receivedBy").value)}},{key:"onApproveRequest",value:function(e,n){var l=this,t={deferralStatus:"1",deferralStatusValue:"Requested",deferredDate:this.utilityService.getDateFormat(e.value[n].deferredDate),documentId:e.value[n].documentId,documentRoleId:e.value[n].receivedBy,isDeferred:e.value[n].isDeferred?"1":"0"};this.uploadService.requestForApproval(t,this.leadId).subscribe((function(t){if("0"===t.Error&&"0"===t.ProcessVariables.error.code){l.isReqApprove[n]=!1;var a=t.ProcessVariables.documentDetail;e.controls[n].get("deferralStatus").setValue(a.deferralStatus)}else l.toasterService.showError(t.ErrorMessage?t.ErrorMessage:t.ProcessVariables.error.message,"Request Approve Deferral")}))}},{key:"appId",set:function(e){e&&(this.applicantId=Number(e.id),this.associatedWith=e.associatedWith,2===this.associatedWith&&(this.apiId=e.apiId,this.getApplicantDetails()),this.getApplicantDocumentCategory(this.applicantId),this.DEFAULT_PROFILE_IMAGE="",this.DEFAULT_SIGNATURE_IMAGE="")}},{key:"docSize",set:function(e){this.OTHER_DOCUMENTS_SIZE=e}}]),e}()},X40Q:function(e,n,l){"use strict";var t=l("8Y7J"),a=l("s7LF"),r=l("SVse"),o=l("S3+s"),u=l("Rwcf"),i=l("OoJn"),c=l("qwqc"),s=l("PrTX"),d=l("rUT8"),p=l("ixF7"),m=l("nrvr"),b=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,n){return e[n].issueDate}}]),e}(),g=l("gNvE"),h=l("9tyr"),f=l("jT/F"),v=l("A1CT"),I=l("Ymxs"),y=l("Pn9U"),D=l("cUpR");l("TjU/"),l("iInd"),l("5pZN"),l("e1tg"),l("owZw"),l("aH6+"),l("JTaS"),l("FtYB"),l("89oD"),l.d(n,"a",(function(){return C})),l.d(n,"b",(function(){return q}));var C=t.xb({encapsulation:0,styles:[[".panel-primary[_ngcontent-%COMP%]{background-color:#1d1a4b!important;color:#fff!important}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px!important}.image-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;opacity:0;height:5%;width:5%;z-index:10;position:absolute;top:0;left:0}.fa.fa-minus[_ngcontent-%COMP%], .fa.fa-plus[_ngcontent-%COMP%], .fa.fa-upload[_ngcontent-%COMP%]{font-size:20px}.date_width[_ngcontent-%COMP%]{width:146px;margin:0;font-size:12px}@media (min-width:992px){.form[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{width:20%}}#saveNext[_ngcontent-%COMP%]{margin-bottom:50px}#scroll_starts_here[_ngcontent-%COMP%]{height:400px;overflow-y:auto;overflow-x:hidden}.height[_ngcontent-%COMP%]{height:auto}h4[_ngcontent-%COMP%]{cursor:pointer}.dis-block[_ngcontent-%COMP%]{display:block}.file-input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #0e25c7;border-radius:0}.file-input[_ngcontent-%COMP%]:-moz-read-only{background-color:#fff}.file-input[_ngcontent-%COMP%]:read-only{background-color:#fff}.file-input[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:16px}.is-deferred[_ngcontent-%COMP%]{font-size:13px;font-weight:700;margin-left:6px}.cus-mar[_ngcontent-%COMP%]{margin-top:25px!important}.cus-disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:#dde}"]],data:{}});function A(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,2,"div",[["class","form-group"],["style","margin-top: 15px;"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.uploadDocument(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.context.$implicit.code,e.parent.parent.context.index,e.parent.parent.parent.parent.context.$implicit,a.PROFILE_SIZE,a.PROFILE_TYPE,"profile")&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Upload photo "]))],null,null)}function w(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,2,"div",[["class","form-group"],["style","margin-top: 15px;"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.uploadDocument(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.context.$implicit.code,e.parent.parent.context.index,e.parent.parent.parent.parent.context.$implicit,a.PROFILE_SIZE,a.PROFILE_TYPE,"signature")&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Upload photo "]))],null,null)}function x(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,23,null,null,null,null,null,null,null)),(e()(),t.zb(1,0,null,null,22,"div",[["class","panel-body row"]],null,null,null,null,null)),(e()(),t.zb(2,0,null,null,10,"div",[["class","col-sm-6 col-lg-3 col-md-3"]],null,null,null,null,null)),(e()(),t.zb(3,0,null,null,9,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t.yb(4,212992,null,0,a.m,[[3,a.c],[8,null],[8,null]],{name:[0,"name"]},null),t.Ob(2048,null,a.c,null,[a.m]),t.yb(6,16384,null,0,a.t,[[4,a.c]],null,null),(e()(),t.zb(7,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),t.Rb(8,null,["",""])),(e()(),t.zb(9,0,null,null,1,"div",[["class","photo"]],null,null,null,null,null)),(e()(),t.zb(10,0,null,null,0,"img",[["alt","[Image: Photo]"],["width","100"]],[[8,"src",4]],[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.downloadDocs(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.context.$implicit.code,e.parent.context.index,l)&&t),t}),null,null)),(e()(),t.ob(16777216,null,null,1,null,A)),t.yb(12,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.zb(13,0,null,null,10,"div",[["class","col-sm-6 col-lg-3 col-md-3"]],null,null,null,null,null)),(e()(),t.zb(14,0,null,null,9,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t.yb(15,212992,null,0,a.m,[[3,a.c],[8,null],[8,null]],{name:[0,"name"]},null),t.Ob(2048,null,a.c,null,[a.m]),t.yb(17,16384,null,0,a.t,[[4,a.c]],null,null),(e()(),t.zb(18,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),t.Rb(19,null,["",""])),(e()(),t.zb(20,0,null,null,1,"div",[["class","photo"]],null,null,null,null,null)),(e()(),t.zb(21,0,null,null,0,"img",[["alt","[Image: Photo]"],["width","100"]],[[8,"src",4]],[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.downloadDocs(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.context.$implicit.code,e.parent.context.index,l)&&t),t}),null,null)),(e()(),t.ob(16777216,null,null,1,null,w)),t.yb(23,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,4,0,n.parent.context.index),e(n,12,0,!l.isLoan360),e(n,15,0,n.parent.context.index),e(n,23,0,!l.isLoan360)}),(function(e,n){var l=n.component;e(n,3,0,t.Jb(n,6).ngClassUntouched,t.Jb(n,6).ngClassTouched,t.Jb(n,6).ngClassPristine,t.Jb(n,6).ngClassDirty,t.Jb(n,6).ngClassValid,t.Jb(n,6).ngClassInvalid,t.Jb(n,6).ngClassPending),e(n,8,0,n.parent.parent.parent.context.$implicit.displayName),e(n,10,0,l.DEFAULT_PROFILE_IMAGE||"../../../../assets/images/user.jpg"),e(n,14,0,t.Jb(n,17).ngClassUntouched,t.Jb(n,17).ngClassTouched,t.Jb(n,17).ngClassPristine,t.Jb(n,17).ngClassDirty,t.Jb(n,17).ngClassValid,t.Jb(n,17).ngClassInvalid,t.Jb(n,17).ngClassPending),e(n,19,0,"SIGNATURE"),e(n,21,0,l.DEFAULT_SIGNATURE_IMAGE||"../../../../assets/images/user.jpg")}))}function S(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t.Rb(1,null,[" "," "]))],null,(function(e,n){var l=n.component,t=null;e(n,1,0,null==l.docsValidation[null==(t=l.docsList(n.parent.parent.parent.parent.parent.parent.context.$implicit.code))||null==t.controls[n.parent.parent.parent.parent.context.index]?null:t.controls[n.parent.parent.parent.parent.context.index].get("documentName").value]?null:l.docsValidation[null==(t=t)||null==t.controls[n.parent.parent.parent.parent.context.index]?null:t.controls[n.parent.parent.parent.parent.context.index].get("documentName").value].patternMsg)}))}function k(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,S)),t.yb(2,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=null;e(n,2,0,null==(l=n.component.docsList(n.parent.parent.parent.parent.parent.context.$implicit.code))||null==l.controls[n.parent.parent.parent.context.index]||null==l.controls[n.parent.parent.parent.context.index].get("documentNumber").errors?null:l.controls[n.parent.parent.parent.context.index].get("documentNumber").errors.pattern)}),null)}function _(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,[" Please enter document number "]))],null,null)}function R(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,15,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,1,"label",[["for","documentnumber"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Document Number"])),(e()(),t.zb(3,0,null,null,8,"input",[["class","form-control"],["formControlName","documentNumber"]],[[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,l){var a=!0,r=e.component;return"input"===n&&(a=!1!==t.Jb(e,4)._handleInput(l.target.value)&&a),"blur"===n&&(a=!1!==t.Jb(e,4).onTouched()&&a),"compositionstart"===n&&(a=!1!==t.Jb(e,4)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t.Jb(e,4)._compositionEnd(l.target.value)&&a),"keyup"===n&&(a=!1!==r.onDocumentNumberPress(l,e.parent.parent.context.index,e.parent.parent.parent.parent.context.$implicit.code)&&a),a}),null,null)),t.yb(4,16384,null,0,a.d,[t.L,t.n,[2,a.a]],null,null),t.yb(5,540672,null,0,a.o,[],{maxlength:[0,"maxlength"]},null),t.yb(6,540672,null,0,a.y,[],{pattern:[0,"pattern"]},null),t.Ob(1024,null,a.p,(function(e,n){return[e,n]}),[a.o,a.y]),t.Ob(1024,null,a.q,(function(e){return[e]}),[a.d]),t.yb(9,671744,null,0,a.j,[[3,a.c],[6,a.p],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(11,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.ob(16777216,null,null,1,null,k)),t.yb(13,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(16777216,null,null,1,null,_)),t.yb(15,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component,t=null;e(n,5,0,(null==l.docsValidation[null==(t=l.docsList(n.parent.parent.parent.parent.context.$implicit.code))||null==t.controls[n.parent.parent.context.index]?null:t.controls[n.parent.parent.context.index].get("documentName").value]?null:l.docsValidation[null==(t=t)||null==t.controls[n.parent.parent.context.index]?null:t.controls[n.parent.parent.context.index].get("documentName").value].maxLength)||null);var a=null;e(n,6,0,(null==l.docsValidation[null==(a=l.docsList(n.parent.parent.parent.parent.context.$implicit.code))||null==a.controls[n.parent.parent.context.index]?null:a.controls[n.parent.parent.context.index].get("documentName").value]?null:l.docsValidation[null==(a=a)||null==a.controls[n.parent.parent.context.index]?null:a.controls[n.parent.parent.context.index].get("documentName").value].pattern)||null),e(n,9,0,"documentNumber");var r=null,o=null;e(n,13,0,(null==(r=l.docsList(n.parent.parent.parent.parent.context.$implicit.code))||null==r.controls[n.parent.parent.context.index]||null==(o=r.controls[n.parent.parent.context.index].get("documentNumber"))?null:o.touched)||(null==(r=l.docsList(n.parent.parent.parent.parent.context.$implicit.code))||null==r.controls[n.parent.parent.context.index]||null==(o=r.controls[n.parent.parent.context.index].get("documentNumber"))?null:o.dirty));var u=null,i=null;e(n,15,0,l.docNumberError&&l.docError[l.FORM_ARRAY_NAME+"_"+n.parent.parent.parent.parent.context.$implicit.code+"_"+n.parent.parent.context.index]&&!(null!=(u=l.docsList(n.parent.parent.parent.parent.context.$implicit.code))&&null!=u.controls[n.parent.parent.context.index]&&null!=(i=u.controls[n.parent.parent.context.index].get("documentNumber"))&&i.value))}),(function(e,n){e(n,3,0,t.Jb(n,5).maxlength?t.Jb(n,5).maxlength:null,t.Jb(n,6).pattern?t.Jb(n,6).pattern:null,t.Jb(n,11).ngClassUntouched,t.Jb(n,11).ngClassTouched,t.Jb(n,11).ngClassPristine,t.Jb(n,11).ngClassDirty,t.Jb(n,11).ngClassValid,t.Jb(n,11).ngClassInvalid,t.Jb(n,11).ngClassPending)}))}function O(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t.Rb(-1,null,[" Invalid date "]))],null,null)}function P(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,26,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,1,"label",[["for","idate"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Issue Date"])),(e()(),t.zb(3,0,null,null,23,"div",[["class","input-group input-medium"]],null,null,null,null,null)),(e()(),t.zb(4,0,null,null,19,"kendo-datepicker",[["class","form-control mandatory"],["formControlName","issueDate"],["placeholder","Issue Date"]],[[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-state-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,o.b,o.a)),t.Ob(6144,null,u.e,null,[i.r]),t.Ob(256,null,c.b,"kendo.datepicker",[]),t.Ob(131584,null,c.c,c.c,[c.b,[2,c.d],[2,c.e]]),t.Ob(512,null,i.W,i.W,[]),t.Ob(512,null,i.G,i.G,[]),t.yb(10,770048,null,8,i.r,[t.E,c.c,t.i,s.g,t.n,t.L,t.u,i.W,i.G,[2,i.ab]],{activeView:[0,"activeView"],max:[1,"max"],format:[2,"format"],placeholder:[3,"placeholder"]},null),t.Pb(335544320,1,{cellTemplate:0}),t.Pb(335544320,2,{monthCellTemplate:0}),t.Pb(335544320,3,{yearCellTemplate:0}),t.Pb(335544320,4,{decadeCellTemplate:0}),t.Pb(335544320,5,{centuryCellTemplate:0}),t.Pb(335544320,6,{weekNumberTemplate:0}),t.Pb(335544320,7,{headerTitleTemplate:0}),t.Pb(335544320,8,{navigationItemTemplate:0}),t.Ob(1024,null,a.p,(function(e){return[e]}),[i.r]),t.Ob(1024,null,a.q,(function(e){return[e]}),[i.r]),t.yb(21,671744,null,0,a.j,[[3,a.c],[6,a.p],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(23,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.zb(24,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,O)),t.yb(26,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,10,0,"decade",l.toDayDate,"dd/MM/yyyy","Issue Date"),e(n,21,0,"issueDate"),e(n,26,0,l.checkDate(n.parent.parent.parent.parent.context.$implicit.code,n.parent.parent.context.index,"issueDate"))}),(function(e,n){e(n,4,0,t.Jb(n,10).wrapperClasses,t.Jb(n,10).wrapperClasses,t.Jb(n,10).disabledClass,t.Jb(n,23).ngClassUntouched,t.Jb(n,23).ngClassTouched,t.Jb(n,23).ngClassPristine,t.Jb(n,23).ngClassDirty,t.Jb(n,23).ngClassValid,t.Jb(n,23).ngClassInvalid,t.Jb(n,23).ngClassPending)}))}function T(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t.Rb(-1,null,[" Invalid date "]))],null,null)}function N(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,27,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,1,"label",[["for","edate"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Expiry Date"])),(e()(),t.zb(3,0,null,null,24,"div",[["class","input-group input-medium"]],null,null,null,null,null)),(e()(),t.zb(4,0,null,null,20,"kendo-datepicker",[["class","form-control mandatory"],["formControlName","expiryDate"],["placeholder","Expiry Date"]],[[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-state-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,o.b,o.a)),t.Ob(6144,null,u.e,null,[i.r]),t.Ob(256,null,c.b,"kendo.datepicker",[]),t.Ob(131584,null,c.c,c.c,[c.b,[2,c.d],[2,c.e]]),t.Ob(512,null,i.W,i.W,[]),t.Ob(512,null,i.G,i.G,[]),t.yb(10,770048,null,8,i.r,[t.E,c.c,t.i,s.g,t.n,t.L,t.u,i.W,i.G,[2,i.ab]],{activeView:[0,"activeView"],min:[1,"min"],format:[2,"format"],placeholder:[3,"placeholder"]},null),t.Pb(335544320,9,{cellTemplate:0}),t.Pb(335544320,10,{monthCellTemplate:0}),t.Pb(335544320,11,{yearCellTemplate:0}),t.Pb(335544320,12,{decadeCellTemplate:0}),t.Pb(335544320,13,{centuryCellTemplate:0}),t.Pb(335544320,14,{weekNumberTemplate:0}),t.Pb(335544320,15,{headerTitleTemplate:0}),t.Pb(335544320,16,{navigationItemTemplate:0}),t.Nb(19,2),t.Ob(1024,null,a.p,(function(e){return[e]}),[i.r]),t.Ob(1024,null,a.q,(function(e){return[e]}),[i.r]),t.yb(22,671744,null,0,a.j,[[3,a.c],[6,a.p],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(24,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.zb(25,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,T)),t.yb(27,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component,a=t.Sb(n,10,1,e(n,19,0,t.Jb(n.parent.parent.parent.parent.parent,0),l.uploadForm.get(l.FORM_ARRAY_NAME+"_"+n.parent.parent.parent.parent.context.$implicit.code).value,n.parent.parent.context.index))||l.toDayDate;e(n,10,0,"decade",a,"dd/MM/yyyy","Expiry Date"),e(n,22,0,"expiryDate"),e(n,27,0,l.checkDate(n.parent.parent.parent.parent.context.$implicit.code,n.parent.parent.context.index,"expiryDate"))}),(function(e,n){e(n,4,0,t.Jb(n,10).wrapperClasses,t.Jb(n,10).wrapperClasses,t.Jb(n,10).disabledClass,t.Jb(n,24).ngClassUntouched,t.Jb(n,24).ngClassTouched,t.Jb(n,24).ngClassPristine,t.Jb(n,24).ngClassDirty,t.Jb(n,24).ngClassValid,t.Jb(n,24).ngClassInvalid,t.Jb(n,24).ngClassPending)}))}function E(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus fa-3"],["id","add_more_documents1a"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.addDocumentFormControls(e.parent.parent.parent.parent.parent.context.$implicit.code)&&t),t}),null,null))],null,null)}function F(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-minus fa-3"],["id","add_more_documents_remove1a"]],null,[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.removeDocumentFormControls(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.parent.context.$implicit.code,e.parent.parent.parent.context.index)&&t),t}),null,null))],null,null)}function M(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,11,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Actions "])),(e()(),t.zb(3,0,null,null,8,"p",[],null,null,null,null,null)),(e()(),t.zb(4,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t.zb(5,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-upload fa-3 custom-file-label"],["id","add_more_documents_upload1a"]],null,[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.uploadDocument(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.context.$implicit.code,e.parent.parent.context.index,e.parent.parent.parent.parent.context.$implicit,a.OTHER_DOCUMENTS_SIZE,a.OTHER_DOCS_TYPE,3!==e.parent.parent.parent.parent.context.$implicit.code?"":"biometric")&&t),t}),null,null)),(e()(),t.Rb(-1,null,["\xa0 "])),(e()(),t.ob(16777216,null,null,1,null,E)),t.yb(8,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.Rb(-1,null,[" \xa0 "])),(e()(),t.ob(16777216,null,null,1,null,F)),t.yb(11,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){e(n,8,0,3!==n.parent.parent.parent.parent.context.$implicit.code),e(n,11,0,3!==n.parent.parent.parent.parent.context.$implicit.code)}),null)}function j(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),t.Rb(-1,null,[" Invalid date "]))],null,null)}function J(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary dash_href cus-mar"],["id","request"],["type","button"]],null,[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.onApproveRequest(a.uploadForm.get(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.parent.parent.parent.context.$implicit.code),e.parent.parent.parent.parent.parent.context.index,e.parent.parent.parent.parent.parent.parent.parent.context.$implicit.code)&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Request For Approval "]))],null,null)}function V(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,2,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,J)),t.yb(2,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){e(n,2,0,!n.component.isLoan360)}),null)}function L(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),t.zb(1,0,null,null,8,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(2,0,null,null,1,"label",[["for","edate"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Role Name"])),(e()(),t.zb(4,0,null,null,5,"app-vf-custom-select",[["formControlName","receivedBy"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],(function(e,n,l){var t=!0,a=e.component;return"change"===n&&(t=!1!==a.onChangeRoleId(a.uploadForm.get(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.parent.context.$implicit.code),e.parent.parent.parent.context.index,e.parent.parent.parent.parent.parent.context.$implicit.code)&&t),t}),d.b,d.a)),t.yb(5,638976,null,0,p.a,[m.a],{values:[0,"values"],isRequired:[1,"isRequired"],isDirty:[2,"isDirty"]},null),t.Ob(1024,null,a.q,(function(e){return[e]}),[p.a]),t.yb(7,671744,null,0,a.j,[[3,a.c],[8,null],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(9,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.ob(16777216,null,null,1,null,V)),t.yb(11,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(0,null,null,0))],(function(e,n){var l=n.component;e(n,5,0,l.documentRoleArray?l.documentRoleArray[n.parent.parent.parent.context.index]:"","Document Role Required",l.isDirty),e(n,7,0,"receivedBy"),e(n,11,0,l.isReqApprove[n.parent.parent.parent.context.index]&&"0"===l.uploadForm.get(l.FORM_ARRAY_NAME+"_"+n.parent.parent.parent.parent.parent.context.$implicit.code).controls[n.parent.parent.parent.context.index].get("deferralStatus").value)}),(function(e,n){e(n,4,0,"document_role",t.Jb(n,9).ngClassUntouched,t.Jb(n,9).ngClassTouched,t.Jb(n,9).ngClassPristine,t.Jb(n,9).ngClassDirty,t.Jb(n,9).ngClassValid,t.Jb(n,9).ngClassInvalid,t.Jb(n,9).ngClassPending)}))}function z(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,8,"div",[["class","col-sm-3 col-md-2"],["style","margin-top: 15px;"]],null,null,null,null,null)),(e()(),t.zb(2,0,null,null,5,"input",[["formControlName","isDeferred"],["name","isDeferred"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,n,l){var a=!0,r=e.component;return"change"===n&&(a=!1!==t.Jb(e,3).onChange(l.target.checked)&&a),"blur"===n&&(a=!1!==t.Jb(e,3).onTouched()&&a),"change"===n&&(a=!1!==r.toggleDeferralDate(e.parent.parent.parent.parent.context.$implicit.code,e.parent.parent.context.index)&&a),a}),null,null)),t.yb(3,16384,null,0,a.b,[t.L,t.n],null,null),t.Ob(1024,null,a.q,(function(e){return[e]}),[a.b]),t.yb(5,671744,null,0,a.j,[[3,a.c],[8,null],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(7,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.zb(8,0,null,null,1,"span",[["class","is-deferred"],["id","address_section_checkbox_text"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["\xa0Is Deferred ? "])),(e()(),t.zb(10,0,null,null,27,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(11,0,null,null,1,"label",[["for","edate"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Deferral Date"])),(e()(),t.zb(13,0,null,null,24,"div",[["class","input-group input-medium"]],null,null,null,null,null)),(e()(),t.zb(14,0,null,null,20,"kendo-datepicker",[["class","form-control mandatory"],["formControlName","deferredDate"],["placeholder","Deferral Date"]],[[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-state-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"valueChange"]],(function(e,n,l){var t=!0,a=e.component;return"valueChange"===n&&(t=!1!==a.onChangeRoleId(a.uploadForm.get(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.parent.context.$implicit.code),e.parent.parent.context.index,e.parent.parent.parent.parent.context.$implicit.code)&&t),t}),o.b,o.a)),t.Ob(6144,null,u.e,null,[i.r]),t.Ob(256,null,c.b,"kendo.datepicker",[]),t.Ob(131584,null,c.c,c.c,[c.b,[2,c.d],[2,c.e]]),t.Ob(512,null,i.W,i.W,[]),t.Ob(512,null,i.G,i.G,[]),t.yb(20,770048,null,8,i.r,[t.E,c.c,t.i,s.g,t.n,t.L,t.u,i.W,i.G,[2,i.ab]],{activeView:[0,"activeView"],min:[1,"min"],format:[2,"format"],placeholder:[3,"placeholder"]},{valueChange:"valueChange"}),t.Pb(335544320,17,{cellTemplate:0}),t.Pb(335544320,18,{monthCellTemplate:0}),t.Pb(335544320,19,{yearCellTemplate:0}),t.Pb(335544320,20,{decadeCellTemplate:0}),t.Pb(335544320,21,{centuryCellTemplate:0}),t.Pb(335544320,22,{weekNumberTemplate:0}),t.Pb(335544320,23,{headerTitleTemplate:0}),t.Pb(335544320,24,{navigationItemTemplate:0}),t.Nb(29,2),t.Ob(1024,null,a.p,(function(e){return[e]}),[i.r]),t.Ob(1024,null,a.q,(function(e){return[e]}),[i.r]),t.yb(32,671744,null,0,a.j,[[3,a.c],[6,a.p],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(34,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.zb(35,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,j)),t.yb(37,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(16777216,null,null,1,null,L)),t.yb(39,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,5,0,"isDeferred");var a=t.Sb(n,20,1,e(n,29,0,t.Jb(n.parent.parent.parent.parent.parent,0),l.uploadForm.get(l.FORM_ARRAY_NAME+"_"+n.parent.parent.parent.parent.context.$implicit.code).value,n.parent.parent.context.index))||l.toDayDate;e(n,20,0,"decade",a,"dd/MM/yyyy","Deferral Date"),e(n,32,0,"deferredDate"),e(n,37,0,l.checkDate(n.parent.parent.parent.parent.context.$implicit.code,n.parent.parent.context.index,"deferredDate")),e(n,39,0,l.uploadForm.get(l.FORM_ARRAY_NAME+"_"+n.parent.parent.parent.parent.context.$implicit.code).controls[n.parent.parent.context.index].get("isDeferred").value&&l.isPreDisEnable[n.parent.parent.context.index])}),(function(e,n){e(n,2,0,t.Jb(n,7).ngClassUntouched,t.Jb(n,7).ngClassTouched,t.Jb(n,7).ngClassPristine,t.Jb(n,7).ngClassDirty,t.Jb(n,7).ngClassValid,t.Jb(n,7).ngClassInvalid,t.Jb(n,7).ngClassPending),e(n,14,0,t.Jb(n,20).wrapperClasses,t.Jb(n,20).wrapperClasses,t.Jb(n,20).disabledClass,t.Jb(n,34).ngClassUntouched,t.Jb(n,34).ngClassTouched,t.Jb(n,34).ngClassPristine,t.Jb(n,34).ngClassDirty,t.Jb(n,34).ngClassValid,t.Jb(n,34).ngClassInvalid,t.Jb(n,34).ngClassPending)}))}function U(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,33,null,null,null,null,null,null,null)),(e()(),t.zb(1,0,null,null,32,"div",[["class","panel-body"],["id","show_1st_diva"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t.yb(2,212992,null,0,a.m,[[3,a.c],[8,null],[8,null]],{name:[0,"name"]},null),t.Ob(2048,null,a.c,null,[a.m]),t.yb(4,16384,null,0,a.t,[[4,a.c]],null,null),(e()(),t.zb(5,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(e()(),t.zb(6,0,null,null,8,"div",[["class","form-group col-sm-3 col-md-2"]],null,null,null,null,null)),(e()(),t.zb(7,0,null,null,1,"label",[["for","document"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Document Name"])),(e()(),t.zb(9,0,null,null,5,"app-vf-custom-select",[["formControlName","documentName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"valueChange"]],(function(e,n,l){var t=!0;return"valueChange"===n&&(t=!1!==e.component.onDocumentSelect(l,e.parent.parent.parent.context.$implicit.code,e.parent.context.index)&&t),t}),d.b,d.a)),t.yb(10,638976,null,0,p.a,[m.a],{values:[0,"values"],keyField:[1,"keyField"],valueField:[2,"valueField"]},{valueChange:"valueChange"}),t.Ob(1024,null,a.q,(function(e){return[e]}),[p.a]),t.yb(12,671744,null,0,a.j,[[3,a.c],[8,null],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(14,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.ob(16777216,null,null,1,null,R)),t.yb(16,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(16777216,null,null,1,null,P)),t.yb(18,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(16777216,null,null,1,null,N)),t.yb(20,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.zb(21,0,null,null,8,"div",[["class","form-group col-sm-3 col-md-2"]],null,[[null,"click"]],(function(e,n,l){var t=!0,a=e.component;return"click"===n&&(t=!1!==a.downloadForLoan360(a.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.context.$implicit.code,e.parent.context.index,l)&&t),t}),null,null)),(e()(),t.zb(22,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t.Rb(-1,null,["File"])),(e()(),t.zb(24,0,null,null,5,"input",[["class","form-control file-input"],["formControlName","file"],["name","input"],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,l){var a=!0,r=e.component;return"input"===n&&(a=!1!==t.Jb(e,25)._handleInput(l.target.value)&&a),"blur"===n&&(a=!1!==t.Jb(e,25).onTouched()&&a),"compositionstart"===n&&(a=!1!==t.Jb(e,25)._compositionStart()&&a),"compositionend"===n&&(a=!1!==t.Jb(e,25)._compositionEnd(l.target.value)&&a),"click"===n&&(a=!1!==r.downloadDocs(r.FORM_ARRAY_NAME+"_"+e.parent.parent.parent.context.$implicit.code,e.parent.context.index,l)&&a),a}),null,null)),t.yb(25,16384,null,0,a.d,[t.L,t.n,[2,a.a]],null,null),t.Ob(1024,null,a.q,(function(e){return[e]}),[a.d]),t.yb(27,671744,null,0,a.j,[[3,a.c],[8,null],[8,null],[6,a.q],[2,a.G]],{name:[0,"name"]},null),t.Ob(2048,null,a.r,null,[a.j]),t.yb(29,16384,null,0,a.s,[[4,a.r]],null,null),(e()(),t.ob(16777216,null,null,1,null,M)),t.yb(31,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(16777216,null,null,1,null,z)),t.yb(33,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){var l=n.component;e(n,2,0,n.parent.context.index),e(n,10,0,n.parent.parent.parent.context.$implicit.docList,"code","displayName"),e(n,12,0,"documentName"),e(n,16,0,3!==n.parent.parent.parent.context.$implicit.code),e(n,18,0,3!==n.parent.parent.parent.context.$implicit.code),e(n,20,0,3!==n.parent.parent.parent.context.$implicit.code),e(n,27,0,"file"),e(n,31,0,!l.isLoan360),e(n,33,0,3!==n.parent.parent.parent.context.$implicit.code)}),(function(e,n){e(n,1,0,t.Jb(n,4).ngClassUntouched,t.Jb(n,4).ngClassTouched,t.Jb(n,4).ngClassPristine,t.Jb(n,4).ngClassDirty,t.Jb(n,4).ngClassValid,t.Jb(n,4).ngClassInvalid,t.Jb(n,4).ngClassPending),e(n,9,0,t.Jb(n,14).ngClassUntouched,t.Jb(n,14).ngClassTouched,t.Jb(n,14).ngClassPristine,t.Jb(n,14).ngClassDirty,t.Jb(n,14).ngClassValid,t.Jb(n,14).ngClassInvalid,t.Jb(n,14).ngClassPending),e(n,24,0,t.Jb(n,29).ngClassUntouched,t.Jb(n,29).ngClassTouched,t.Jb(n,29).ngClassPristine,t.Jb(n,29).ngClassDirty,t.Jb(n,29).ngClassValid,t.Jb(n,29).ngClassInvalid,t.Jb(n,29).ngClassPending)}))}function Y(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,7,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t.yb(1,212992,null,0,a.f,[[3,a.c],[8,null],[8,null]],{name:[0,"name"]},null),t.Ob(2048,null,a.c,null,[a.f]),t.yb(3,16384,null,0,a.t,[[4,a.c]],null,null),(e()(),t.ob(16777216,null,null,1,null,x)),t.yb(5,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(16777216,null,null,1,null,U)),t.yb(7,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null)],(function(e,n){e(n,1,0,t.Bb(2,"",n.component.FORM_ARRAY_NAME,"_",n.parent.parent.context.$implicit.code,"")),e(n,5,0,1===n.parent.parent.context.$implicit.code||2===n.parent.parent.context.$implicit.code),e(n,7,0,1!==n.parent.parent.context.$implicit.code&&2!==n.parent.parent.context.$implicit.code)}),(function(e,n){e(n,0,0,t.Jb(n,3).ngClassUntouched,t.Jb(n,3).ngClassTouched,t.Jb(n,3).ngClassPristine,t.Jb(n,3).ngClassDirty,t.Jb(n,3).ngClassValid,t.Jb(n,3).ngClassInvalid,t.Jb(n,3).ngClassPending)}))}function $(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,11,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),t.zb(1,0,null,null,4,"div",[["class","panel-heading"],["data-parent","#accordion"],["data-toggle","collapse"],["id","headingThree"]],[[1,"data-target",0]],null,null,null,null)),(e()(),t.zb(2,0,null,null,3,"h4",[["class","panel-title"]],null,null,null,null,null)),(e()(),t.zb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","collapsed"]],null,null,null,null,null)),(e()(),t.Rb(4,null,[" "," "])),(e()(),t.zb(5,0,null,null,0,"i",[["class","fa fa-angle-down"]],null,null,null,null,null)),(e()(),t.zb(6,0,null,null,5,"div",[["aria-expanded","false"],["class","panel-collapse collapse"]],[[8,"id",0]],null,null,null,null)),t.Ob(512,null,r.C,r.D,[t.w,t.x,t.n,t.L]),t.yb(8,278528,null,0,r.k,[r.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(9,{in:0}),(e()(),t.ob(16777216,null,null,1,null,Y)),t.yb(11,278528,null,0,r.l,[t.W,t.T,t.w],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){var l=n.component,t=e(n,9,0,l.subcategotyDocsId[n.parent.context.$implicit.code]);e(n,8,0,"panel-collapse collapse",t),e(n,11,0,l.uploadForm.get(l.FORM_ARRAY_NAME+"_"+n.parent.context.$implicit.code).controls)}),(function(e,n){e(n,1,0,"#collapse"+n.parent.context.$implicit.code),e(n,4,0,"PHOTO"===n.parent.context.$implicit.displayName?"PHOTO & SIGNATURE":n.parent.context.$implicit.displayName),e(n,6,0,t.Bb(1,"collapse",n.parent.context.$implicit.code,""))}))}function W(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,$)),t.yb(2,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.ob(0,null,null,0))],(function(e,n){e(n,2,0,"SIGNATURE"!==n.context.$implicit.displayName)}),null)}function G(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary dash_href hvr-sweep-to-left"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.navigateToApplicantList()&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Back To Applicant Details "]))],null,null)}function B(e){return t.Tb(0,[(e()(),t.zb(0,0,null,null,1,"button",[["class","btn btn-primary dash_href"],["id","submit"],["type","button"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.onSubmit()&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Save "]))],null,null)}function q(e){return t.Tb(0,[t.Lb(0,b,[]),(e()(),t.zb(1,0,null,null,25,"div",[["class","content"]],null,null,null,null,null)),(e()(),t.zb(2,0,null,null,12,"form",[["class","multisteps-form__form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,n,l){var a=!0;return"submit"===n&&(a=!1!==t.Jb(e,4).onSubmit(l)&&a),"reset"===n&&(a=!1!==t.Jb(e,4).onReset()&&a),a}),null,null)),t.yb(3,16384,null,0,a.I,[],null,null),t.yb(4,540672,null,0,a.l,[[8,null],[8,null]],{form:[0,"form"]},null),t.Ob(2048,null,a.c,null,[a.l]),t.yb(6,16384,null,0,a.t,[[4,a.c]],null,null),(e()(),t.zb(7,0,null,null,7,"div",[["class","multisteps-form__panel js-active"],["data-animation","scaleIn"]],null,null,null,null,null)),(e()(),t.zb(8,0,null,null,3,"h4",[["class","banner-con"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,["Document upload "])),(e()(),t.zb(10,0,null,null,1,"span",[["class","float-right"]],null,null,null,null,null)),(e()(),t.Rb(11,null,["",""])),(e()(),t.zb(12,0,null,null,2,"div",[["class","panel-group"],["id","accordion"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,W)),t.yb(14,278528,null,0,r.l,[t.W,t.T,t.w],{ngForOf:[0,"ngForOf"]},null),(e()(),t.zb(15,0,null,null,11,"div",[["class","btn-sec clear-both row"]],null,null,null,null,null)),(e()(),t.zb(16,0,null,null,2,"div",[["class","col-sm-5"]],null,null,null,null,null)),(e()(),t.ob(16777216,null,null,1,null,G)),t.yb(18,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.zb(19,0,null,null,7,"div",[["class","col-sm-7 text-right"]],null,null,null,null,null)),(e()(),t.zb(20,0,null,null,1,"button",[["class","btn btn-primary js-btn-prev dash_href hvr-sweep-to-left"],["type","button"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.navigateBack()&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Back "])),(e()(),t.ob(16777216,null,null,1,null,B)),t.yb(23,16384,null,0,r.m,[t.W,t.T],{ngIf:[0,"ngIf"]},null),(e()(),t.zb(24,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t.zb(25,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t.zb(26,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t.zb(27,0,null,null,1,"app-upload-modal",[],null,[[null,"close"],[null,"uploadSuccess"]],(function(e,n,l){var t=!0,a=e.component;return"close"===n&&(t=0!=(a.showModal=!1)&&t),"uploadSuccess"===n&&(t=!1!==a.onUploadSuccess(l)&&t),t}),g.b,g.a)),t.yb(28,49152,null,0,h.a,[f.a,v.a,I.a,y.a,D.b],{showModal:[0,"showModal"],docsDetails:[1,"docsDetails"]},{close:"close",uploadSuccess:"uploadSuccess"}),(e()(),t.zb(29,0,null,null,14,"div",[["class","modal"],["id","myModal"]],null,null,null,null,null)),t.Ob(512,null,r.C,r.D,[t.w,t.x,t.n,t.L]),t.yb(31,278528,null,0,r.k,[r.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Mb(32,{"dis-block":0}),(e()(),t.zb(33,0,null,null,10,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),t.zb(34,0,null,null,9,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),t.zb(35,0,null,null,1,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),t.zb(36,0,null,null,0,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),t.zb(37,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),t.Rb(-1,null,[" Are you Sure Want to Delete? "])),(e()(),t.zb(39,0,null,null,4,"div",[["class","modal-footer text-center"]],null,null,null,null,null)),(e()(),t.zb(40,0,null,null,1,"button",[["class","btn btn-success"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.deleteDocument()&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Yes "])),(e()(),t.zb(42,0,null,null,1,"button",[["class","btn btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,n,l){var t=!0;return"click"===n&&(t=!1!==(e.component.selectedDocsId=null)&&t),t}),null,null)),(e()(),t.Rb(-1,null,[" Cancel "]))],(function(e,n){var l=n.component;e(n,4,0,l.uploadForm),e(n,14,0,l.subCategories),e(n,18,0,l.isApplicantDetails),e(n,23,0,!l.isLoan360),e(n,28,0,l.showModal,l.selectedDocDetails);var t=e(n,32,0,!!l.selectedDocsId);e(n,31,0,"modal",t)}),(function(e,n){var l=n.component;e(n,2,0,t.Jb(n,6).ngClassUntouched,t.Jb(n,6).ngClassTouched,t.Jb(n,6).ngClassPristine,t.Jb(n,6).ngClassDirty,t.Jb(n,6).ngClassValid,t.Jb(n,6).ngClassInvalid,t.Jb(n,6).ngClassPending),e(n,11,0,l.udfScreenId)}))}},e1tg:function(e,n,l){"use strict";l.d(n,"a",(function(){return c}));var t=l("N+K7"),a=l("AytR"),r=l("H+bZ"),o=l("V+VW"),u=l("eLB9"),i=l("8Y7J"),c=function(){var e=function(){function e(n,l,t,a){_classCallCheck(this,e),this.httpService=n,this.apiService=l,this.createLeadDataService=t,this.leadStoreService=a,this.applicantList=this.apiService.api.getApplicantList,this.applicantDetail=this.apiService.api.getApplicantDetail,this.saveUpdateApplicant=this.apiService.api.saveUpdateApplicant,this.softDeleteDetail=this.apiService.api.softDeleteApplicant,this.geoMasterService=this.apiService.api.geoMasterService,this.applicantDedupe=this.apiService.api.salesApplicantDedupe,this.applicantUcic=this.apiService.api.salesApplicantUcic,this.countryList=this.apiService.api.getCountryList,this.addressDetails=this.apiService.api.getAddressDetails,this.panValidation=this.apiService.api.wrapperPanValidation,this.biometriceKYC=this.apiService.api.wrapperBiometriceKYC,this.retrieveAadharData=this.apiService.api.retrieveAadharData,this.validateSRNumber=this.apiService.api.validateSRNumber,this.eKYCDetails=this.apiService.api.eKYCDetails,this.applicantReferenceData=this.apiService.api.applicantReference,this.getApplicantReferenceData=this.apiService.api.getApplicantReference}return _createClass(e,[{key:"getApplicantList",value:function(e){var n=a.a.projectIds.salesProjectId,l=this.applicantList.processId,t=this.applicantList.workflowId,r=localStorage.getItem("userId"),o=(this.createLeadDataService.getLeadSectionData(),{projectId:n,processId:l,workflowId:t,ProcessVariables:Object.assign({},e,{userId:r})});return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"getApplicantDetail",value:function(e){var n=a.a.projectIds.salesProjectId,l=this.applicantDetail.processId,t=this.applicantDetail.workflowId,r=localStorage.getItem("userId"),o={projectId:n,processId:l,workflowId:t,ProcessVariables:Object.assign({},e,{userId:r})};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"saveApplicant",value:function(e){var n=a.a.projectIds.salesProjectId,l=this.saveUpdateApplicant.processId,t=this.saveUpdateApplicant.workflowId,r=(localStorage.getItem("email"),localStorage.getItem("userId")),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({userId:r},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"softDeleteApplicant",value:function(e){var n=this.softDeleteDetail.projectId,l=this.softDeleteDetail.processId,t=this.softDeleteDetail.workflowId,r=(localStorage.getItem("email"),localStorage.getItem("userId")),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({userId:r},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"getGeoMasterValue",value:function(e){var n=this.geoMasterService.projectId,l=this.geoMasterService.processId,t=this.geoMasterService.workflowId,r=localStorage.getItem("userId"),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({userId:r},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"checkSalesApplicantDedupe",value:function(e){var n=this.applicantDedupe.projectId,l=this.applicantDedupe.processId,t=this.applicantDedupe.workflowId,r=localStorage.getItem("userId"),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({},e,{userId:r})};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"checkSalesApplicantUcic",value:function(e){var n=this.applicantUcic.projectId,l=this.applicantUcic.processId,t=this.applicantUcic.workflowId,r=localStorage.getItem("userId"),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({},e,{userId:r})};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"getCountryList",value:function(){var e=this.countryList.projectId,n=this.countryList.processId,l=this.countryList.workflowId,t=localStorage.getItem("userId");return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(l,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(e),{processId:n,workflowId:l,projectId:e,ProcessVariables:{userId:t}})}},{key:"applicantNLUpdatingRemarks",value:function(e){var n=this.apiService.api.nlUpdatingRemarks,l=n.projectId,t=n.processId,r=n.workflowId,o=localStorage.getItem("userId"),u={processId:t,workflowId:r,projectId:l,ProcessVariables:Object.assign({},e,{userId:o})};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(l),u)}},{key:"applicantNegativeListWrapper",value:function(e){var n=this.apiService.api.negativeListWrapper,l=n.projectId,t=n.processId,r=n.workflowId,o=localStorage.getItem("userId"),u={processId:t,workflowId:r,projectId:l,ProcessVariables:Object.assign({userId:o},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(l),u)}},{key:"getAddressDetails",value:function(e){var n=this.addressDetails.projectId,l=this.addressDetails.processId,t=this.addressDetails.workflowId,r=localStorage.getItem("userId"),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({},e,{userId:r})};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"wrapperPanValidaion",value:function(e){var n=this.panValidation.projectId,l=this.panValidation.processId,t=this.panValidation.workflowId,r=localStorage.getItem("userId"),o={processId:l,workflowId:t,projectId:n,ProcessVariables:Object.assign({userId:r},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"getDocumentCategory",value:function(e){var n=this.apiService.api.getDocumentCategory,l=n.projectId,t=n.processId,r=n.workflowId,o=localStorage.getItem("userId"),u={processId:t,workflowId:r,projectId:l,ProcessVariables:Object.assign({userId:o},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(l),u)}},{key:"uploadPhotoOrSignature",value:function(e){var n=this.apiService.api.uploadPhotoOrSignature,l=n.projectId,t=n.processId,r=n.workflowId,o=localStorage.getItem("userId"),u={processId:t,workflowId:r,projectId:l,ProcessVariables:Object.assign({userId:o},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(l),u)}},{key:"wrapperBiometriceKYC",value:function(e,n){var l=this.biometriceKYC.projectId,t=this.biometriceKYC.processId,r=this.biometriceKYC.workflowId,o=localStorage.getItem("userId"),u={processId:t,workflowId:r,projectId:l,ProcessVariables:Object.assign({applicantId:n},e,{userId:o})},i="".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(l);return console.log("Biometric Body"+u),console.log("URL"+i),this.httpService.post(i,u)}},{key:"retreiveAdhar",value:function(e){var n=this.retrieveAadharData.projectId,l=this.retrieveAadharData.processId,t=this.retrieveAadharData.workflowId,r=localStorage.getItem("userId");return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),{processId:l,workflowId:t,projectId:n,ProcessVariables:{userId:r,referenceNo:e}})}},{key:"validateSRNumberModification",value:function(e){var n=this.validateSRNumber.projectId,l=this.validateSRNumber.processId,t=this.validateSRNumber.workflowId,r=localStorage.getItem("userId"),o={processId:l,projectId:n,ProcessVariables:Object.assign({userId:r},e)};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(t,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),o)}},{key:"geteKYCDetails",value:function(e){var n=this.eKYCDetails.projectId,l=this.eKYCDetails.processId;return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(l,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(n),{processId:l,ProcessVariables:{applicantID:e},projectId:n})}},{key:"saveUpdateApplicantReference",value:function(e,n,l){var t=this.applicantReferenceData.projectId,r=this.applicantReferenceData.workflowId,o={processId:this.applicantReferenceData.processId,workflowId:r,projectId:t,ProcessVariables:{userId:localStorage.getItem("userId"),lead_id:e,applicantReferences:_toConsumableArray(n),udfDetails:[l]}};return this.httpService.post("".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(t),o)}},{key:"getApplicantReference",value:function(e,n){var l=this.getApplicantReferenceData.projectId,t=this.getApplicantReferenceData.processId,r=this.getApplicantReferenceData.workflowId;return localStorage.getItem("userId"),this.httpService.post("".concat(a.a.host,"d/workflows/").concat(r,"/").concat(a.a.apiVersion.api,"execute?projectId=").concat(l),{processId:t,workflowId:r,projectId:l,ProcessVariables:{leadId:e,udfDetails:[n]}})}}]),e}();return e.ngInjectableDef=i.Vb({factory:function(){return new e(i.Zb(t.a),i.Zb(r.a),i.Zb(o.a),i.Zb(u.a))},token:e,providedIn:"root"}),e}()},eLB9:function(e,n,l){"use strict";l.d(n,"a",(function(){return a}));var t=l("8Y7J"),a=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setLeadId",value:function(e){this.leadId=e}},{key:"getLeadId",value:function(){return this.leadId}}]),e}();return e.ngInjectableDef=t.Vb({factory:function(){return new e},token:e,providedIn:"root"}),e}()}}]);